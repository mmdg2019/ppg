<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_stock_transfer_info">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Stock Transfer Information by Date
                                            
                                            <t t-if="filter_post_stock=='cancel'">(Cancelled)</t>
                                            <t t-elif="filter_post_stock=='done'">(Done)</t>
                                            <t t-elif="filter_post_stock=='draft'">(Draft)</t>
                                            <t t-elif="filter_post_stock=='assigned'">(Ready)</t>
                                            <t t-elif="filter_post_stock=='confirmed'">(Waiting)</t>
                                            <t t-elif="filter_post_stock=='waiting'">(Waiting Another Operation)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Shipping Date</span>
                                    </th>
                                    <th>
                                        <span>Invoice No.</span>
                                    </th>
                                    <th>
                                        <span>Product Code</span>
                                    </th>
                                    <th>
                                        <span>From Location</span>
                                    </th>
                                    <th>
                                        <span>To Location</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Demand</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Done</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th>
                                        <span>Status</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <t t-set="ttl" t-value="0"/>
                                <t t-foreach="docs.sorted(key=lambda x: (x.scheduled_date.date(),x.partner_id.display_name),reverse=False)" t-as="doc">
                                    <tbody>
                                        <t t-foreach="doc.move_lines.filtered(lambda x: x.product_uom_qty)" t-as="table_line" t-if="table_line.name != &quot;Special Discount&quot; and table_line.name != &quot;Other Charges&quot; and table_line.product_uom_qty > 0">
                                            <tr>
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-esc="context_timestamp(doc.scheduled_date).strftime('%d/%m/%Y')"/>
                                                    </t>
                                                </td>
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-field="doc.display_name"/>
                                                    </t>
                                                </td>
                                                <td>
                                                    <span t-field="table_line.product_id"/>
                                                </td>
                                                <td>
                                                    <t t-if="doc.picking_type_code=='incoming'">
                                                        <span t-field="doc.partner_id.display_name"/>
                                                    </t>
                                                    <t t-else="">
                                                        <span t-field="table_line.location_id.display_name"/>
                                                    </t>
                                                </td>
                                                <td>
                                                    <t t-if="doc.picking_type_code=='outgoing'">
                                                        <span t-field="doc.partner_id.display_name"/>
                                                    </t>
                                                    <t t-else="">
                                                        <span t-field="table_line.location_dest_id.display_name"/>
                                                    </t>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.product_uom_qty"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-if="doc.state!='done'"> - </span>
                                                    <span t-if="doc.state=='done'" t-field="table_line.quantity_done"/>
                                                </td>
                                                <td style="text-align:center;">
                                                    <span t-field="table_line.product_uom"/>
                                                </td>
                                                <td>
                                                    <span t-field="doc.state"/>
                                                </td>
                                            </tr>
                                        </t>
                                    </tbody>
                                </t>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>

    <!-- tto -->
	<template id="report_factory_stock_transfer">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span> Factory Stock Transfer Report
                                                
                                            <t t-if="filter_post_stock=='cancel'">(Cancelled)</t>
                                            <t t-elif="filter_post_stock=='done'">(Done)</t>
                                            <t t-elif="filter_post_stock=='draft'">(Draft)</t>
                                            <t t-elif="filter_post_stock=='assigned'">(Ready)</t>
                                            <t t-elif="filter_post_stock=='confirmed'">(Waiting)</t>
                                            <t t-elif="filter_post_stock=='waiting'">(Waiting Another Operation)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Shipping Date</span>
                                    </th>
                                    <th>
                                        <span>Invoice No.</span>
                                    </th>
                                    <th>
                                        <span>Product Code</span>
                                    </th>
                                    <th>
                                        <span>From Location</span>
                                    </th>
                                    <th>
                                        <span>To Location</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Demand</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Done</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th>
                                        <span>Status</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <t t-foreach="docs.sorted(key=lambda x: (x.scheduled_date.date(),x.partner_id.display_name), reverse=False)" t-as="doc">
                                    <tbody>
                                        <t t-foreach="doc.move_lines.filtered(lambda x: x.product_uom_qty)" t-as="table_line" t-if="table_line.name != &quot;Special Discount&quot; and table_line.name != &quot;Other Charges&quot; and table_line.product_uom_qty > 0">
                                            <tr>
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-esc="context_timestamp(doc.scheduled_date).strftime('%m/%d/%Y')"/>
                                                    </t>
                                                </td>
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-field="doc.display_name"/>
                                                    </t>
                                                </td>
                                                <td>
                                                    <span t-field="table_line.product_id"/>
                                                </td>
                                                <td>
                                                    <t t-if="doc.picking_type_code=='incoming'">
                                                        <span t-field="doc.partner_id.display_name"/>
                                                    </t>
                                                    <t t-else="">
                                                        <span t-field="table_line.location_id.display_name"/>
                                                    </t>
                                                </td>
                                                <td>
                                                    <t t-if="doc.picking_type_code=='outgoing'">
                                                        <span t-field="doc.partner_id.display_name"/>
                                                    </t>
                                                    <t t-else="">
                                                        <span t-field="table_line.location_dest_id.display_name"/>
                                                    </t>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.product_uom_qty"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-if="doc.state!='done'"> - </span>
                                                    <span t-if="doc.state=='done'" t-field="table_line.quantity_done"/>
                                                </td>
                                                <td style="text-align:center;">
                                                    <span t-field="table_line.product_uom"/>
                                                </td>
                                                <td>
                                                    <span t-field="doc.state"/>
                                                </td>
                                            </tr>
                                        </t>
                                    </tbody>
                                </t>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
	</template>

    <template id="report_stock_trans_prod_qty_list_by_date">
		<t t-call="web.html_container">
			<html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
				<head>
					<meta charset="utf-8"/>
					<meta name="viewport" content="initial-scale=1"/>
					<title>
						<t t-esc="title or 'Odoo Report'"/>
					</title>
					<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
					<link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
					<t t-call-assets="web.report_assets_common" t-js="false"/>
					<t t-call-assets="web.assets_common" t-css="false"/>
					<t t-call-assets="web.report_assets_common" t-css="false"/>
					<t t-if="studio" t-call-assets="web_studio.report_assets"/>
					<t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
					<t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
				</head>
				<body>
					<div class="container-fluid" id="wrapwrap">
						<div class="row" style="text-align:center;">
							<div class="col">
								<b>
									<font style="font-size: 20px;">
										<span t-esc="env.company.name"/>
									</font>
								</b>
							</div>
						</div>
						<br/>
                        <t t-if='lst'>
                            <t t-foreach="lst" t-as="prod">
                                <div class="row" style="text-align:center; line-height: 30px;">
                                    <div class="col">
                                        <b>
                                            <font style="font-size: 20px;">
                                                <span> Stock Transfer Product Quantity Listing: Date Between
                                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                                    And
                                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                                </span>
                                            </font>
                                        </b>
                                    </div>
                                </div>
                                <div t-if="customers" class="row" style="text-align:center; line-height: 30px;">
							        <div class="col">
                                        <font style="font-size: 20px;">
								            <span><b>Customer : </b>
									            <span t-esc="', '.join(customers.mapped('display_name'))"/>
								            </span>
                                        </font>
							        </div>
						        </div>
                                <div class="row" style="text-align:center; line-height: 30px;">
                                    <div class="col">
                                        <font style="font-size: 20px;">
                                            <span><b>Product :</b>
                                                <t t-esc="prod['product'].display_name"/>
                                            </span>
                                        </font>
                                    </div>
                                </div>
                                <div class="row" style="text-align:center; line-height: 30px;">
                                    <div class="col">
                                        <font style="font-size: 20px;">
                                            <span><b>Date :</b>
                                                <t t-esc="printing_date"/>
                                                <span style ="margin-left: 20px;"><b>Time :</b></span>
                                                <t t-esc="printing_time"/>
                                            </span>
                                        </font>
                                    </div>
                                </div>
                                <div class="row" style="text-align:center; line-height: 30px;">
                                    <div class="col">
                                        <font style="font-size: 20px;">
                                            <span><b>Status :</b>                                            
                                                <t t-if="filter_post_stock=='cancel'">Cancelled</t>
                                                <t t-elif="filter_post_stock=='done'">Done</t>
                                                <t t-elif="filter_post_stock=='draft'">Draft</t>
                                                <t t-elif="filter_post_stock=='assigned'">Ready</t>
                                                <t t-elif="filter_post_stock=='confirmed'">Waiting</t>
                                                <t t-elif="filter_post_stock=='waiting'">Waiting Another Operation</t>
                                            </span>
                                        </font>                    
                                    </div>
                                </div>
                                <br/>
                                <table class="table table-sm o_report_block_table" style="padding: 0.5em; width: 75%; margin: auto;">
                                    <thead>
                                        <tr>
                                            <th style="text-align:left;">
                                                <span>Scheduled Date</span>
                                            </th>
                                            <th style="text-align:center;">
                                                <span>Stock Picking No.</span>
                                            </th>                      
                                            <th style="text-align:right;">
                                                <span>Demand Quantity</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span>Done Quantity</span>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <t t-foreach="prod['qty_per_date']" t-as="item">
                                                <tr>
                                                    <td style="text-align:left;">
                                                        <span t-esc="item['date']"/>
                                                    </td>
                                                    <td style="text-align:center;">
                                                        <t t-foreach="item['qty_per_doc']" t-as="stock_picking_doc">
                                                            <span t-esc="stock_picking_doc['stock_picking_no']"/>
                                                            <br/>
                                                        </t>
                                                    </td>
                                                    <td style="text-align:right;">
                                                        <t t-foreach="item['qty_per_doc']" t-as="stock_picking_doc">
                                                            <span t-esc="'{0:,.2f}'.format(stock_picking_doc['demand_qty'])"/>
                                                            <br/>
                                                        </t>
                                                    </td>
                                                    <td style="text-align:right;">
                                                        <t t-foreach="item['qty_per_doc']" t-as="stock_picking_doc">
                                                            <span t-esc="'{0:,.2f}'.format(stock_picking_doc['done_qty'])"/>
                                                            <br/>
                                                        </t>
                                                    </td>
                                                </tr>
                                                <tr style="background-color: #f2f2f2;">
                                                    <td colspan="2" style="text-align:left;">
                                                        <span>Sub Total</span>
                                                    </td>
                                                    <td style="text-align:right;">
                                                        <span t-esc="'{0:,.2f}'.format(item['sub_total_demand'])"/>
                                                        <br/>
                                                    </td>
                                                    <td style="text-align:right;">
                                                        <span t-esc="'{0:,.2f}'.format(item['sub_total_done'])"/>
                                                        <br/>
                                                    </td>
                                                </tr>
                                            </t>
                                        </tr>
                                        <tr style="border-bottom:1px solid black;">
                                            <th colspan="2" style="text-align:left; border-top:1px solid black;">
                                                <span>Grand Total</span>
                                            </th>
                                            <th style="text-align:right; border-top:1px solid black;">
                                                <span t-esc="'{0:,.2f}'.format(prod['grand_total_demand'])"/>
                                                <br/>
                                            </th>
                                            <th style="text-align:right; border-top:1px solid black;">
                                                <span t-esc="'{0:,.2f}'.format(prod['grand_total_done'])"/>
                                                <br/>
                                            </th>
                                        </tr>
                                    </tbody>
                                </table>
                                <br/><br/><br/>
                            </t>
                        </t>
                        <t t-else="">
                            <table class="table table-sm o_report_block_table" style="padding: 0.5em;">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </t>					
                    </div>
				    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
				    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
				    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
			    </body>
			</html>
		</t>
	</template>

    <template id="report_stock_transfer_dtl_info">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Stock Transfer Information Summary
                                            
                                            <t t-if="filter_post_stock=='cancel'">(Cancelled)</t>
                                            <t t-elif="filter_post_stock=='done'">(Done)</t>
                                            <t t-elif="filter_post_stock=='draft'">(Draft)</t>
                                            <t t-elif="filter_post_stock=='assigned'">(Ready)</t>
                                            <t t-elif="filter_post_stock=='confirmed'">(Waiting)</t>
                                            <t t-elif="filter_post_stock=='waiting'">(Waiting Another Operation)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <div t-if="customers" class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <t t-foreach="sorted(customers,key=lambda x: x.display_name,reverse=False)" t-as="customer">
                                    <span t-if="customer_first">
                                        <b>Customer From : </b>
                                        <t t-esc="customer.display_name"/>
                                    </span>
                                    <span t-if="customer_last">
                                        <b>To : </b>
                                        <t t-esc="customer.display_name"/>
                                    </span>
                                </t>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Product Code</span>
                                    </th>
                                    <th>
                                        <span>From Location</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Demand</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Done</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <t t-foreach="docs" t-as="temp">
                                    <tr>
                                        <td>
                                            <span t-field="temp['product'].display_name"/>
                                        </td>
                                        <td>
                                            <span t-field="temp['location'].display_name"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-esc="'{0:,.2f}'.format(temp['ttl_demand'])"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-esc="'{0:,.2f}'.format(temp['ttl_done'])"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-esc="temp['product'].uom_name"/>
                                        </td>
                                    </tr>
                                </t>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_stock_analysis_by_date_and_cust">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Stock Analysis By Date And Customer</span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Item Name</span>
                                    </th>
                                    <th t-if="cats">
                                        <span>Invoice Category</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>Unit of Measure (UoM)</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <tbody>
                                    <t t-if="cats">
                                        <t t-set="sub_ttl" t-value="0"/>
                                        <t t-set="i_name" t-value=""/>
                                        <t t-foreach="custs" t-as="cust">
                                            <t t-set="sub_lst" t-value="[]"/>
                                            <t t-foreach="sorted(items, key=lambda x: x.default_code)" t-as="item">
                                                <t t-foreach="cats" t-as="category">
                                                    
                                                    <t t-set="sub_ttl" t-value="0"/>
                                                    <t t-set="cat" t-value=""/>
                                                    <t t-foreach="docs.filtered(lambda x:x.partner_id == cust and x.x_studio_invoice_category == category).sorted(key=lambda x: (x.partner_id.display_name),reverse=False)" t-as="doc">
                                                        <t t-foreach="doc.invoice_line_ids.filtered(lambda x:x.product_id == item)" t-as="table_line">
                                                            <t t-if="table_line.product_uom_id.display_name != 'Units'" t-set="sub_ttl" t-value="sub_ttl + (table_line.quantity * table_line.product_uom_id.factor_inv)"/>
                                                            <t t-else="" t-set="sub_ttl" t-value="sub_ttl + table_line.quantity"/>
                                                            <t t-set="cat" t-value="doc.x_studio_invoice_category"/>
                                                            <t t-set="i_name" t-value="table_line.product_id"/></t>
                                                    </t>
                                                    <t t-if="sub_ttl>0">
                                                        <t t-esc="sub_lst.append({'item':i_name, 'category':cat, 'ttl':sub_ttl})"/>
                                                    </t>
                                                </t>
                                            </t>
                                            <t t-foreach="sub_lst" t-as="item">
                                                <tr t-if="item_first">
                                                    <th colspan="4" style="text-align:left;">
                                                        <span t-esc="cust.display_name"/>
                                                    </th>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <span t-field="item['item'].display_name"/>
                                                    </td>
                                                    <td>
                                                        <span t-esc="item['category'].display_name"/>
                                                    </td>
                                                    <td style="text-align:right;">
                                                        <span t-esc="round((item['ttl'] / item['item'].uom_id.factor_inv),2)"/>
                                                    </td>
                                                    <td style="text-align:center;">
                                                        <span t-esc="item['item'].uom_id.display_name"/>
                                                    </td>
                                                </tr>
                                            </t>
                                        </t>
                                    </t>
                                    <t t-else="">
                                        <t t-set="sub_ttl" t-value="0"/>
                                        <t t-set="i_name" t-value=""/>
                                        <t t-foreach="custs" t-as="cust">
                                            
                                            <t t-set="sub_lst" t-value="[]"/>
                                            <t t-foreach="sorted(items, key=lambda x: x.default_code)" t-as="item">
                                                <t t-set="sub_ttl" t-value="0"/>
                                                <t t-set="i_name" t-value=""/>
                                                <t t-foreach="docs.filtered(lambda x:x.partner_id == cust).sorted(key=lambda x: x.partner_id.display_name)" t-as="doc">
                                                    <t t-foreach="doc.invoice_line_ids.filtered(lambda x:x.product_id == item)" t-as="table_line">
                                                        <t t-if="table_line.product_uom_id.display_name != 'Units'" t-set="sub_ttl" t-value="sub_ttl + (table_line.quantity * table_line.product_uom_id.factor_inv)"/>
                                                        <t t-else="" t-set="sub_ttl" t-value="sub_ttl + table_line.quantity"/>
                                                        <t t-set="i_name" t-value="table_line.product_id"/></t>
                                                </t>
                                                <t t-if="sub_ttl>0">
                                                    <t t-esc="sub_lst.append({'item':i_name,'ttl':sub_ttl})"/>
                                                </t>
                                            </t>
                                            <t t-foreach="sub_lst" t-as="item">
                                                <tr t-if="item_first">
                                                    <th colspan="3" style="text-align:left;">
                                                        <span t-esc="cust.display_name"/>
                                                    </th>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <span t-field="item['item'].display_name"/>
                                                    </td>
                                                    <td style="text-align:right;">
                                                        <span t-esc="round((item['ttl']/ item['item'].uom_id.factor_inv),2)"/>
                                                    </td>
                                                    <td style="text-align:center;">
                                                        <span t-esc="item['item'].uom_id.display_name"/>
                                                    </td>
                                                </tr>
                                            </t>
                                        </t>
                                    </t>
                                </tbody>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_monthly_stock_analysis_report">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Monthly Stock Analysis Report</span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(s_month+'/'+s_year, '%m/%Y').strftime('%b/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(e_month+'/'+e_year, '%m/%Y').strftime('%b/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th style="width:40%">
                                        <span>Item Name</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>Unit of Measure (UoM)</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="lst">
                                <t t-foreach="lst" t-as="line">
                                    <tbody>
                                        <tr>
                                            <td style="width:40%">
                                                <t>
                                                    <span t-esc="line['name'].display_name"/>
                                                </t>
                                            </td>
                                            <td style="text-align:right;">
                                                <t>
                                                    <span t-esc="line['qty']"/>
                                                </t>
                                            </td>
                                            <td style="text-align:center;">
                                                <t>
                                                    <span t-esc="line['name'].uom_id.display_name"/>
                                                </t>
                                            </td>
                                        </tr>
                                    </tbody>
                                </t>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    
    <!-- tto -->
	<template id="report_stock_analysis_by_month_col">
		<t t-call="web.html_container">
			<html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
				<head>
						<meta charset="utf-8"/>
						<meta name="viewport" content="initial-scale=1"/>
						<title>
								<t t-esc="title or 'Odoo Report'"/>
						</title>
						<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
						<link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
						<t t-call-assets="web.report_assets_common" t-js="false"/>
						<t t-call-assets="web.assets_common" t-css="false"/>
						<t t-call-assets="web.report_assets_common" t-css="false"/>
						<t t-if="studio" t-call-assets="web_studio.report_assets"/>
						<t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
						<t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
				</head>
				<body>
						<div class="container-fluid" id="wrapwrap">
								<div class="row" style="text-align:center;">
										<div class="col">
												<b>
														<font style="font-size: 30px;">
																<span t-esc="env.company.name"/>
														</font>
												</b>
										</div>
								</div>
								<div class="row" style="text-align:center;">
										<div class="col">
												<b>
														<font style="font-size: 24px;">
																<span>Stock Analysis by Month with Colors</span>
														</font>
												</b>
										</div>
								</div>
								<br/>
								<div class="row" style="text-align:center; font-size: 20px;">
										<div class="col">
												<span>
														<b>Date From : </b>
														<t t-esc="datetime.datetime.strptime(s_month+'/'+s_year, '%m/%Y').strftime('%b/%Y')"/>
												</span>
												<span>
														<b>To : </b>
														<t t-esc="datetime.datetime.strptime(e_month+'/'+e_year, '%m/%Y').strftime('%b/%Y')"/>
												</span>
										</div>
								</div>
								<br/>
								<table class="table table-sm o_report_block_table" style="padding: 0.5em">
									<tbody>
										<tr>
											<td style="text-align:center;color:red;">
												<span> (+) Quantity > 50% </span>
											</td>
											<td style="text-align:center;color:orange;">
												<span> 20% &lt; (+) Quantity &lt; 30%</span>
											</td>
											<td style="text-align:center;color:green;">
												<span> (+) Quantity &lt; 20%</span>
											</td>
											<td style="text-align:center;color:purple;">
												<span> (-) Quantity &lt; 20%</span>
											</td>
											<td style="text-align:center;color:grey;">
												<span> 20% &lt; (-) Quantity &lt; 30%</span>
											</td>
											<td style="text-align:center;color:blue;">
												<span> (-) Quantity > 50% </span>
											</td>
										</tr>
									</tbody>
								</table>
								<table class="table table-sm o_report_block_table" style="padding: 0.5em">
									<thead>
										<tr style="vertical-align: middle;">
											<th>
												<span>Item Name</span>
											</th>
											<th style="text-align:center;">
												<span>Unit of Measure (UoM)</span>
											</th>
											<t t-foreach="dates" t-as="date">
												<th style="text-align:right;">
													<span t-esc="date.strftime('%b-%Y')"/>
												</th>
											</t>
											<th style="text-align:right;">
												<span>Total</span>
											</th>
										</tr>
									</thead>
									<t t-if="lst">
										<tbody>
											<t t-foreach="lst" t-as="item">
												<tr>
													<td>
														<t>
															<span t-field="item['name'].display_name"/>
														</t>
													</td>											
													<td style="text-align:center;">
														<t>
															<span t-esc="item['name'].uom_id.display_name"/>
														</t>
													</td>
													<t t-set="first_qty" t-value="0"/>
													<t t-set="set_first_qty" t-value="False"/>
													<t t-foreach="item['qty']" t-as="recqty">
														<t t-if="recqty['qtybydate'] > 0 and set_first_qty == False">
															<t t-set="set_first_qty" t-value="True"/>
															<t t-set="first_qty" t-value="recqty['qtybydate']"/>
														</t>
														<t t-if="set_first_qty == True">
															<t t-if="round((recqty['qtybydate'] - first_qty)/(first_qty or not first_qty), 2) &gt; 0.5">
																<td style="text-align:right;color:red;">
																	<span t-esc="'{0:,.2f}'.format(recqty['qtybydate'])"/><br/>
																	<span t-esc="int(((recqty['qtybydate'] - first_qty)/first_qty) * 100)"/> %
																</td>
															</t>
															<t t-elif="0.3 &gt; round((recqty['qtybydate'] - first_qty)/(first_qty or not first_qty), 2) &gt; 0.2">
																<td style="text-align:right;color:orange;">
																	<span t-esc="'{0:,.2f}'.format(recqty['qtybydate'])"/><br/>
																	<span t-esc="int(((recqty['qtybydate'] - first_qty)/first_qty) * 100)"/> %
																</td>
															</t>
															<t t-elif="round((recqty['qtybydate'] - first_qty)/(first_qty or not first_qty), 2) &lt; -0.5">
																<td style="text-align:right;color:blue;">
																	<span t-esc="'{0:,.2f}'.format(recqty['qtybydate'])"/><br/>
																	<span t-esc="int(((recqty['qtybydate'] - first_qty)/first_qty) * 100)"/> %
																</td>
															</t>
															<t t-elif="-0.2 &gt; round((recqty['qtybydate'] - first_qty)/(first_qty or not first_qty), 2) &gt; -0.3">
																<td style="text-align:right;color:grey;">
																	<span t-esc="'{0:,.2f}'.format(recqty['qtybydate'])"/><br/>
																	<span t-esc="int(((recqty['qtybydate'] - first_qty)/first_qty) * 100)"/> %
																</td>
															</t>
															<t t-elif="0 &gt; round((recqty['qtybydate'] - first_qty)/(first_qty or not first_qty), 2) &gt; -0.2">
																<td style="text-align:right;color:purple;">
																	<span t-esc="'{0:,.2f}'.format(recqty['qtybydate'])"/><br/>
																	<span t-esc="int(((recqty['qtybydate'] - first_qty)/first_qty) * 100)"/> %
																</td>
															</t>
															<t t-elif="0 &lt; round((recqty['qtybydate'] - first_qty)/(first_qty or not first_qty), 2) &lt; 0.2">
																<td style="text-align:right;color:green;">
																	<span t-esc="'{0:,.2f}'.format(recqty['qtybydate'])"/><br/>
																	<span t-esc="int(((recqty['qtybydate'] - first_qty)/first_qty) * 100)"/> %
																</td>
															</t>
															<t t-else="">
																<td style="text-align:right;">
																	<span t-esc="'{0:,.2f}'.format(recqty['qtybydate'])"/><br/>
																	<span t-esc="int(((recqty['qtybydate'] - first_qty)/first_qty) * 100)"/> %
																</td>
															</t>
														</t>
														<t t-else="">
															<td style="text-align:right;">
																<span t-esc="'{0:,.2f}'.format(recqty['qtybydate'])"/><br/>
															</td>
														</t>												
													</t>
													<td style="text-align:right;">
														<span t-esc="'{0:,.2f}'.format(item['total'])" />
													</td>
												</tr>
											</t>
										</tbody>
									</t>
									<t t-else="">
										<tbody>
											<tr>
												<td colspan="100" style="text-align:center; font-size: 20px;">
													<span>
														<b>No Results Found.</b>
													</span>
												</td>
											</tr>
										</tbody>
									</t>
								</table>	
						</div>
						<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
						<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
						<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
				</body>
			</html>
		</t>
	</template>
    
    <template id="report_stock_analysis_by_month_columns">
		<t t-call="web.html_container">
			<html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
				<head>
						<meta charset="utf-8"/>
						<meta name="viewport" content="initial-scale=1"/>
						<title>
								<t t-esc="title or 'Odoo Report'"/>
						</title>
						<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
						<link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
						<t t-call-assets="web.report_assets_common" t-js="false"/>
						<t t-call-assets="web.assets_common" t-css="false"/>
						<t t-call-assets="web.report_assets_common" t-css="false"/>
						<t t-if="studio" t-call-assets="web_studio.report_assets"/>
						<t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
						<t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
				</head>
				<body>
						<div class="container-fluid" id="wrapwrap">
								<div class="row" style="text-align:center;">
										<div class="col">
												<b>
														<font style="font-size: 30px;">
																<span t-esc="env.company.name"/>
														</font>
												</b>
										</div>
								</div>
								<div class="row" style="text-align:center;">
										<div class="col">
												<b>
														<font style="font-size: 24px;">
																<span>Stock Analysis by Month Columns</span>
														</font>
												</b>
										</div>
								</div>
								<br/>
                                <div class="row" style="text-align:center; font-size: 20px;">
                                        <div class="col">
                                                <span>
                                                        <t t-if="state">
                                                                <b>State : </b>
                                                                <t t-esc="state"/>                                        
                                                        </t>                                    
                                                </span>
                                        </div>
                                </div>
                                <br/>
                                <div class="row" style="text-align:center; font-size: 20px;">
                                        <div class="col">
                                                <span>
                                                        <t t-if="product_cats_ids">
                                                            <b>Invoice Category : </b>
                                                            <t t-foreach="product_cats_ids" t-as="cat">
                                                                    <span t-esc="cat.display_name" /><t t-if="not cat_last">, </t>
                                                            </t>
                                                        </t>                                    
                                                </span>
                                        </div>
                                </div>
                                <br/>
								<div class="row" style="text-align:center; font-size: 20px;">
										<div class="col">
												<span>
														<b>Date From : </b>
														<t t-esc="datetime.datetime.strptime(s_month+'/'+s_year, '%m/%Y').strftime('%b/%Y')"/>
												</span>
												<span>
														<b>To : </b>
														<t t-esc="datetime.datetime.strptime(e_month+'/'+e_year, '%m/%Y').strftime('%b/%Y')"/>
												</span>
										</div>
								</div>
								<br/>
								<table class="table table-sm o_report_block_table" style="padding: 0.5em">
									<thead>
										<tr style="vertical-align: middle;">
											<th>
												<span>Item Name</span>
											</th>
											<!-- <th style="text-align:center;">
												<span>Unit of Measure (UoM)</span>
											</th> -->
											<t t-foreach="dates" t-as="date">
												<th style="text-align:right;">
													<span t-esc="date.strftime('%b-%Y')"/>
												</th>
											</t>
											<th style="text-align:right;">
												<span>Total</span>
											</th>
										</tr>
									</thead>
									<t t-if="lst">
										<tbody>
											<t t-foreach="lst" t-as="item">
												<tr>
													<td>
														<t>
															<span t-field="item['name'].display_name"/>
														</t>
													</td>											
													<!-- <td style="text-align:center;">
														<t>
															<span t-esc="item['name'].uom_id.display_name"/>
														</t>
													</td> -->
													<t t-foreach="item['qty']" t-as="recqty">
                                                        <td style="text-align:right;">
                                                            <t>
                                                                <span t-esc="'{0:,.2f}'.format(recqty['qtybydate'])"/><br/>
                                                            </t>
                                                        </td>
													</t>
													<td style="text-align:right;">
														<span t-esc="'{0:,.2f}'.format(item['total'])" />
													</td>
												</tr>
											</t>
										</tbody>
									</t>
									<t t-else="">
										<tbody>
											<tr>
												<td colspan="100" style="text-align:center; font-size: 20px;">
													<span>
														<b>No Results Found.</b>
													</span>
												</td>
											</tr>
										</tbody>
									</t>
								</table>	
						</div>
						<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
						<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
						<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
				</body>
			</html>
		</t>
	</template>

    
    <template id="report_stock_analysis_report">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Stock Analysis Report</span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th style="width:40%">
                                        <span>Item Name</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>Unit of Measure (UoM)</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="lst">
                                <t t-foreach="lst" t-as="line">
                                    <tbody>
                                        <tr>
                                            <td style="width:40%">
                                                <t>
                                                    <span t-esc="line['name'].display_name"/>
                                                </t>
                                            </td>
                                            <td style="text-align:right;">
                                                <t>
                                                    <span t-esc="line['qty']"/>
                                                </t>
                                            </td>
                                            <td style="text-align:center;">
                                                <t>
                                                    <span t-esc="line['name'].uom_id.display_name"/>
                                                </t>
                                            </td>
                                        </tr>
                                    </tbody>
                                </t>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_stock_analysis_by_month_and_cust">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Stock Analysis By Month and Customer</span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(s_month+'/'+s_year, '%m/%Y').strftime('%b/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(e_month+'/'+e_year, '%m/%Y').strftime('%b/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <t t-if="country" t-esc="country"></t>
                                <t t-if="state">, 
                                    <t t-esc="state"/></t>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Item Name</span>
                                    </th>
                                    <th>
                                        <span>Invoice Category</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>Unit of Measure (UoM)</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="lst">
                                <tbody>
                                    <t t-foreach="lst" t-as="item">
                                        <tr>
                                            <td>
                                                <t>
                                                    <span t-field="item['name'].display_name"/>
                                                </t>
                                            </td>
                                            <td>
                                                <t>
                                                    <span t-esc="item['cat'].display_name"/>
                                                </t>
                                            </td>
                                            <td style="text-align:right;">
                                                <t>
                                                    <span t-esc="item['qty']"/>
                                                </t>
                                            </td>
                                            <td style="text-align:center;">
                                                <t>
                                                    <span t-esc="item['name'].uom_id.display_name"/>
                                                </t>
                                            </td>
                                        </tr>
                                    </t>
                                </tbody>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    
    <!-- tto -->
	<template id="report_stock_anlys_by_mon_and_cust_col">
		<t t-call="web.html_container">
			<html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
				<head>
					<meta charset="utf-8"/>
					<meta name="viewport" content="initial-scale=1"/>
					<title>
						<t t-esc="title or 'Odoo Report'"/>
					</title>
					<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
					<link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
					<t t-call-assets="web.report_assets_common" t-js="false"/>
					<t t-call-assets="web.assets_common" t-css="false"/>
					<t t-call-assets="web.report_assets_common" t-css="false"/>
					<t t-if="studio" t-call-assets="web_studio.report_assets"/>
					<t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
					<t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
				</head>
				<body >
					<div class="container-fluid" id="wrapwrap">
						<div class="row" style="text-align:center;">
							<div class="col">
								<b>
									<font style="font-size: 30px;">
										<span t-esc="env.company.name"/>
									</font>
								</b>
							</div>
						</div>
						<div class="row" style="text-align:center;">
							<div class="col">
								<b>
									<font style="font-size: 24px;">
										Stock Analysis by Month and Customer with Colors								
										<br/>
									</font>
								</b>
							</div>
						</div>
						<br/>
						<div class="row" style="text-align:center; font-size: 20px;">
							<div class="col">
								<span>
									<b>Date From : </b>
									<t t-esc="datetime.datetime.strptime(s_month+'/'+s_year, '%m/%Y').strftime('%b/%Y')"/>
								</span>
								<span>
									<b>To : </b>
									<t t-esc="datetime.datetime.strptime(e_month+'/'+e_year, '%m/%Y').strftime('%b/%Y')"/>
								</span>
							</div>
						</div>
						<br/>
                        <div t-if="user_ids" class="row" style="text-align:center; font-size: 20px;">
							<div class="col">
								<span>
									<b>Customer : </b>
									<span t-esc="', '.join(user_ids.mapped('display_name'))"/>
								</span>
							</div>
						</div>
						<br/>
						<div t-if="category" class="row" style="text-align:center; font-size: 20px;">
							<div class="col">
								<span>
									<b>Category : </b>
									<span t-esc="', '.join(category.mapped('name'))"/>
								</span>
							</div>
						</div>
						<br/>
						<table class="table table-sm o_report_block_table" style="padding: 0.5em">
							<tbody>
								<tr>
									<td style="text-align:center;color:red;">
										<span> (+) Quantity > 50% </span>
									</td>
									<td style="text-align:center;color:orange;">
										<span> 20% &lt; (+) Quantity &lt; 30%</span>
									</td>
									<td style="text-align:center;color:green;">
										<span> (+) Quantity &lt; 20%</span>
									</td>
									<td style="text-align:center;color:purple;">
										<span> (-) Quantity &lt; 20%</span>
									</td>
									<td style="text-align:center;color:grey;">
										<span> 20% &lt; (-) Quantity &lt; 30%</span>
									</td>
									<td style="text-align:center;color:blue;">
										<span> (-) Quantity > 50% </span>
									</td>
								</tr>
							</tbody>
						</table>
						<table class="table table-sm o_report_block_table" style="padding: 0.5em">
							<thead>
								<tr>
									<th>
										<span>Item Name</span>
									</th>
									<th style="text-align:center;">
										<span>Unit of Measure (UoM)</span>
									</th>
									<t t-foreach="dates" t-as="date">
										<th style="text-align:right;">
											<span t-esc="date.strftime('%b-%Y')"/>
										</th>
									</t>
									<th style="text-align:right;">
										<span>Total</span>
									</th>
								</tr>
							</thead>
							<t t-if="lst">
								<tbody>
									<t t-foreach="lst" t-as="item">
										<tr>
											<td>
												<t>
													<span t-field="item['name'].display_name"/>
												</t>
											</td>											
											<td style="text-align:center;">
												<t>
													<span t-esc="item['name'].uom_id.display_name"/>
												</t>
											</td>
											<t t-set="first_qty" t-value="0"/>
											<t t-set="set_first_qty" t-value="False"/>
											<t t-foreach="item['qty']" t-as="recqty">
												<t t-if="recqty['qtybydate'] > 0 and set_first_qty == False">
													<t t-set="set_first_qty" t-value="True"/>
													<t t-set="first_qty" t-value="recqty['qtybydate']"/>
												</t>
												<t t-if="set_first_qty == True">
													<t t-if="round((recqty['qtybydate'] - first_qty)/(first_qty or not first_qty), 2) &gt; 0.5">
														<td style="text-align:right;color:red;">
															<span t-esc="'{0:,.2f}'.format(recqty['qtybydate'])"/><br/>
															<span t-esc="int(((recqty['qtybydate'] - first_qty)/first_qty) * 100)"/> %
														</td>
													</t>
													<t t-elif="0.3 &gt; round((recqty['qtybydate'] - first_qty)/(first_qty or not first_qty), 2) &gt; 0.2">
														<td style="text-align:right;color:orange;">
															<span t-esc="'{0:,.2f}'.format(recqty['qtybydate'])"/><br/>
															<span t-esc="int(((recqty['qtybydate'] - first_qty)/first_qty) * 100)"/> %
														</td>
													</t>
													<t t-elif="round((recqty['qtybydate'] - first_qty)/(first_qty or not first_qty), 2) &lt; -0.5">
														<td style="text-align:right;color:blue;">
															<span t-esc="'{0:,.2f}'.format(recqty['qtybydate'])"/><br/>
															<span t-esc="int(((recqty['qtybydate'] - first_qty)/first_qty) * 100)"/> %
														</td>
													</t>
													<t t-elif="-0.2 &gt; round((recqty['qtybydate'] - first_qty)/(first_qty or not first_qty), 2) &gt; -0.3">
														<td style="text-align:right;color:grey;">
															<span t-esc="'{0:,.2f}'.format(recqty['qtybydate'])"/><br/>
															<span t-esc="int(((recqty['qtybydate'] - first_qty)/first_qty) * 100)"/> %
														</td>
													</t>
													<t t-elif="0 &gt; round((recqty['qtybydate'] - first_qty)/(first_qty or not first_qty), 2) &gt; -0.2">
														<td style="text-align:right;color:purple;">
															<span t-esc="'{0:,.2f}'.format(recqty['qtybydate'])"/><br/>
															<span t-esc="int(((recqty['qtybydate'] - first_qty)/first_qty) * 100)"/> %
														</td>
													</t>
													<t t-elif="0 &lt; round((recqty['qtybydate'] - first_qty)/(first_qty or not first_qty), 2) &lt; 0.2">
														<td style="text-align:right;color:green;">
															<span t-esc="'{0:,.2f}'.format(recqty['qtybydate'])"/><br/>
															<span t-esc="int(((recqty['qtybydate'] - first_qty)/first_qty) * 100)"/> %
														</td>
													</t>
													<t t-else="">
														<td style="text-align:right;">
															<span t-esc="'{0:,.2f}'.format(recqty['qtybydate'])"/><br/>
															<span t-esc="int(((recqty['qtybydate'] - first_qty)/first_qty) * 100)"/> %
														</td>
													</t>
												</t>
												<t t-else="">
													<td style="text-align:right;">
														<span t-esc="'{0:,.2f}'.format(recqty['qtybydate'])"/><br/>
													</td>
												</t>												
											</t>
											<td style="text-align:right;">
												<span t-esc="'{0:,.2f}'.format(item['total'])" />
											</td>
										</tr>
									</t>
								</tbody>
							</t>
							<t t-else="">
								<tbody>
									<tr>
										<td colspan="100" style="text-align:center; font-size: 20px;">
											<span>
												<b>No Results Found.</b>
											</span>
										</td>
									</tr>
								</tbody>
							</t>
						</table>							
					</div>
					<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
					<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
					<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
				</body>
			</html>
		</t>
	</template>    
    
    
    <template id="report_stock_analysis_by_date">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Stock Analysis By Date</span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Item Name</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>Date</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>Unit of Measure (UoM)</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="lst">
                                <tbody>
                                    <t t-foreach="lst" t-as="line">
                                        <t t-set="sub_qty" value="0"/>
                                        <t t-foreach="line['items']" t-as="item">
                                            <tr>
                                                <td>
                                                    <t>
                                                        <span t-esc="item['name'].display_name"/>
                                                    </t>
                                                </td>
                                                <td style="text-align:center;">
                                                    <t>
                                                        <span t-esc="item['date']"/>
                                                    </t>
                                                </td>
                                                <td style="text-align:right;">
                                                    <t>
                                                        <span t-esc="item['qty']"/>
                                                    </t>
                                                </td>
                                                <td style="text-align:center;">
                                                    <t>
                                                        <span t-esc="item['name'].uom_id.display_name"/>
                                                    </t>
                                                </td>
                                            </tr>
                                        </t>
                                        <tr>
                                            <th></th>
                                            <th style="text-align:center;">
                                                <span>Sub Total</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <t>
                                                    <span t-esc="line['ttl_qty']"/>
                                                </t>
                                            </th>
                                            <th></th>
                                        </tr>
                                    </t>
                                </tbody>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    
    <template id="report_today_stock_analysis">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Today Stock Analysis Report</span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date :</b>
                                    <t t-esc="today_date.strftime('%d/%m/%Y')"/>
                                </span>
                                
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th style="width:50%">
                                        <span>Item Name</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>Unit of Measure (UoM)</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                    <th style="width:10%">
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="lst">
                                <tbody>
                                    <t t-foreach="lst" t-as="line">
                                        <tr>
                                            <td style="width:50%">
                                                <t>
                                                    <span t-esc="line['item'].display_name"/>
                                                </t>
                                            </td>
                                            <td style="text-align:right;">
                                                <t>
                                                    <span t-esc="line['ttl_qty']"/>
                                                </t>
                                            </td>
                                            <td style="text-align:center;">
                                                <t>
                                                    <span t-esc="line['item'].uom_id.display_name"/>
                                                </t>
                                            </td>
                                            <td style="text-align:right;">
                                                <t>
                                                    <span t-esc="round(line['ttl_amt'],2)" t-options="{'widget': 'monetary', 'display_currency': env.company.currency_id}"/>
                                                </t>
                                            </td>
                                            <td style="width:10%">
                                            </td>
                                        </tr>
                                    </t>
                                </tbody>
                                <tfooter>
                                    <tr>
                                        <th colspan="2"></th>
                                        <th>
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <span t-esc="round(sum(temp['ttl_amt'] for temp in lst),2)" t-options="{'widget': 'monetary', 'display_currency': env.company.currency_id}"/>
                                            </span>
                                        </th>
                                        <th style="width:10%"></th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    
    <template id="report_purchase_stock_analysis_by_date">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Purchase Stock Analysis By Date
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <t t-if="user_id">
                            <div class="row" style="text-align:center; font-size: 20px;">
                                <div class="col">
                                    <span>
                                        <b>Vendor Name : </b>
                                        <span t-field="user_id.display_name"/>
                                    </span>
                                </div>
                            </div>
                        </t>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Item Name</span>
                                    </th>
                                    <th>
                                        <span>Date</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="lst">
                                <tbody>
                                    <t t-foreach="lst" t-as="line">
                                        <t t-set="sub_qty" value="0"/>
                                        <t t-foreach="line['items']" t-as="item">
                                            <tr>
                                                <td>
                                                    <t>
                                                        <span t-esc="item['name'].display_name"/>
                                                    </t>
                                                </td>
                                                <td style="text-align:center;">
                                                    <t>
                                                        <span t-esc="item['date']"/>
                                                    </t>
                                                </td>
                                                <td style="text-align:right;">
                                                    <t>
                                                        <span t-esc="'%.2f' % item['qty']"/>
                                                    </t>
                                                </td>
                                                <td style="text-align:center;">
                                                    <t>
                                                        <span t-esc="item['name'].uom_id.display_name"/>
                                                    </t>
                                                </td>
                                            </tr>
                                        </t>
                                        <tr>
                                            <th></th>
                                            <th style="text-align:center;">
                                                <span>Sub Total</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <t>
                                                    <span t-esc="'%.2f' % line['ttl_qty']"/>
                                                </t>
                                            </th>
                                            <th></th>
                                        </tr>
                                    </t>
                                </tbody>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_sales_analysis_report_by_cust">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Sales Analysis Report by Customer
                                            
                                            <t t-if="filter_post=='1'">(Cancel)</t>
                                            <t t-elif="filter_post=='2'">(Draft)</t>
                                            <t t-elif="filter_post=='3'">(Posted)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Customer Name</span>
                                    </th>
                                    <th>
                                        <span>Invoice Category</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Pay Amount</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount Due</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <t t-set="ttl" t-value="0"/>
                                <t t-set="ttl_due" t-value="0"/>
                                <tbody>
                                    <t t-foreach="docs" t-as="doc">
                                        <t t-foreach="doc['temp_dtl']" t-as="table_line">
                                            <tr>
                                                <td>
                                                    <span t-if="table_line_first" t-esc="doc['user'].display_name"></span>
                                                </td>
                                                <td>
                                                    <span t-esc="table_line['product_cat'].display_name"></span>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-esc="table_line['p_amt']" t-options="{'widget': 'monetary', 'display_currency': currency_id}"></span>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-esc="table_line['d_amt']" t-options="{'widget': 'monetary', 'display_currency': currency_id}"></span>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-esc="table_line['amt']" t-options="{'widget': 'monetary', 'display_currency': currency_id}"></span>
                                                </td>
                                            </tr>
                                            <t t-if="table_line_last">
                                                <t t-set="ttl" t-value="ttl + doc['ttl']"/>
                                                <t t-set="ttl_due" t-value="ttl_due + doc['ttl_due']"/></t>
                                        </t>
                                    </t>
                                </tbody>
                                <tfooter>
                                    <tr>
                                        <th></th>
                                        <th>
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="ttl-ttl_due" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                            </span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="ttl_due" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                            </span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                            </span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_sales_report_by_client">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Sales Report by Client 
                                            
                                            <t t-if="filter_post=='1'">(Cancel)</t>
                                            <t t-elif="filter_post=='2'">(Draft)</t>
                                            <t t-elif="filter_post=='3'">(Posted)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Invoice/Bill Date</span>
                                    </th>
                                    <th>
                                        <span>Client Name</span>
                                    </th>
                                    <th>
                                        <span>Invoice Number</span>
                                    </th>
                                    <th>
                                        <span>Invoice Category</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Pay Amount</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Other Charges</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Discount</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Total</span>
                                    </th>
                                    <th>
                                        <span>Payment</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <tbody>
                                    <t t-set="sub" t-value="0"/>
                                    <t t-set="sub_name" t-value=""/>
                                    <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                    <t t-set="sub_ttl" t-value="0"/>
                                    <t t-set="sub_ttl_due" t-value="0"/>
                                    <t t-set="sub_ttl_other_charges" t-value="0"/>
                                    <t t-set="sub_ttl_discount_amount" t-value="0"/>
                                    <t t-set="sub_ttl_tax_excluded" t-value="0"/>
                                    <t t-foreach="docs.sorted(key=lambda x: (x.partner_id.display_name,x.invoice_date),reverse=False)" t-as="table_line">
                                        <t t-if="table_line_first">
                                            <t t-set="sub_name" t-value="table_line.partner_id.display_name"/></t>
                                        <t t-else="">
                                            <t t-if="sub_name != table_line.partner_id.display_name">
                                                <t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
                                                <t t-set="sub" t-value="1"/></t>
                                            <t t-else="">
                                                <t t-set="sub" t-value="0"/></t>
                                        </t>
                                        <t t-if="sub==1">
                                            <tr>
                                                <th colspan="3">
                                                    <span></span>
                                                </th>
                                                <th>
                                                    <span>Sub Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl-sub_ttl_due" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl_other_charges" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl_discount_amount" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                            </tr>
                                            <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                            <t t-set="sub_ttl" t-value="0"/>
                                            <t t-set="sub_ttl_due" t-value="0"/>
                                            <t t-set="sub_ttl_other_charges" t-value="0"/>
                                            <t t-set="sub_ttl_discount_amount" t-value="0"/>
                                            <t t-set="sub_ttl_tax_excluded" t-value="0"/></t>
                                        <tr>
                                            <td>
                                                <span t-field="table_line.invoice_date"/>
                                            </td>
                                            <td>
                                                <t t-if="table_line_first">
                                                    <span t-field="table_line.partner_id.display_name"/>
                                                </t>
                                                <t t-else="">
                                                    <t t-if="sub==1">
                                                        <span t-field="table_line.partner_id.display_name"/>
                                                    </t>
                                                    <t t-else="">
                                                        <t t-set="sub" t-value="0"/></t>
                                                </t>
                                            </td>
                                            <td>
                                                <span t-field="table_line.display_name"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.x_studio_invoice_category"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-esc="table_line.amount_total_signed-table_line.amount_residual_signed" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.x_studio_other_charges_i"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.x_studio_special_discount_amount_i"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.amount_total_signed"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.invoice_payment_state"/>
                                            </td>
                                        </tr>
                                        <t t-set="sub_ttl" t-value="sub_ttl + table_line.amount_total_signed"/>
                                        <t t-set="sub_ttl_other_charges" t-value="sub_ttl_other_charges + table_line.x_studio_other_charges_i"/>
                                        <t t-set="sub_ttl_discount_amount" t-value="sub_ttl_discount_amount + table_line.x_studio_special_discount_amount_i"/>
                                        <t t-set="sub_ttl_due" t-value="sub_ttl_due + table_line.amount_residual_signed"/>
                                        <t t-set="sub_ttl_tax_excluded" t-value="sub_ttl_tax_excluded + table_line.amount_untaxed_signed"/>
                                        <t t-if="table_line_last">
                                            <tr>
                                                <th colspan="3">
                                                    <span></span>
                                                </th>
                                                <th>
                                                    <span>Sub Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl-sub_ttl_due" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl_other_charges" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl_discount_amount" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                            </tr>
                                        </t>
                                    </t>
                                </tbody>
                                <tfooter>
                                    <t t-set="total_currency_id" t-value="docs.currency_id"/>
                                    <t t-set="ttl" t-value="0"/>
                                    <t t-set="ttl_due" t-value="0"/>
                                    <t t-set="ttl_other_charges" t-value="0"/>
                                    <t t-set="ttl_discount_amount" t-value="0"/>
                                    <t t-set="ttl_tax_excluded" t-value="0"/>
                                    <t t-foreach="docs" t-as="table_line">
                                        <t t-set="ttl" t-value="ttl + table_line.amount_total_signed"/>
                                        <t t-set="ttl_other_charges" t-value="ttl_other_charges + table_line.x_studio_other_charges_i"/>
                                        <t t-set="ttl_discount_amount" t-value="ttl_discount_amount + table_line.x_studio_special_discount_amount_i"/>
                                        <t t-set="ttl_due" t-value="ttl_due + table_line.amount_residual_signed"/>
                                        <t t-set="ttl_tax_excluded" t-value="ttl_tax_excluded + table_line.amount_untaxed_signed"/></t>
                                    <tr>
                                        <th colspan="3">
                                            <span></span>
                                        </th>
                                        <th>
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="ttl-ttl_due" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                            </span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="ttl_other_charges" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                            </span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="ttl_discount_amount" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                            </span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                            </span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_sales_report_by_product_code">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Sales Report by Product Code 
                                            <t t-if="filter_post=='1'">(Cancel)</t>
                                            <t t-elif="filter_post=='2'">(Draft)</t>
                                            <t t-elif="filter_post=='3'">(Posted)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Invoice Date</span>
                                    </th>
                                    <th>
                                        <span>Customer Name</span>
                                    </th>
                                    <th>
                                        <span>Invoice Category</span>
                                    </th>
                                    <th>
                                        <span>Product</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Unit Price</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Discount (%)</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Net Amount</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <tbody>
                                    <t t-set="ttl" t-value="0"/>
                                    <t t-set="sub_ttl" t-value="0"/>
                                    <t t-foreach="docs" t-as="doc">
                                        <t t-set="sub_ttl" t-value="0"/>
                                        <t t-foreach="doc['temp_dtl']" t-as="table_line">
                                            <tr>
                                                <td>
                                                    <span t-if="table_line_first" t-esc="doc['date'].strftime('%d/%m/%Y')"/>
                                                </td>
                                                <td>
                                                    <span t-if="table_line_first" t-esc="doc['user'].display_name"/>
                                                </td>
                                                <td>
                                                    <span t-esc="table_line['product_cat']"/>
                                                </td>
                                                <td>
                                                    <span t-esc="table_line['sub_table_line'].product_id.display_name"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-esc="table_line['sub_qty']"/>
                                                </td>
                                                <td>
                                                    <span t-esc="table_line['sub_table_line'].product_id.uom_id.display_name"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-esc="table_line['sub_table_line'].price_unit" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-esc="table_line['sub_table_line'].discount"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-esc="table_line['sub_ttl']" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                                    <t t-set="sub_ttl" t-value="sub_ttl + table_line['sub_ttl']"/>
                                                </td>
                                            </tr>
                                            <tr t-if="table_line_last">
                                                <th colspan="6">
                                                    <span></span>
                                                </th>
                                                <th colspan="2">
                                                    <span>Sub Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                                    </span>
                                                    <t t-set="ttl" t-value="ttl+sub_ttl"/>
                                                </th>
                                            </tr>
                                        </t>
                                    </t>
                                </tbody>
                                <tfooter>
                                    <tr>
                                        <th colspan="6">
                                            <span></span>
                                        </th>
                                        <th colspan="2">
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                            </span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_all_balance_listing">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>All Balance Listing</span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date : </b>
                                    <t t-esc="(datetime.datetime.now()).strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="font-size: 13px;">
                            <thead>
                                <tr>
                                    <th style="width:10%">
                                        <span>Location</span>
                                    </th>
                                    <th style="width:30%">
                                        <span>Name</span>
                                    </th>
                                    <th style="text-align:right;width:10%;">
                                        <span>Quantity On Hand</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="items">
                                <tbody>
                                    <!--                                 <t t-foreach="docs.sorted(key=lambda x: x.location_id, reverse=False)" t-as="doc"><t t-foreach="doc.quant_ids.sorted(key=lambda x: x.product_id.display_name,reverse=False)" t-as="table_line" t-if="table_line.quantity > 0 and table_line.product_id.display_name in product_ids"><tr><td><span t-field="table_line.location_id"/></td><td><span t-field="table_line.product_id"/></td><td style="text-align:center;"><span t-field="table_line.product_uom_id"/></td><td style="text-align:right;"><span t-esc="table_line.quantity"/></td></tr></t></t> -->
                                    <t t-foreach="items" t-as="item">
                                        <tr>
                                            <td style="width:10%">
                                                <span t-esc="item['location']"/>
                                            </td>
                                            <td style="width:30%">
                                                <span t-esc="item['product_name'].display_name"/>
                                            </td>
                                            <td style="text-align:right;width:10%;">
                                                <span t-esc="item['on_hand']"/>
                                            </td>
                                            <td style="text-align:center;">
                                                <span t-esc="item['product_uom']"/>
                                            </td>
                                        </tr>
                                    </t>
                                </tbody>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No results found or the quantity of products may be zero.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_stock_valuation_info">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Stock Valuation Information</span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <!--                         <div class="row" style="text-align:center; font-size: 20px;"><div class="col"><span><b>Stock Valuation Report for Location:</b></span></div></div> -->
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Location</span>
                                    </th>
                                    <th>
                                        <span>Name</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Price</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <t t-set="ttl" t-value="0"/>
                                <tbody>
                                    <t t-foreach="docs" t-as="item">
                                        <tr>
                                            <td>
                                                <span t-esc="item['location']"/>
                                            </td>
                                            <td>
                                                <span t-esc="item['product'].display_name"/>
                                            </td>
                                            <td style="text-align:center;">
                                                <span t-esc="item['product'].uom_name"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-esc="'{0:,.2f}'.format(item['on_hand'])"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="item['product'].standard_price"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-esc="'{0:,.2f}'.format(item['amount'])"/>
                                                <t t-set="ttl" t-value="item['amount'] + ttl"/>
                                            </td>
                                        </tr>
                                    </t>
                                </tbody>
                                <tfooter>
                                    <tr>
                                        <th colspan="3">
                                            <span></span>
                                        </th>
                                        <th colspan="2">
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                            </span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_sales_report_by_date">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Sales Report by Date 
                                            <t t-if="filter_post=='1'">(Cancel)</t>
                                            <t t-elif="filter_post=='2'">(Draft)</t>
                                            <t t-elif="filter_post=='3'">(Posted)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Invoice/Bill Date</span>
                                    </th>
                                    <th>
                                        <span>Invoice Number</span>
                                    </th>
                                    <th>
                                        <span>Client Name</span>
                                    </th>
                                    <th>
                                        <span>Product Name</span>
                                    </th>
                                    <th>
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Price</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Discount</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Net Amount</span>
                                    </th>
                                    <th>
                                        <span>Payment</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <t t-set="ttl" t-value="0"/>
                                <t t-foreach="docs.sorted(key=lambda x: (x.invoice_date,x.name),reverse=False)" t-as="doc">
                                    <tbody>
                                        <tr>
                                            <td>
                                                <span t-esc="doc.invoice_date"/>
                                            </td>
                                            <td>
                                                <span t-field="doc.name"/>
                                            </td>
                                            <td>
                                                <span t-field="doc.partner_id.display_name"/>
                                            </td>
                                            <td>
                                                <span t-field="doc.narration"/>
                                            </td>
                                            <td colspan="5">
                                                <span t-field="doc.x_studio_invoice_category"/>
                                            </td>
<!--                                             
                                            <th>
                                                <span></span>
                                            </th> -->
                                            <td style="text-align:center;">
                                                <span t-field="doc.invoice_payment_state"/>
                                            </td>
                                        </tr>
                                        <t t-set="ttl" t-value="ttl + doc.amount_total"/>
                                        <t t-foreach="doc.invoice_line_ids" t-as="table_line" t-if="table_line.name != &quot;Special Discount&quot; and table_line.name != &quot;Other Charges&quot; and table_line.quantity > 0">
                                            <tr>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td>
                                                    <span t-field="table_line.product_id"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.quantity"/>
                                                </td>
                                                <td style="text-align:center;">
                                                    <span t-field="table_line.product_uom_id"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.price_unit"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.discount"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.price_subtotal"/>
                                                </td>
                                                <td></td>
                                            </tr>
                                        </t>
                                        <tr>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                            <th style="text-align:right;">
                                                <span>Sub Total:</span>
                                            </th>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                            <th style="text-align:right;">
                                                <span t-field="doc.x_studio_subtotal_i"/>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                        <tr>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                            <th style="text-align:right;">
                                               <span t-esc="round(doc.x_studio_special_discount_percent_i,2)"/>
                                                <span>% </span>
                                                <span>Special Discount:</span>
                                            </th>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                            <th style="text-align:right;">
                                                <span t-field="doc.x_studio_special_discount_amount_i"/>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                        <tr>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                            <th style="text-align:right;">
                                                <span>Other Charges:</span>
                                            </th>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                            <th style="text-align:right;">
                                                <span t-field="doc.x_studio_other_charges_i"/>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                        <tr>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                            <th style="text-align:right;">
                                                <span>Total:</span>
                                            </th>
                                            <th></th>
                                            <th></th>
                                            <th></th>
                                            <th style="text-align:right;">
                                                <span t-field="doc.amount_total"/>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                    </tbody>
                                </t>
                                <tfooter>
                                    <tr>
                                        <th></th>
                                        <th></th>
                                        <th></th>
                                        <th style="text-align:right;">
                                            <span>Grand Total</span>
                                        </th>
                                        <th></th>
                                        <th></th>
                                        <th></th>
                                        <th style="text-align:right;">
                                            <span t-esc="ttl"  t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_sales_report_by_month">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body >
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                      Sales Report by Month (
                                    
                                        <t t-foreach="docs.sorted(key=lambda x:x.invoice_date,reverse=False)" t-as="date">
                                            <t t-if="date_last">
                                                <t t-esc="context_timestamp(date.invoice_date).strftime('%B %Y')"/></t>
                                        </t>)
                                    
                                        <br/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <t t-if="docs">
                            <table class="table table-sm o_report_block_table" style="padding: 0.5em">
                                <thead>
                                    <tr>
                                        <th>
                                            <span>No.</span>
                                        </th>
                                        <th>
                                            <span>Invoice/Bill Date</span>
                                        </th>
                                        <th>
                                            <span>Invoice Number</span>
                                        </th>
                                        <th>
                                            <span>Customer</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>Amount Due</span>
                                        </th>
                                        <th>
                                            <span>Payment</span>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr t-foreach="docs.sorted(key=lambda x: (x.invoice_date,x.display_name),reverse=False)" t-as="table_line">
                                        <td>
                                            <span t-esc="table_line_index+1"/>.                 
                                    
                                        </td>
                                        <td>
                                            <span t-field="table_line.invoice_date"/>
                                        </td>
                                        <td>
                                            <span t-field="table_line.display_name"/>
                                        </td>
                                        <td>
                                            <span t-field="table_line.partner_id.display_name"/>
                                        </td>
                                        <td>
                                            <span t-field="table_line.amount_total_signed"/>
                                        </td>
                                        <td>
                                            <span t-field="table_line.amount_residual_signed"/>
                                        </td>
                                        <td>
                                            <span t-field="table_line.invoice_payment_state"/>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="row" style="float:right; width:50%; margin-top:1.5em;">
                                <table class="table table-sm o_report_block_total">
                                    <t t-set="total_currency_id" t-value="docs.currency_id"/>
                                    <t t-set="ttl" t-value="0"/>
                                    <t t-set="ttl_due" t-value="0"/>
                                    <t t-set="ttl_tax_excluded" t-value="0"/>
                                    <t t-foreach="docs" t-as="table_line">
                                        <t t-set="ttl" t-value="ttl + table_line.amount_total_signed"/>
                                        <t t-set="ttl_due" t-value="ttl_due + table_line.amount_residual_signed"/>
                                        <t t-set="ttl_tax_excluded" t-value="ttl_tax_excluded + table_line.amount_untaxed_signed"/></t>
                                    <tr class="border-black o_subtotal"></tr>
                                    <tr class="border-black o_total">
                                        <hr />
                                        <td>
                                            <strong>Total</strong>
                                        </td>
                                        <td style="text-align:right;">
                                            <span>
                                                <t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                            </span>
                                        </td>
                                    </tr>
                                    <tr class="border-black o_total">
                                        <td>
                                            <strong>Total Amount Due</strong>
                                        </td>
                                        <td style="text-align:right;">
                                            <span>
                                                <t t-esc="ttl_due" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                            </span>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </t>
                        <t t-else="">
                            <tbody>
                                <tr>
                                    <td colspan="100" style="text-align:center; font-size: 20px;">
                                        <span>
                                            <b>No Results Found.</b>
                                        </span>
                                    </td>
                                </tr>
                            </tbody>
                        </t>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_daily_sales_report_by_date">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body >
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                      Daily Sales Report by Date 
                                        <t t-if="filter_post=='1'">(Cancel)</t>
                                        <t t-elif="filter_post=='2'">(Draft)</t>
                                        <t t-elif="filter_post=='3'">(Posted)</t>
                                        <br/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em">
                            <thead>
                                <tr>
                                    <th>
                                        <span>No.</span>
                                    </th>
                                    <th>
                                        <span>Date</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Paid</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Unpaid</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Total Sales</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <tbody>
                                    <t t-set="sub" t-value="0"/>
                                    <t t-set="no" t-value="1"/>
                                    <t t-set="sub_date" t-value=""/>
                                    <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                    <t t-set="total_currency_id" t-value="docs.currency_id"/>
                                    <t t-set="sub_ttl" t-value="0"/>
                                    <t t-set="sub_ttl_due" t-value="0"/>
                                    <t t-set="ttl" t-value="0"/>
                                    <t t-set="ttl_due" t-value="0"/>
                                    <t t-set="temp_date" t-value=""/>
                                    <t t-set="first_date" t-value=""/>
                                    <t t-foreach="docs.sorted(key=lambda x: x.invoice_date,reverse=False)" t-as="table_line">
                                        <t t-set="ttl" t-value="ttl + table_line.amount_total_signed"/>
                                        <t t-set="ttl_due" t-value="ttl_due + table_line.amount_residual_signed"/>
                                        <t t-if="table_line_first">
                                            <t t-set="sub_date" t-value="table_line.invoice_date"/>
                                            <t t-set="first_date" t-value="table_line.invoice_date"/></t>
                                        <t t-else="">
                                            <t t-if="sub_date != table_line.invoice_date">
                                                <t t-set="temp_date" t-value="sub_date"/>
                                                <t t-set="sub_date" t-value="table_line.invoice_date"/>
                                                <t t-set="sub" t-value="1"/></t>
                                            <t t-else="">
                                                <t t-set="sub" t-value="0"/></t>
                                        </t>
                                        <t t-if="sub==1">
                                            <tr>
                                                <td style="text-align:right;">
                                                    <span t-esc="no"></span>.
                                                
                                                    <span t-set="no" t-value="no + 1"></span>
                                                </td>
                                                <td>
                                                    <t t-if="first_date">
                                                        <span t-esc="first_date.strftime('%d/%m/%Y')"/>
                                                        <t t-set="first_date" t-value=""/></t>
                                                    <t t-else="">
                                                        <span t-esc="temp_date.strftime('%d/%m/%Y')"/>
                                                    </t>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(sub_ttl-sub_ttl_due)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(sub_ttl_due)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </td>
                                            </tr>
                                            <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                            <t t-set="sub_ttl" t-value="0"/>
                                            <t t-set="sub_ttl_due" t-value="0"/></t>
                                        <t t-set="sub_ttl" t-value="sub_ttl + table_line.amount_total_signed"/>
                                        <t t-set="sub_ttl_due" t-value="sub_ttl_due + table_line.amount_residual_signed"/>
                                        <t t-if="table_line_last">
                                            <tr>
                                                <td style="text-align:right;">
                                                    <span t-esc="no"></span>.
                                            
                                                </td>
                                                <td>
                                                    <span t-esc="table_line.invoice_date.strftime('%d/%m/%Y')"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(sub_ttl-sub_ttl_due)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(sub_ttl_due)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </td>
                                            </tr>
                                        </t>
                                    </t>
                                </tbody>
                                <tfooter>
                                    <tr>
                                        <th colspan="2">
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="abs(ttl-ttl_due)" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                            </span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="abs(ttl_due)" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                            </span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="abs(ttl)" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                            </span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_daily_sales_report_by_pdt_cat">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body >
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                      Daily Sales Report by Product Category 
                                        <t t-if="filter_post=='1'">(Cancel)</t>
                                        <t t-elif="filter_post=='2'">(Draft)</t>
                                        <t t-elif="filter_post=='3'">(Posted)</t>
                                        <br/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <div t-if="product_cats_ids" class="row">
                            <div class="col">
                                <span>
                                    <b>Product Category : </b>
                                </span>
                                <span>
                                    <t t-foreach="product_cats_ids" t-as="cat">
                                        <span t-field="cat.display_name" /> <t t-if="not cat_last">, </t>
                                    </t>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em">
                            <thead>
                                <tr>
                                    <th>
                                        <span>No.</span>
                                    </th>
                                    <th>
                                        <span>Date</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Paid</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Unpaid</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Total Sales</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <tbody>
                                    <t t-set="sub" t-value="0"/>
                                    <t t-set="no" t-value="1"/>
                                    <t t-set="sub_date" t-value=""/>
                                    <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                    <t t-set="total_currency_id" t-value="docs.currency_id"/>
                                    <t t-set="sub_ttl" t-value="0"/>
                                    <t t-set="sub_ttl_due" t-value="0"/>
                                    <t t-set="ttl" t-value="0"/>
                                    <t t-set="ttl_due" t-value="0"/>
                                    <t t-set="temp_date" t-value=""/>
                                    <t t-set="first_date" t-value=""/>
                                    <t t-foreach="docs" t-as="table_line">
                                        <t t-set="ttl" t-value="ttl + table_line.amount_total_signed"/>
                                        <t t-set="ttl_due" t-value="ttl_due + table_line.amount_residual_signed"/>
                                        <t t-if="table_line_first">
                                            <t t-set="sub_date" t-value="table_line.invoice_date"/>
                                            <t t-set="first_date" t-value="table_line.invoice_date"/></t>
                                        <t t-else="">
                                            <t t-if="sub_date != table_line.invoice_date">
                                                <t t-set="temp_date" t-value="sub_date"/>
                                                <t t-set="sub_date" t-value="table_line.invoice_date"/>
                                                <t t-set="sub" t-value="1"/></t>
                                            <t t-else="">
                                                <t t-set="sub" t-value="0"/></t>
                                        </t>
                                        <t t-if="sub==1">
                                            <tr>
                                                <td style="text-align:right;">
                                                    <span t-esc="no"></span>.
                                                
                                                    <span t-set="no" t-value="no + 1"></span>
                                                </td>
                                                <td>
                                                    <t t-if="first_date">
                                                        <span t-esc="first_date.strftime('%d/%m/%Y')"/>
                                                        <t t-set="first_date" t-value=""/></t>
                                                    <t t-else="">
                                                        <span t-esc="temp_date.strftime('%d/%m/%Y')"/>
                                                    </t>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(sub_ttl-sub_ttl_due)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(sub_ttl_due)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </td>
                                            </tr>
                                            <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                            <t t-set="sub_ttl" t-value="0"/>
                                            <t t-set="sub_ttl_due" t-value="0"/></t>
                                        <t t-set="sub_ttl" t-value="sub_ttl + table_line.amount_total_signed"/>
                                        <t t-set="sub_ttl_due" t-value="sub_ttl_due + table_line.amount_residual_signed"/>
                                        <t t-if="table_line_last">
                                            <tr>
                                                <td style="text-align:right;">
                                                    <span t-esc="no"></span>.
                                            
                                                </td>
                                                <td>
                                                    <span t-esc="table_line.invoice_date.strftime('%d/%m/%Y')"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(sub_ttl-sub_ttl_due)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(sub_ttl_due)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </td>
                                            </tr>
                                        </t>
                                    </t>
                                </tbody>
                                <tfooter>
                                    <tr>
                                        <th colspan="2">
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="abs(ttl-ttl_due)" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                            </span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="abs(ttl_due)" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                            </span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="abs(ttl)" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                            </span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_daily_sales_report_by_inv_cat">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body >
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                      Daily Sales Report by Invoice Category 
                                        <t t-if="filter_post=='1'">(Cancel)</t>
                                        <t t-elif="filter_post=='2'">(Draft)</t>
                                        <t t-elif="filter_post=='3'">(Posted)</t>
                                        <br/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <div t-if ="product_cats_ids" class="row">
                            <div class="col">
                                <span>
                                    <b>Invoice Category : </b>
                                </span>
                                <span>
                                    <t t-foreach="product_cats_ids" t-as="cat">
                                        <span t-field="cat.display_name" /><t t-if="not cat_last">, </t>
                                    </t>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em">
                            <thead>
                                <tr>
                                    <th>
                                        <span>No.</span>
                                    </th>
                                    <th>
                                        <span>Date</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Paid</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Unpaid</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Total Sales</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <tbody>
                                    <t t-set="sub" t-value="0"/>
                                    <t t-set="no" t-value="1"/>
                                    <t t-set="sub_date" t-value=""/>
                                    <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                    <t t-set="total_currency_id" t-value="docs.currency_id"/>
                                    <t t-set="sub_ttl" t-value="0"/>
                                    <t t-set="sub_ttl_due" t-value="0"/>
                                    <t t-set="ttl" t-value="0"/>
                                    <t t-set="ttl_due" t-value="0"/>
                                    <t t-set="temp_date" t-value=""/>
                                    <t t-set="first_date" t-value=""/>
                                    <t t-foreach="docs.sorted(key=lambda x: x.invoice_date,reverse=False)" t-as="table_line">
                                        <t t-set="ttl" t-value="ttl + table_line.amount_total_signed"/>
                                        <t t-set="ttl_due" t-value="ttl_due + table_line.amount_residual_signed"/>
                                        <t t-if="table_line_first">
                                            <t t-set="sub_date" t-value="table_line.invoice_date"/>
                                            <t t-set="first_date" t-value="table_line.invoice_date"/></t>
                                        <t t-else="">
                                            <t t-if="sub_date != table_line.invoice_date">
                                                <t t-set="temp_date" t-value="sub_date"/>
                                                <t t-set="sub_date" t-value="table_line.invoice_date"/>
                                                <t t-set="sub" t-value="1"/></t>
                                            <t t-else="">
                                                <t t-set="sub" t-value="0"/></t>
                                        </t>
                                        <t t-if="sub==1">
                                            <tr>
                                                <td style="text-align:right;">
                                                    <span t-esc="no"></span>.
                                                
                                                    <span t-set="no" t-value="no + 1"></span>
                                                </td>
                                                <td>
                                                    <t t-if="first_date">
                                                        <span t-esc="first_date.strftime('%d/%m/%Y')"/>
                                                        <t t-set="first_date" t-value=""/></t>
                                                    <t t-else="">
                                                        <span t-esc="temp_date.strftime('%d/%m/%Y')"/>
                                                    </t>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(sub_ttl-sub_ttl_due)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(sub_ttl_due)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </td>
                                            </tr>
                                            <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                            <t t-set="sub_ttl" t-value="0"/>
                                            <t t-set="sub_ttl_due" t-value="0"/></t>
                                        <t t-set="sub_ttl" t-value="sub_ttl + table_line.amount_total_signed"/>
                                        <t t-set="sub_ttl_due" t-value="sub_ttl_due + table_line.amount_residual_signed"/>
                                        <t t-if="table_line_last">
                                            <tr>
                                                <td style="text-align:right;">
                                                    <span t-esc="no"></span>.
                                            
                                                </td>
                                                <td>
                                                    <span t-esc="table_line.invoice_date.strftime('%d/%m/%Y')"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(sub_ttl-sub_ttl_due)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(sub_ttl_due)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </td>
                                            </tr>
                                        </t>
                                    </t>
                                </tbody>
                                <tfooter>
                                    <tr>
                                        <th colspan="2">
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="abs(ttl-ttl_due)" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                            </span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="abs(ttl_due)" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                            </span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="abs(ttl)" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                            </span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    
    <template id="report_sales_analysis_by_month_and_cust">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body >
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                      Sales Analysis Report by Month and Customer 
                                        
                                        <t t-if="filter_post=='1'">(Cancel)</t>
                                        <t t-elif="filter_post=='2'">(Draft)</t>
                                        <t t-elif="filter_post=='3'">(Posted)</t>
                                        <br/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(s_month+'/'+s_year, '%m/%Y').strftime('%b/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(e_month+'/'+e_year, '%m/%Y').strftime('%b/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <t t-if="country" t-esc="country"></t>
                                <t t-if="state">, 
                                    <t t-esc="state"/></t>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Date</span>
                                    </th>
                                    <th>
                                        <span>Customer Name</span>
                                    </th>
                                    <th>
                                        <span>Invoice Category</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Total</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <tbody>
                                    <t t-set="currency_id" t-value="docs.currency_id"/>
                                    <t t-set="ttl" t-value="0"/>
                                    <t t-foreach="user_ids" t-as="cust">
                                        <t t-foreach="dates" t-as="date">
                                            <t t-set="sub" t-value="0"/>
                                            <t t-set="sub_ttl" t-value="0"/>
                                            <t t-foreach="categories" t-as="category">
                                                <t t-set="sub_ttl" t-value="0"/>
                                                <t t-foreach="docs.filtered(lambda x: x.invoice_date.strftime('%b/%Y') == date and x.partner_id.id==cust.id and x.x_studio_invoice_category == category)" t-as="table_line">
                                                    <t t-set="sub_ttl" t-value="sub_ttl + table_line.amount_total_signed"/></t>
                                                <tr t-if="sub_ttl>0">
                                                    <td>
                                                        <span t-esc="date"></span>
                                                    </td>
                                                    <td>
                                                        <span t-esc="cust.display_name"></span>
                                                    </td>
                                                    <td>
                                                        <span t-esc="category.display_name"></span>
                                                    </td>
                                                    <td style="text-align:right;">
                                                        <span>
                                                            <t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                                        </span>
                                                        <t t-set="sub" t-value="sub + sub_ttl"/>
                                                    </td>
                                                </tr>
                                            </t>
                                            <tr t-if="sub>0">
                                                <th colspan="2"></th>
                                                <th>
                                                    <span>Sub Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(sub)" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                                    </span>
                                                    <t t-set="ttl" t-value="ttl + sub"/>
                                                </th>
                                            </tr>
                                        </t>
                                    </t>
                                </tbody>
                                <tfooter>
                                    <tr>
                                        <th colspan="2"></th>
                                        <th>
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="abs(ttl)" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                            </span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_sales_anlys_by_mon_and_cust_col">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body >
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                      Sales Analysis Report by Month and Customer with Colors
                                        
                                        <t t-if="filter_post=='1'">(Cancel)</t>
                                        <t t-elif="filter_post=='2'">(Draft)</t>
                                        <t t-elif="filter_post=='3'">(Posted)</t>
                                        <br/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(s_month+'/'+s_year, '%m/%Y').strftime('%b/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(e_month+'/'+e_year, '%m/%Y').strftime('%b/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <div t-if="category" class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Category : </b>
                                    <span t-esc="', '.join(category.mapped('name'))"/>
                                </span>
                            </div>
                        </div>
                        <br/>
<!--                         <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <t t-if="country"> <t t-esc="country"/></t>
                                <t t-if="state">, 
                                    <t t-esc="state"/></t>
                            </div>
                        </div>
                        <br/> -->
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em">
                            <tbody>
                                <tr>
                                    <td style="text-align:center;color:red;">
                                        <span> (+) Amount > 50% </span>
                                    </td>
                                    <td style="text-align:center;color:orange;">
                                        <span> 20% &lt; (+) Amount &lt; 30%</span>
                                    </td>
                                    <td style="text-align:center;color:green;">
                                        <span> (+) Amount &lt; 20%</span>
                                    </td>
                                    <td style="text-align:center;color:purple;">
                                        <span> (-) Amount &lt; 20%</span>
                                    </td>
                                    <td style="text-align:center;color:grey;">
                                        <span> 20% &lt; (-) Amount &lt; 30%</span>
                                    </td>
                                    <td style="text-align:center;color:blue;">
                                        <span> (-) Amount > 50% </span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Customer Name</span>
                                    </th>
<!--                                     <t t-foreach="" -->
                                    <t t-foreach="dates" t-as="date">
                                        <th style="text-align:right;">
                                            <span t-esc="date.strftime('%b-%Y')"/>
                                        </th>
                                    </t>
                                    <th style="text-align:right;">
                                        <span>Total</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <tbody>
                                    <t t-set="currency_id" t-value="docs.currency_id"/>
<!--                                     <t t-set="g_ttl" t-value="0"/> -->
                                    <t t-set="first_amt" t-value="0"/>
                                    
                                    <t t-foreach="user_ids" t-as="cust">
                                        <t t-set="ttl" t-value="0"/>
                                        <tr>
                                            <td>
                                                <span t-esc="cust.display_name"></span>
                                            </td>
                                            <t t-set="first_amt" t-value="0"/>
                                            <t t-set="set_first_amt" t-value="False"/>
                                            <t t-foreach="dates" t-as="date">
                                                <t t-set="ttl_amt" t-value="0"/>
                                               
                                                <t t-set="ttl_amt" t-value="sum(docs.filtered(lambda x: x.invoice_date.strftime('%b/%Y') == date.strftime('%b/%Y') and x.partner_id.id==cust.id).mapped('amount_total_signed'))"/>
                                                <t t-set="ttl" t-value="ttl_amt + ttl" />
                                                <t t-if="ttl_amt > 0 and set_first_amt == False">
                                                    <t t-set="set_first_amt" t-value="True"/>
                                                    <t t-set="first_amt" t-value="ttl_amt"/>
                                                </t>
<!--                                                 <t t-else=""> -->
                                                <t t-if="set_first_amt == True">
                                                    <t t-if="round((ttl_amt - first_amt)/(first_amt or not first_amt), 2) &gt; 0.5">
                                                        <td style="text-align:right;color:red;">
                                                            <span t-esc="ttl_amt" t-options="{'widget': 'monetary', 'display_currency': currency_id}" /><br/>
                                                            <span t-esc="int(((ttl_amt - first_amt)/first_amt) * 100)"/> %
                                                        </td>
                                                    </t>
                                                    <t t-elif="0.3 &gt; round((ttl_amt - first_amt)/(first_amt or not first_amt), 2) &gt; 0.2">
                                                        <td style="text-align:right;color:orange;">
                                                            <span t-esc="ttl_amt" t-options="{'widget': 'monetary', 'display_currency': currency_id}" /><br/>
                                                            <span t-esc="int(((ttl_amt - first_amt)/first_amt) * 100)"/> %
<!--                                                             <span t-esc="round((ttl_amt - first_amt)/first_amt * 100, 0)"/> % -->
                                                        </td>
                                                    </t>
                                                    <t t-elif="round((ttl_amt - first_amt)/(first_amt or not first_amt), 2) &lt; -0.5">
                                                        <td style="text-align:right;color:blue;">
                                                            <span t-esc="ttl_amt" t-options="{'widget': 'monetary', 'display_currency': currency_id}" /><br/>
                                                            <span t-esc="int(((ttl_amt - first_amt)/first_amt) * 100)"/> %
                                                        </td>
                                                    </t>
                                                    <t t-elif="-0.2 &gt; round((ttl_amt - first_amt)/(first_amt or not first_amt) * 100, 2) &gt; -0.3">
                                                        <td style="text-align:right;color:grey;">
                                                            <span t-esc="ttl_amt" t-options="{'widget': 'monetary', 'display_currency': currency_id}" /><br/>
                                                            <span t-esc="int(((ttl_amt - first_amt)/first_amt) * 100)"/> %
                                                        </td>
                                                    </t>
                                                    <t t-elif="0 &gt; round((ttl_amt - first_amt)/(first_amt or not first_amt), 2) &gt; -0.2">
                                                        <td style="text-align:right;color:purple;">
                                                            <span t-esc="ttl_amt" t-options="{'widget': 'monetary', 'display_currency': currency_id}" /><br/>
                                                            <span t-esc="int(((ttl_amt - first_amt)/first_amt) * 100)"/> %
                                                        </td>
                                                    </t>
                                                    <t t-elif="0 &lt; round((ttl_amt - first_amt)/(first_amt or not first_amt), 2) &lt; 0.2">
                                                        <td style="text-align:right;color:green;">
                                                            <span t-esc="ttl_amt" t-options="{'widget': 'monetary', 'display_currency': currency_id}" /><br/>
                                                            <span t-esc="int(((ttl_amt - first_amt)/first_amt) * 100)"/> %
                                                        </td>
                                                    </t>

                                                    <t t-else="">
                                                        <td style="text-align:right;">
                                                            <span t-esc="ttl_amt" t-options="{'widget': 'monetary', 'display_currency': currency_id}" /><br/>
                                                            <span t-esc="int(((ttl_amt - first_amt)/first_amt) * 100)"/> %
                                                        </td>
                                                    </t>
                                                </t>
                                                <t t-else="">
                                                    <td style="text-align:right;">
                                                        <span t-esc="ttl_amt" t-options="{'widget': 'monetary', 'display_currency': currency_id}" /><br/>
                                                    </td>
                                                </t>
                                            </t>
                                            <td  style="text-align:right;">
                                                <span t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': currency_id}" />
                                            </td>
                                        </tr>
                                    </t>
                                </tbody>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                        
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_purchase_inv_lst_by_inv_no">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Purchase Invoice Listing by Vendor
                                            
                                            <t t-if="filter_post=='1'">(Cancel)</t>
                                            <t t-elif="filter_post=='2'">(Draft)</t>
                                            <t t-elif="filter_post=='3'">(Posted)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Invoice Number</span>
                                    </th>
                                    <th>
                                        <span>Recieved Date</span>
                                    </th>
                                    <th>
                                        <span>Vendor</span>
                                    </th>
                                    <th>
                                        <span>Product Name</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Purchased Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Price</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <t t-set="ttl" t-value="0"/>
                                <t t-set="sub_ttl" t-value="0"/>
                                <t t-foreach="docs.sorted(key=lambda x: x.name,reverse=False)" t-as="doc">
                                    <tbody>
                                        <!--                                 <tr><td><span t-field="doc.name"/></td><td><span t-esc="doc.invoice_date"/></td><td><span t-field="doc.partner_id.display_name"/></td><td colspan="4"><span t-field="doc.narration"/></td><td style="text-align:center;"></td></tr> -->
                                        
                                        <t t-set="sub_ttl" t-value="0"/>
                                        
                                        <t t-foreach="doc.invoice_line_ids.filtered(lambda x:x.name != &quot;Special Discount&quot; and x.name != &quot;Other Charges&quot; and x.quantity > 0 and x.product_id in product_ids)" t-as="table_line">
                                            
                                            <tr>
                                                <td>
                                                    <span t-if="table_line_first" t-field="doc.name"/>
                                                </td>
                                                <td>
                                                    <span t-if="table_line_first" t-esc="doc.invoice_date.strftime('%d/%m/%Y')"/>
                                                </td>
                                                <td>
                                                    <span t-if="table_line_first" t-field="doc.partner_id.display_name"/>
                                                </td>
                                                <!--                                         <td></td><td></td><td></td> -->
                                                <td>
                                                    <span t-field="table_line.product_id"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.quantity"/>
                                                </td>
                                                <td style="text-align:center;">
                                                    <span t-field="table_line.product_uom_id"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.price_unit"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.price_subtotal"/>
                                                    <t t-set="sub_ttl" t-value="sub_ttl+table_line.price_subtotal"/>
                                                    <t t-set="ttl" t-value="ttl +table_line.price_subtotal "/>
                                                </td>
                                            </tr>
                                            <tr t-if="table_line_last">
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th colspan="4">
                                                    <span>Sub Total:</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                                </th>
                                            </tr>
                                        </t>
                                    </tbody>
                                </t>
                                <tfooter>
                                    <tr>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th colspan="4">
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_dmg_sales_rtrn_lst_by_cust_no">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Damage Sales Return Listing by Customer
                                            
                                            <t t-if="filter_post_credit=='1'"> (Cancelled)</t>
                                            <t t-elif="filter_post_credit=='2'">(Draft)</t>
                                            <t t-elif="filter_post_credit=='3'">(Posted)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Customer Name</span>
                                    </th>
                                    <th>
                                        <t>
                                            <span>Inv Date</span>
                                        </t>
                                    </th>
                                    <th>
                                        <span>Return No.</span>
                                    </th>
                                    <th>
                                        <span>Invoice Category</span>
                                    </th>
                                    <th>
                                        <span>Product</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Price</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <t t-set="sub_name" t-value=""/>
                                <t t-set="ttl" t-value="0"/>
                                <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                <t t-set="total_currency_id" t-value="docs.currency_id"/>
                                <t t-set="sub_ttl" t-value="0"/>
                                <t t-foreach="docs.sorted(key=lambda x: (x.partner_id.display_name,x.display_name),reverse=False)" t-as="doc">
                                    <tbody>
                                        <t t-set="sub_ttl" t-value="sub_ttl + doc.amount_total_signed"/>
                                        <t t-set="ttl" t-value="ttl + doc.amount_total_signed"/>
                                        <t t-foreach="doc.invoice_line_ids.sorted(key=lambda l: (-l.sequence, l.date, l.move_name, -l.id), reverse=True)" t-as="table_line">
                                            <tr>
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-field="doc.partner_id.display_name"/>
                                                    </t>
                                                </td>
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-field="doc.invoice_date"/>
                                                    </t>
                                                </td>
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-field="doc.display_name"/>
                                                    </t>
                                                </td>
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-field="doc.x_studio_invoice_category"/>
                                                    </t>
                                                </td>
                                                <td>
                                                    <span t-field="table_line.product_id"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <t t-set="price" t-value="table_line.price_unit - (table_line.price_unit * table_line.discount/100)"/>
                                                    <span t-esc="'%.2f' % price"/>
                                                    
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.quantity"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.product_uom_id"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.price_subtotal"/>
                                                </td>
                                            </tr>
                                            <tr t-if="table_line_last">
                                                <th colspan="6">
                                                    <span></span>
                                                </th>
                                                <th colspan="2">
                                                    <span>Sub Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(doc.amount_total_signed)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                            </tr>
                                        </t>
                                    </tbody>
                                    <t t-if="doc_last">
                                        <tfooter>
                                            <tr>
                                                <th colspan="6">
                                                    <span></span>
                                                </th>
                                                <th colspan="2">
                                                    <span>Grand Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(ttl)" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                                    </span>
                                                </th>
                                            </tr>
                                        </tfooter>
                                    </t>
                                </t>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_dmg_sales_rtrn_lst_by_product">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Damage Sales Return Listing by Product Code 
                                            
                                            <t t-if="filter_post_credit=='1'"> (Cancelled)</t>
                                            <t t-elif="filter_post_credit=='2'">(Draft)</t>
                                            <t t-elif="filter_post_credit=='3'">(Posted)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Invoice No.</span>
                                    </th>
<!--                                     <th>
                                        <t t-if="filter_post_credit=='2'">
                                            <span>Created Date</span>
                                        </t> -->
                                        <t>
                                            <span>Inv Date</span>
                                        </t>
<!--                                     </th> -->
                                    <th>
                                        <span>Customer Name</span>
                                    </th>
                                    <th>
                                        <span>Product</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Price</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <tbody>
                                    <t t-set="ttl" t-value="0"/>
                                    <t t-set="total_currency_id" t-value="docs.currency_id"/>
                                    <t t-foreach="docs.sorted(key=lambda x: (x.display_name),reverse=False)" t-as="doc">
                                        <t t-set="sub" t-value="0"/>
                                        <t t-set="sub_name" t-value=""/>
                                        <t t-set="sub_ttl" t-value="0"/>
                                        <t t-foreach="doc.invoice_line_ids" t-as="table_line" t-if="table_line.product_id.display_name in product_ids">
                                            <t t-set="sub" t-value="1"/>
                                            <tr>
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-field="doc.display_name"/>
                                                    </t>
                                                </td>
                                                <td>
<!--                                                     <t t-if="filter_post_credit=='2'">
                                                        <t t-if="table_line_first">
                                                            <span t-esc="doc.create_date.strftime('%d/%m/%Y')"/>
                                                        </t>
                                                    </t>
                                                    <t t-else=""> -->
                                                        <t t-if="table_line_first">
                                                            <span t-field="doc.invoice_date"/>
                                                        </t>
<!--                                                     </t> -->
                                                </td>
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-field="doc.partner_id.display_name"/>
                                                    </t>
                                                </td>
                                                <td>
                                                    <span t-field="table_line.product_id"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.price_unit"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.quantity"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.product_uom_id"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.price_subtotal"/>
                                                    <t t-set="sub_ttl" t-value="sub_ttl + table_line.price_subtotal"/>
                                                    <t t-set="ttl" t-value="ttl + table_line.price_subtotal"/>
                                                </td>
                                            </tr>
                                        </t>
                                        <tr t-if="sub > 0">
                                            <t t-set="sub" t-value="0"/>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th colspan="2">
                                                <span>Sub Total</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span>
                                                    <t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                                </span>
                                            </th>
                                        </tr>
                                    </t>
                                </tbody>
                                <tfooter>
                                    <t t-set="total_currency_id" t-value="docs.currency_id"/>
                                    <tr>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th  colspan="2">
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="abs(ttl)" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                            </span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_cash_receipt_listing_by_cust_no">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Cash Receipt Listing by Customer
                                            
                                            <t t-if="filter_post_payment=='1'">(Cancelled)</t>
                                            <t t-elif="filter_post_payment=='2'">(Draft)</t>
                                            <t t-elif="filter_post_payment=='3'">(Reconciled)</t>
                                            <t t-if="filter_post_payment=='4'">(Sent)</t>
                                            <t t-if="filter_post_payment=='5'">(Validated)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Customer Name</span>
                                    </th>
                                    <th>
                                        <span>Cash Reciept No.</span>
                                    </th>
                                    <th>
                                        <span>Receipt Date</span>
                                    </th>
                                    <th>
                                        <span>Status</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
<!--                                     <th style="text-align:right;">
                                        <span>Reconciled Amount</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Remaining Amount</span>
                                    </th> -->
                                    <th>
                                        <span>Reconciled Status</span>
                                    </th>
                                    <th>
                                        <span>Memo</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <tbody>
                                    <t t-set="sub" t-value="0"/>
                                    <t t-set="sub_name" t-value=""/>
                                    <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                    <t t-set="sub_ttl" t-value="0"/>
<!--                                     <t t-set="sub_ttl_reconciled" t-value="0"/> -->
                                    <t t-set="ttl" t-value="0"/>
<!--                                     <t t-set="ttl_reconciled" t-value="0"/> -->
                                    <t t-foreach="docs.sorted(key=lambda x: (x.partner_id.display_name,x.payment_date),reverse=False)" t-as="table_line">
                                        <t t-set="ttl" t-value="ttl+table_line.amount"/>
                                        <t t-if="table_line_first">
                                            <t t-set="sub_name" t-value="table_line.partner_id.display_name"/></t>
                                        <t t-else="">
                                            <t t-if="sub_name != table_line.partner_id.display_name">
                                                <t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
                                                <t t-set="sub" t-value="1"/></t>
                                            <t t-else="">
                                                <t t-set="sub" t-value="0"/></t>
                                        </t>
                                        <t t-if="sub==1">
                                            <tr>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th colspan="2">
                                                    <span>Sub Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
<!--                                                 <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl_reconciled" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="round(sub_ttl-sub_ttl_reconciled,2)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th> -->
                                                 <th colspan="2"></th>
                                            </tr>
                                            <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                            <t t-set="sub_ttl" t-value="0"/>
<!--                                             <t t-set="sub_ttl_reconciled" t-value="0"/> -->
                                        </t>
                                            
                                        <tr>
<!--                                             <t t-set="inv_reconciled_amt" t-value="0.0"/> -->
<!--                                             <t t-foreach="table_line.reconciled_invoice_ids" t-as="invoice_line">
                                                <t t-foreach="json.loads(invoice_line.invoice_payments_widget)['content']" t-as="line" t-if="line['account_payment_id']==table_line.id and line['amount']>0">
                                                    <t t-set="inv_reconciled_amt" t-value="line['amount'] + inv_reconciled_amt"/>
                                                </t>
                                            </t> -->
                                            <td>
                                                <t t-if="table_line_first">
                                                    <span t-field="table_line.partner_id.display_name"/>
                                                </t>
                                                <t t-else="">
                                                    <t t-if="sub==1">
                                                        <span t-field="table_line.partner_id.display_name"/>
                                                    </t>
                                                    <t t-else="">
                                                        <t t-set="sub" t-value="0"/></t>
                                                </t>
                                            </td>
                                            <td>
                                                <span t-field="table_line.display_name"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.payment_date"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.state"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.amount"/>
                                            </td>
<!--                                             <td style="text-align:right;">
                                                <span t-esc="inv_reconciled_amt" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-esc="round(table_line.amount - inv_reconciled_amt,2)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                            </td> -->
                                            <td style="text-align:center;">
                                                
                                                <t t-if="table_line.move_line_ids">
<!--                                                     <t t-set="status" t-value="table_line.move_line_ids.mapped('reconciled')"/> -->
                                                    <t t-if="True in table_line.move_line_ids.mapped('reconciled')">
                                                        <span>Y</span>
                                                    </t>
                                                    <t t-else="">
                                                    <span>N</span>
                                                </t>
                                                </t>
                                                <t t-else="">
                                                    <span>N</span>
                                                </t>
                                            </td>
                                            <td>
                                                <span t-field="table_line.communication"/>
                                            </td>
                                        </tr>
                                        <t t-set="sub_ttl" t-value="sub_ttl + table_line.amount"/>
<!--                                         <t t-set="sub_ttl_reconciled" t-value="inv_reconciled_amt + sub_ttl_reconciled"/> -->
<!--                                         <t t-set="ttl_reconciled" t-value="inv_reconciled_amt + ttl_reconciled"/> -->
                                    
                                        <t t-if="table_line_last">
                                            <tr>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th colspan="2">
                                                    <span>Sub Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
<!--                                                 <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl_reconciled" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                                 <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="round(sub_ttl-sub_ttl_reconciled,2)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th> -->
                                                 <th colspan="2"></th>
                                            </tr>
                                        </t>
                                    </t>
                                </tbody>
                                <tfooter>
                                    <tr>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th colspan="2">
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                            </span>
                                        </th>
<!--                                         <th style="text-align:right;">
                                            <span>
                                                <t t-esc="ttl_reconciled" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                            </span>
                                        </th>
                                         <th style="text-align:right;">
                                            <span>
                                                <t t-esc="round(ttl-ttl_reconciled,2)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                            </span>
                                        </th> -->
                                         <th colspan="2"></th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_cash_receipt_listing_by_date">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Cash Receipt Listing by Date
                                            
                                            <t t-if="filter_post_payment=='1'">(Cancelled)</t>
                                            <t t-elif="filter_post_payment=='2'">(Draft)</t>
                                            <t t-elif="filter_post_payment=='3'">(Reconciled)</t>
                                            <t t-if="filter_post_payment=='4'">(Sent)</t>
                                            <t t-if="filter_post_payment=='5'">(Validated)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Customer Name</span>
                                    </th>
                                    <th>
                                        <span>Cash Reciept No.</span>
                                    </th>
                                    <th>
                                        <span>Receipt Date</span>
                                    </th>
                                    <th>
                                        <span>Clear Status</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Receipt Amount</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <tbody>
                                    <t t-set="sub" t-value="0"/>
                                    <t t-set="sub_name" t-value=""/>
                                    <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                    <t t-set="sub_ttl" t-value="0"/>
                                    <t t-set="ttl" t-value="0"/>
                                    <t t-foreach="docs.sorted(key=lambda x: (x.partner_id.display_name,x.payment_date),reverse=False)" t-as="table_line">
                                        <t t-set="ttl" t-value="ttl+table_line.amount"/>
                                        <t t-if="table_line_first">
                                            <t t-set="sub_name" t-value="table_line.partner_id.display_name"/></t>
                                        <t t-else="">
                                            <t t-if="sub_name != table_line.partner_id.display_name">
                                                <t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
                                                <t t-set="sub" t-value="1"/></t>
                                            <t t-else="">
                                                <t t-set="sub" t-value="0"/></t>
                                        </t>
                                        <t t-if="sub==1">
                                            <tr>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th colspan="2">
                                                    <span>Sub Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                            </tr>
                                            <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                            <t t-set="sub_ttl" t-value="0"/></t>
                                        <tr>
                                            <td>
                                                <t t-if="table_line_first">
                                                    <span t-field="table_line.partner_id.display_name"/>
                                                </t>
                                                <t t-else="">
                                                    <t t-if="sub==1">
                                                        <span t-field="table_line.partner_id.display_name"/>
                                                    </t>
                                                    <t t-else="">
                                                        <t t-set="sub" t-value="0"/></t>
                                                </t>
                                            </td>
                                            <td>
                                                <span t-field="table_line.display_name"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.payment_date"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.state"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.amount"/>
                                            </td>
                                        </tr>
                                        <t t-set="sub_ttl" t-value="sub_ttl + table_line.amount"/>
                                        <t t-if="table_line_last">
                                            <tr>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th colspan="2">
                                                    <span>Sub Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                            </tr>
                                        </t>
                                    </t>
                                </tbody>
                                <tfooter>
                                    <tr>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th colspan="2">
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                            </span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_cash_receipt_listing_by_r_no">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Cash Receipt Listing by Receipt No
                                            
                                            <t t-if="filter_post_payment=='1'">(Cancelled)</t>
                                            <t t-elif="filter_post_payment=='2'">(Draft)</t>
                                            <t t-elif="filter_post_payment=='3'">(Reconciled)</t>
                                            <t t-if="filter_post_payment=='4'">(Sent)</t>
                                            <t t-if="filter_post_payment=='5'">(Validated)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Receipt Date</span>
                                    </th>
                                    <th>
                                        <span>Cash Reciept No.</span>
                                    </th>
                                    <th>
                                        <span>Customer Name</span>
                                    </th>
                                    <th>
                                        <span>Clear Status</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Receipt Amount</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <tbody>
                                    <t t-set="ttl" t-value="0"/>
                                    <t t-foreach="docs.sorted(key=lambda x: (x.payment_date,x.display_name),reverse=False)" t-as="table_line">
                                        <t t-set="ttl" t-value="ttl+table_line.amount"/>
                                        <tr>
                                            <td>
                                                <span t-field="table_line.payment_date"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.display_name"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.partner_id.display_name"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.state"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.amount"/>
                                            </td>
                                        </tr>
                                    </t>
                                </tbody>
                                <tfooter>
                                    <tr>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th colspan="2">
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                            </span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_purchase_analysis_report_by_sup">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Purchase Analysis Report by Supplier 
                                            
                                            <t t-if="filter_post=='1'">(Cancel)</t>
                                            <t t-elif="filter_post=='2'">(Draft)</t>
                                            <t t-elif="filter_post=='3'">(Posted)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Bill Date</span>
                                    </th>
                                    <th>
                                        <span>Supplier Name</span>
                                    </th>
                                    <th>
                                        <span>Bill No.</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>Status</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <tbody>
                                    <t t-set="sub" t-value="0"/>
                                    <t t-set="sub_name" t-value=""/>
                                    <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                    <t t-set="sub_ttl" t-value="0"/>
                                    <t t-set="ttl" t-value="0"/>
                                    <t t-foreach="docs.sorted(key=lambda x: (x.invoice_partner_display_name,x.invoice_date),reverse=False)" t-as="table_line" >
                                        <t t-set="ttl" t-value="ttl+table_line.amount_total_signed"/>
                                        <t t-if="table_line_first">
                                            <t t-set="sub_name" t-value="table_line.partner_id.display_name"/></t>
                                        <t t-else="">
                                            <t t-if="sub_name != table_line.partner_id.display_name">
                                                <t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
                                                <t t-set="sub" t-value="1"/></t>
                                            <t t-else="">
                                                <t t-set="sub" t-value="0"/></t>
                                        </t>
                                        <t t-if="sub==1">
                                            <tr>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th>
                                                    <span>Sub Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                            </tr>
                                            <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                            <t t-set="sub_ttl" t-value="0"/></t>
                                        <tr>
                                            <td>
                                                <span t-field="table_line.invoice_date"/>
                                            </td>
                                            <td>
                                                <t t-if="table_line_first">
                                                    <span t-field="table_line.partner_id.display_name"/>
                                                </t>
                                                <t t-else="">
                                                    <t t-if="sub==1">
                                                        <span t-field="table_line.partner_id.display_name"/>
                                                    </t>
                                                    <t t-else="">
                                                        <t t-set="sub" t-value="0"/></t>
                                                </t>
                                            </td>
                                            <td>
                                                <span t-field="table_line.display_name"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-esc="abs(table_line.amount_total_signed)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                            </td>
                                            <td style="text-align:center;">
                                                <span t-field="table_line.state"/>
                                            </td>
                                        </tr>
                                        <t t-set="sub_ttl" t-value="sub_ttl + table_line.amount_total_signed"/>
                                        <t t-if="table_line_last">
                                            <tr>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th>
                                                    <span>Sub Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                            </tr>
                                        </t>
                                    </t>
                                </tbody>
                                <tfooter>
                                    <tr>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="abs(ttl)" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                            </span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_outstanding_inv_report_by_cust">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Outstanding Invoice Report by Customer
                                            
                                            <t t-if="filter_post=='1'">(Cancel)</t>
                                            <t t-elif="filter_post=='2'">(Draft)</t>
                                            <t t-elif="filter_post=='3'">(Posted)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <div t-if="customers" class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <t t-foreach="sorted(customers,key=lambda x: x.display_name,reverse=False)" t-as="customer">
                                    <span t-if="customer_first">
                                        <b>Customer From : </b>
                                        <t t-esc="customer.display_name"/>
                                    </span>
                                    <span t-if="customer_last">
                                        <b>To : </b>
                                        <t t-esc="customer.display_name"/>
                                    </span>
                                </t>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Invoice/Bill Date</span>
                                    </th>
                                    <th>
                                        <span>Client Name</span>
                                    </th>
                                    <th>
                                        <span>Invoice Number</span>
                                    </th>
                                    <th>
                                        <span>Invoice Category</span>
                                    </th>
                                    <th>
                                        <span>Status</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Payment Receipt</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Damage</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Balance</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <tbody>
                                    <t t-set="sub" t-value="0"/>
                                    <t t-set="sub_name" t-value=""/>
                                    <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                    <t t-set="sub_ttl" t-value="0"/>
                                    <t t-set="sub_ttl_due" t-value="0"/>
                                    <t t-set="sub_ttl_other_charges" t-value="0"/>
                                    <t t-set="sub_ttl_discount_amount" t-value="0"/>
                                    <t t-set="sub_ttl_tax_excluded" t-value="0"/>
                                    <t t-set="ttl" t-value="0"/>
                                    <t t-foreach="docs.sorted(key=lambda x: (x.partner_id.display_name,x.invoice_date,x.display_name),reverse=False)" t-as="table_line"  t-if="table_line.amount_residual_signed > 0">
                                        <t t-if="table_line_first">
                                            <t t-set="sub_name" t-value="table_line.partner_id.display_name"/></t>
                                        <t t-else="">
                                            <t t-if="sub_name != table_line.partner_id.display_name">
                                                <t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
                                                <t t-set="sub" t-value="1"/></t>
                                            <t t-else="">
                                                <t t-set="sub" t-value="0"/></t>
                                        </t>
                                        <t t-if="sub==1 and sub_ttl>0">
                                            <tr>
                                                <th colspan="6">
                                                    <span></span>
                                                </th>
                                                <th colspan="2">
                                                    <span>Sub Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                            </tr>
                                            <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                            <t t-set="sub_ttl" t-value="0"/>
                                            <t t-set="sub_ttl_due" t-value="0"/>
                                            <t t-set="sub_ttl_other_charges" t-value="0"/>
                                            <t t-set="sub_ttl_discount_amount" t-value="0"/>
                                            <t t-set="sub_ttl_tax_excluded" t-value="0"/></t>
                                        <tr>
                                            <td>
                                                <span t-field="table_line.invoice_date"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.partner_id.display_name"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.display_name"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.x_studio_invoice_category"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.invoice_payment_state"/>
                                            </td>
                                            <t t-set="ttl_credit" t-value="0"/>
                                            <t t-set="ttl_payment" t-value="0"/>
                                            <t t-if="table_line.invoice_payments_widget != 'false'">
                                                <span t-foreach="json.loads(table_line.invoice_payments_widget)['content']" t-as="payment">
                                                    <span t-if="payment['name']" t-set="ttl_credit" t-value="ttl_credit + payment['amount']"/>
                                                    <span t-else="" t-set="ttl_payment" t-value="ttl_payment + payment['amount']"/></span>
                                            </t>
                                            <td style="text-align:right;">
                                                <span  t-esc="ttl_credit" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span  t-esc="ttl_payment" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.amount_total_signed"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.amount_residual_signed"/>
                                                <t t-set="ttl" t-value="ttl + table_line.amount_residual_signed"/>
                                            </td>
                                        </tr>
                                        <t t-set="sub_ttl" t-value="sub_ttl + table_line.amount_residual_signed"/>
                                    </t>
                                    <t t-if="sub_ttl>0">
                                        <tr>
                                            <th colspan="6">
                                                <span></span>
                                            </th>
                                            <th colspan="2">
                                                <span>Sub Total</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span>
                                                    <t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                </span>
                                            </th>
                                        </tr>
                                    </t>
                                </tbody>
                                <tfooter>
                                    <tr>
                                        <th colspan="6">
                                            <span></span>
                                        </th>
                                        <th colspan="2">
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                            </span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>

    <template id="report_outstanding_inv_report_by_due">
		<t t-call="web.html_container">
			<html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
				<head>
					<meta charset="utf-8"/>
					<meta name="viewport" content="initial-scale=1"/>
					<title>
						<t t-esc="title or 'Odoo Report'"/>
					</title>
					<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
					<link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
					<t t-call-assets="web.report_assets_common" t-js="false"/>
					<t t-call-assets="web.assets_common" t-css="false"/>
					<t t-call-assets="web.report_assets_common" t-css="false"/>
					<t t-if="studio" t-call-assets="web_studio.report_assets"/>
					<t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
					<t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
				</head>
				<body>
					<div class="container-fluid" id="wrapwrap">
						<div class="row" style="text-align:center;">
							<div class="col">
								<b>
									<font style="font-size: 30px;">
										<span t-esc="env.company.name"/>
									</font>
								</b>
							</div>
						</div>
						<div class="row" style="text-align:center;">
							<div class="col">
								<b>
									<font style="font-size: 24px;">
										<span>Outstanding Invoice Report by Due Status												
											<t t-if="filter_post=='3'">(Posted)</t>
                                            <t t-if="invoice_due_status=='no_due'">(No Due)</t>
                                            <t t-if="invoice_due_status=='first_due'">(First Due)</t>
                                            <t t-if="invoice_due_status=='second_due'">(Second Due)</t>
                                            <t t-if="invoice_due_status=='third_due'">(Third Due)</t>
										</span>
									</font>
								</b>
							</div>
						</div>
						<br/>
						<div class="row" style="text-align:center; font-size: 20px;">
							<div class="col">
								<span>
									<b>Date From : </b>
									<t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
								</span>
								<span>
									<b>To : </b>
									<t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
								</span>
							</div>
						</div>
						<br/>
						<div t-if="user_ids" class="row" style="text-align:center; font-size: 20px;">
							<div class="col">
								<span>
									<b>Customer : </b>
									<span t-esc="', '.join(customers.mapped('display_name'))"/>
								</span>
							</div>
						</div>
						<br/>
						<table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
							<thead>
								<tr>
									<th>
										<span>Invoice/Bill Date</span>
									</th>
									<th>
										<span>Client Name</span>
									</th>
									<th>
										<span>Invoice Number</span>
									</th>
									<th>
										<span>Invoice Category</span>
									</th>
									<th>
										<span>Status</span>
									</th>
									<th style="text-align:right;">
										<span>Payment Receipt</span>
									</th>
									<th style="text-align:right;">
										<span>Damage</span>
									</th>
									<th style="text-align:right;">
										<span>Amount</span>
									</th>
									<th style="text-align:right;">
										<span>Balance</span>
									</th>
                                    <t t-if="invoice_due_status==False">
                                        <th>
                                            <span>Due Status</span>
                                        </th>
                                    </t>
								</tr>
							</thead>
							<t t-if="docs">
								<tbody>
									<t t-set="sub" t-value="0"/>
									<t t-set="sub_name" t-value=""/>
									<t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
									<t t-set="sub_ttl" t-value="0"/>
									<t t-set="sub_ttl_due" t-value="0"/>
									<t t-set="sub_ttl_other_charges" t-value="0"/>
									<t t-set="sub_ttl_discount_amount" t-value="0"/>
									<t t-set="sub_ttl_tax_excluded" t-value="0"/>
									<t t-set="ttl" t-value="0"/>
									<t t-foreach="docs.sorted(key=lambda x: (x.partner_id.display_name, x.invoice_date, x.display_name), reverse=False)" t-as="table_line"  t-if="table_line.amount_residual_signed > 0">
										<t t-if="table_line_first">
											<t t-set="sub_name" t-value="table_line.partner_id.display_name"/></t>
										<t t-else="">
											<t t-if="sub_name != table_line.partner_id.display_name">
												<t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
												<t t-set="sub" t-value="1"/>
											</t>
											<t t-else="">
												<t t-set="sub" t-value="0"/>
											</t>
										</t>
										<t t-if="sub==1 and sub_ttl>0">
											<tr>
												<th colspan="6">
													<span></span>
												</th>
												<th colspan="2">
													<span>Sub Total</span>
												</th>
												<th style="text-align:right;">
													<span>
														<t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
													</span>
												</th>
											</tr>
											<t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
											<t t-set="sub_ttl" t-value="0"/>
											<t t-set="sub_ttl_due" t-value="0"/>
											<t t-set="sub_ttl_other_charges" t-value="0"/>
											<t t-set="sub_ttl_discount_amount" t-value="0"/>
											<t t-set="sub_ttl_tax_excluded" t-value="0"/>
										</t>
										<t t-if="table_line.invoice_due_state == 'first_due'">
											<tr style="color:orange;">
												<td>
													<span t-field="table_line.invoice_date"/>
												</td>
												<td>
													<span t-field="table_line.partner_id.display_name"/>
												</td>
												<td>
													<span t-field="table_line.display_name"/>
												</td>
												<td>
													<span t-field="table_line.x_studio_invoice_category"/>
												</td>
												<td>
													<span t-field="table_line.invoice_payment_state"/>
												</td>
												<t t-set="ttl_credit" t-value="0"/>
												<t t-set="ttl_payment" t-value="0"/>
												<t t-if="table_line.invoice_payments_widget != 'false'">
													<span t-foreach="json.loads(table_line.invoice_payments_widget)['content']" t-as="payment">
													<span t-if="payment['name']" t-set="ttl_credit" t-value="ttl_credit + payment['amount']"/>
													<span t-else="" t-set="ttl_payment" t-value="ttl_payment + payment['amount']"/></span>
												</t>
												<td style="text-align:right;">
													<span  t-esc="ttl_credit" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
												</td>
												<td style="text-align:right;">
													<span  t-esc="ttl_payment" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
												</td>
												<td style="text-align:right;">
													<span t-field="table_line.amount_total_signed"/>
												</td>
												<td style="text-align:right;">
													<span t-field="table_line.amount_residual_signed"/>
													<t t-set="ttl" t-value="ttl + table_line.amount_residual_signed"/>
												</td>
                                                <t t-if="invoice_due_status==False">
                                                    <td>
                                                        <span t-field="table_line.invoice_due_state"/>
                                                    </td>
                                                </t>
											</tr>
										</t>
										<t t-elif="table_line.invoice_due_state == 'second_due'">
											<tr style="color:orange; font-weight: bold;">
												<td>
													<span t-field="table_line.invoice_date"/>
												</td>
												<td>
													<span t-field="table_line.partner_id.display_name"/>
												</td>
												<td>
													<span t-field="table_line.display_name"/>
												</td>
												<td>
													<span t-field="table_line.x_studio_invoice_category"/>
												</td>
												<td>
													<span t-field="table_line.invoice_payment_state"/>
												</td>
												<t t-set="ttl_credit" t-value="0"/>
												<t t-set="ttl_payment" t-value="0"/>
												<t t-if="table_line.invoice_payments_widget != 'false'">
													<span t-foreach="json.loads(table_line.invoice_payments_widget)['content']" t-as="payment">
													<span t-if="payment['name']" t-set="ttl_credit" t-value="ttl_credit + payment['amount']"/>
													<span t-else="" t-set="ttl_payment" t-value="ttl_payment + payment['amount']"/></span>
												</t>
												<td style="text-align:right;">
													<span  t-esc="ttl_credit" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
												</td>
												<td style="text-align:right;">
													<span  t-esc="ttl_payment" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
												</td>
												<td style="text-align:right;">
													<span t-field="table_line.amount_total_signed"/>
												</td>
												<td style="text-align:right;">
													<span t-field="table_line.amount_residual_signed"/>
													<t t-set="ttl" t-value="ttl + table_line.amount_residual_signed"/>
												</td>
                                                <t t-if="invoice_due_status==False">
                                                    <td>
                                                        <span t-field="table_line.invoice_due_state"/>
                                                    </td>
                                                </t>
											</tr>
										</t>
										<t t-elif="table_line.invoice_due_state == 'third_due'">
											<tr style="color:red;">
												<td>
													<span t-field="table_line.invoice_date"/>
												</td>
												<td>
													<span t-field="table_line.partner_id.display_name"/>
												</td>
												<td>
													<span t-field="table_line.display_name"/>
												</td>
												<td>
													<span t-field="table_line.x_studio_invoice_category"/>
												</td>
												<td>
													<span t-field="table_line.invoice_payment_state"/>
												</td>
												<t t-set="ttl_credit" t-value="0"/>
												<t t-set="ttl_payment" t-value="0"/>
												<t t-if="table_line.invoice_payments_widget != 'false'">
													<span t-foreach="json.loads(table_line.invoice_payments_widget)['content']" t-as="payment">
													<span t-if="payment['name']" t-set="ttl_credit" t-value="ttl_credit + payment['amount']"/>
													<span t-else="" t-set="ttl_payment" t-value="ttl_payment + payment['amount']"/></span>
												</t>
												<td style="text-align:right;">
													<span  t-esc="ttl_credit" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
												</td>
												<td style="text-align:right;">
													<span  t-esc="ttl_payment" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
												</td>
												<td style="text-align:right;">
													<span t-field="table_line.amount_total_signed"/>
												</td>
												<td style="text-align:right;">
													<span t-field="table_line.amount_residual_signed"/>
													<t t-set="ttl" t-value="ttl + table_line.amount_residual_signed"/>
												</td>
                                                <t t-if="invoice_due_status==False">
                                                    <td>
                                                        <span t-field="table_line.invoice_due_state"/>
                                                    </td>
                                                </t>
											</tr>
										</t>
										<t t-else="">
											<tr>
												<td>
													<span t-field="table_line.invoice_date"/>
												</td>
												<td>
													<span t-field="table_line.partner_id.display_name"/>
												</td>
												<td>
													<span t-field="table_line.display_name"/>
												</td>
												<td>
													<span t-field="table_line.x_studio_invoice_category"/>
												</td>
												<td>
													<span t-field="table_line.invoice_payment_state"/>
												</td>
												<t t-set="ttl_credit" t-value="0"/>
												<t t-set="ttl_payment" t-value="0"/>
												<t t-if="table_line.invoice_payments_widget != 'false'">
													<span t-foreach="json.loads(table_line.invoice_payments_widget)['content']" t-as="payment">
													<span t-if="payment['name']" t-set="ttl_credit" t-value="ttl_credit + payment['amount']"/>
													<span t-else="" t-set="ttl_payment" t-value="ttl_payment + payment['amount']"/></span>
												</t>
												<td style="text-align:right;">
													<span  t-esc="ttl_credit" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
												</td>
												<td style="text-align:right;">
													<span  t-esc="ttl_payment" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
												</td>
												<td style="text-align:right;">
													<span t-field="table_line.amount_total_signed"/>
												</td>
												<td style="text-align:right;">
													<span t-field="table_line.amount_residual_signed"/>
													<t t-set="ttl" t-value="ttl + table_line.amount_residual_signed"/>
												</td>
                                                <t t-if="invoice_due_status==False">
                                                    <td>
                                                        <span t-field="table_line.invoice_due_state"/>
                                                    </td>
                                                </t>
											</tr>
										</t>
										<t t-set="sub_ttl" t-value="sub_ttl + table_line.amount_residual_signed"/>
									</t>
									<t t-if="sub_ttl>0">
										<tr>
											<th colspan="6">
												<span></span>
											</th>
											<th colspan="2">
												<span>Sub Total</span>
											</th>
											<th style="text-align:right;">
												<span>
													<t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
												</span>
											</th>
										</tr>
									</t>
								</tbody>
								<tfooter>
									<tr>
										<th colspan="6">
											<span></span>
										</th>
										<th colspan="2">
											<span>Grand Total</span>
										</th>
										<th style="text-align:right;">
											<span>
												<t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
											</span>
										</th>
									</tr>
								</tfooter>
							</t>
							<t t-else="">
								<tbody>
									<tr>
										<td colspan="100" style="text-align:center; font-size: 20px;">
											<span>
												<b>No Results Found.</b>
											</span>
										</td>
									</tr>
								</tbody>
							</t>
						</table>
					</div>
					<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
					<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
					<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
				</body>
			</html>
		</t>
	</template>

    <template id="report_outstanding_inv_report_by_month">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                            <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Outstanding Invoice Report by Month                                                
                                            <t t-if="filter_post=='1'">(Cancel)</t>
                                            <t t-elif="filter_post=='2'">(Draft)</t>
                                            <t t-elif="filter_post=='3'">(Posted)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="date_list[0].strftime('%b-%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="date_list[len(date_list) - 1].strftime('%b-%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <div t-if="user_ids" class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Customer : </b>
                                    <span t-esc="', '.join(customers.mapped('display_name'))"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <div t-if="category" class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">	
                                <span>
                                    <b>Category : </b>
                                    <span t-esc="', '.join(category.mapped('name'))"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span></span>
                                    </th>
                                    <t t-foreach="date_list" t-as="date">
                                        <th style="text-align:right;">
                                            <span t-esc="date.strftime('%b %Y')"/>
                                        </th>
                                    </t>
                                    <th style="text-align:right;">
                                        <span>Total</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <tbody>
                                    <t t-foreach="customers" t-as="customer">
                                        <t t-set="sub_ttl" t-value="sum(docs.filtered(lambda x: x.partner_id.id == customer.id).mapped('amount_residual_signed'))"/>
                                        <t t-if="sub_ttl > 0">	
                                            <tr>
                                                <td>
                                                    <span t-esc="customer.display_name"/>
                                                </td>
                                                <t t-foreach="date_list" t-as="date">
                                                    <t t-set="ttl_amt" t-value="sum(docs.filtered(lambda x: x.invoice_date.strftime('%b/%Y') == date.strftime('%b/%Y') and x.partner_id.id == customer.id).mapped('amount_residual_signed'))"/>
                                                    <td style="text-align:right;">
                                                        <span>
                                                            <t t-esc="ttl_amt" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                                        </span>
                                                    </td>	
                                                </t>
                                                <td style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                                    </span>
                                                </td>
                                            </tr>
                                        </t>
                                    </t>
                                </tbody>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
	</template>
    
    <template id="report_inv_payment_tracking">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Invoice Payment Tracking Report
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Invoice Date</span>
                                    </th>
                                    <th>
                                        <span>Invoice No.</span>
                                    </th>
                                    <th>
                                        <span>Customer Name</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Invoice Amount</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount Due</span>
                                    </th>
                                    <th>
                                        <span>Invoice Category</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Payment Date</span>
                                    </th>
                                    <th>
                                        <span>Payment Number</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Payment Amount</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Number of Days</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <tbody>
                                    <t t-set="ttl" t-value="0.0"/>
                                    <t t-foreach="docs.sorted(key=lambda x: (x.partner_id.display_name,x.invoice_date,x.display_name),reverse=False)" t-as="doc">
                                        
                                        <t t-if="doc.invoice_payments_widget != 'false'">
                                            <t t-set="sub_ttl" t-value="0.0"/>
                                            <t t-foreach="json.loads(doc.invoice_payments_widget)['content']" t-as="table_line">
                                                <tr>
                                                    <td>
                                                        <span t-if="table_line_first" t-field="doc.invoice_date"/>
                                                    </td>
                                                    <td>
                                                        <span t-if="table_line_first" t-field="doc.display_name"/>
                                                    </td>
                                                    <td>
                                                        <span t-if="table_line_first" t-field="doc.partner_id.display_name"/>
                                                    </td>
                                                    
                                                    <td style="text-align:right;">
                                                        <span t-if="table_line_first" t-field="doc.amount_total_signed"/>
                                                    </td>
                                                    <td style="text-align:right;">
                                                        <span t-if="table_line_first" t-field="doc.amount_residual_signed"/>
                                                    </td>
                                                    <td>
                                                        <span t-if="table_line_first" t-field="doc.x_studio_invoice_category"/>
                                                    </td>
                                                    <td style="text-align:right;">
                                                        <span t-esc="table_line['date']" t-options="{'widget': 'date'}"/>
                                                    </td>
                                                    <td>
                                                        <span t-esc="table_line['ref']"/>
                                                    </td>
                                                    <td style="text-align:right;">
                                                        <span t-esc="table_line['amount']" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                                        <t t-set="sub_ttl" t-value="table_line['amount']+sub_ttl"/>
                                                        <t t-set="ttl" t-value="table_line['amount']+ttl"/>
                                                    </td>
                                                    <td style="text-align:right;">
                                                        <span t-esc="int((datetime.datetime.strptime(table_line['date'], '%Y-%m-%d').date() - doc.invoice_date).days)"/>
                                                    </td>
                                                </tr>
                                                <t t-if="table_line_last">
                                                    <tr>
                                                        <th colspan="2">
                                                        </th>
                                                        
                                                        <th colspan="5">
                                                        </th>
                                                        <th style="text-align:right;">
                                                            <span>Total Payment Amount</span>
                                                        </th>
                                                        <th style="text-align:right;">
                                                            <span t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                                        </th>
                                                        <th>
                                                        </th>
                                                    </tr>
                                                </t>
                                            </t>
                                            
                                        </t>
                                        <t t-else="">
                                            <tr>
                                                <td>
                                                    <span t-field="doc.invoice_date"/>
                                                </td>
                                                <td>
                                                    <span t-field="doc.display_name"/>
                                                </td>
                                                <td>
                                                    <span t-field="doc.partner_id.display_name"/>
                                                </td>

                                                <td style="text-align:right;">
                                                    <span t-field="doc.amount_total_signed"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="doc.amount_residual_signed"/>
                                                </td>
                                                <td>
                                                    <span t-field="doc.x_studio_invoice_category"/>
                                                </td>
                                                <td style="text-align:right;"></td>
                                                <td></td>
                                                <td style="text-align:right;">
                                                    <span t-esc="0.0" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-esc="0"/>
                                                </td>
                                            </tr>
                                        </t>
<!--                                             
                                            
                                            <td>
                                                <span t-field="table_line.x_studio_invoice_category"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.invoice_payment_state"/>
                                            </td>
                                            <t t-set="ttl_credit" t-value="0"/>
                                            <t t-set="ttl_payment" t-value="0"/>
                                            
                                                <span t-foreach="json.loads(table_line.invoice_payments_widget)['content']" t-as="payment">
                                                    <span t-if="payment['name']" t-set="ttl_credit" t-value="ttl_credit + payment['amount']"/>
                                                    <span t-else="" t-set="ttl_payment" t-value="ttl_payment + payment['amount']"/></span>
                                            </t>
                                            <td style="text-align:right;">
                                                <span  t-esc="ttl_credit" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span  t-esc="ttl_payment" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.amount_total_signed"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.amount_residual_signed"/>
                                                <t t-set="ttl" t-value="ttl + table_line.amount_residual_signed"/>
                                            </td>
                                        </tr> -->
                                    </t>
                                </tbody>
                                <tfooter>
                                    <tr>
                                        <th colspan="2">
                                        </th>
                                        <th style="text-align:right;">
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span t-esc="sum(doc.amount_total_signed for doc in docs)" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                        </th>
                                        <th style="text-align:right;">
                                            <span t-esc="sum(doc.amount_residual_signed for doc in docs)" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                        </th>
                                        <th colspan="3">
                                        </th>
                                        <th style="text-align:right;">
                                            <span t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                        </th>
                                        <th></th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    
    <template id="report_outstanding_bill_report_by_ven">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Outstanding Bill Report by Vendor
                                            
                                            <t t-if="filter_post=='1'">(Cancel)</t>
                                            <t t-elif="filter_post=='2'">(Draft)</t>
                                            <t t-elif="filter_post=='3'">(Posted)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Invoice/Bill Date</span>
                                    </th>
                                    <th>
                                        <span>Vendor Name</span>
                                    </th>
                                    <th>
                                        <span>Bill Number</span>
                                    </th>
                                    <th>
                                        <span>Status</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Payment</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Damage</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Balance</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <tbody>
                                    <t t-set="sub" t-value="0"/>
                                    <t t-set="sub_name" t-value=""/>
                                    <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                    <t t-set="sub_ttl" t-value="0"/>
                                    <t t-set="sub_ttl_due" t-value="0"/>
                                    <t t-set="sub_ttl_other_charges" t-value="0"/>
                                    <t t-set="sub_ttl_discount_amount" t-value="0"/>
                                    <t t-set="sub_ttl_tax_excluded" t-value="0"/>
                                    <t t-set="ttl" t-value="0"/>
                                    <t t-foreach="docs.sorted(key=lambda x: (x.invoice_partner_display_name,x.invoice_date,x.display_name),reverse=False)" t-as="table_line" t-if="abs(table_line.amount_residual_signed) > 0">
                                        <t t-if="table_line_first">
                                            <t t-set="sub_name" t-value="table_line.partner_id.display_name"/></t>
                                        <t t-else="">
                                            <t t-if="sub_name != table_line.partner_id.display_name">
                                                <t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
                                                <t t-set="sub" t-value="1"/></t>
                                            <t t-else="">
                                                <t t-set="sub" t-value="0"/></t>
                                        </t>
                                        <t t-if="sub==1">
                                            <tr>
                                                <th colspan="5">
                                                    <span></span>
                                                </th>
                                                <th colspan="2">
                                                    <span>Sub Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                            </tr>
                                            <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                            <t t-set="sub_ttl" t-value="0"/></t>
                                        <tr>
                                            <td>
                                                <span t-field="table_line.invoice_date"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.partner_id.display_name"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.display_name"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.invoice_payment_state"/>
                                            </td>
                                            <t t-set="ttl_credit" t-value="0"/>
                                            <t t-set="ttl_payment" t-value="0"/>
                                            <t t-if="table_line.invoice_payments_widget != 'false'">
                                                <span t-foreach="json.loads(table_line.invoice_payments_widget)['content']" t-as="payment">
                                                    <span t-if="payment['name']" t-set="ttl_credit" t-value="ttl_credit + payment['amount']"/>
                                                    <span t-else="" t-set="ttl_payment" t-value="ttl_payment + payment['amount']"/></span>
                                            </t>
                                            <td style="text-align:right;">
                                                <span  t-esc="abs(ttl_credit)" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span  t-esc="abs(ttl_payment)" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-esc="abs(table_line.amount_total_signed)" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-esc="abs(table_line.amount_residual_signed)" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                                <t t-set="ttl" t-value="ttl + abs(table_line.amount_residual_signed)"/>
                                            </td>
                                        </tr>
                                        <t t-set="sub_ttl" t-value="sub_ttl + abs(table_line.amount_residual_signed)"/>
                                        <t t-if="table_line_last">
                                            <tr>
                                                <th colspan="5">
                                                    <span></span>
                                                </th>
                                                <th colspan="2">
                                                    <span>Sub Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                            </tr>
                                        </t>
                                    </t>
                                </tbody>
                                <tfooter>
                                    <tr>
                                        <th colspan="5">
                                            <span></span>
                                        </th>
                                        <th colspan="2">
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="abs(ttl)" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                            </span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_cash_payment_listing_by_lumpsum">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Cash Payment Listing by Lumpsum
                                            
                                            <t t-if="filter_post_payment=='1'">(Cancelled)</t>
                                            <t t-elif="filter_post_payment=='2'">(Draft)</t>
                                            <t t-elif="filter_post_payment=='3'">(Reconciled)</t>
                                            <t t-if="filter_post_payment=='4'">(Sent)</t>
                                            <t t-if="filter_post_payment=='5'">(Validated)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Payment No.</span>
                                    </th>
                                    <th>
                                        <span>Payment Date</span>
                                    </th>
                                    <th>
                                        <span>Name</span>
                                    </th>
                                    <th>
                                        <span>Cur</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <tbody>
                                    <t t-set="sub" t-value="0"/>
                                    <t t-set="sub_name" t-value=""/>
                                    <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                    <t t-set="sub_ttl" t-value="0"/>
                                    <t t-set="ttl" t-value="0"/>
                                    <t t-foreach="docs.sorted(key=lambda x: (x.partner_id.display_name,x.payment_date),reverse=False)" t-as="table_line">
                                        <t t-set="ttl" t-value="ttl+table_line.amount"/>
                                        <t t-if="table_line_first">
                                            <t t-set="sub_name" t-value="table_line.partner_id.display_name"/></t>
                                        <t t-else="">
                                            <t t-if="sub_name != table_line.partner_id.display_name">
                                                <t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
                                                <t t-set="sub" t-value="1"/></t>
                                            <t t-else="">
                                                <t t-set="sub" t-value="0"/></t>
                                        </t>
                                        <t t-if="sub==1">
                                            <tr>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th colspan="2">
                                                    <span>Sub Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                            </tr>
                                            <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                            <t t-set="sub_ttl" t-value="0"/></t>
                                        <tr>
                                            <td>
                                                <span t-field="table_line.display_name"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.payment_date"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.partner_id.display_name"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.currency_id"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.amount"/>
                                            </td>
                                        </tr>
                                        <t t-set="sub_ttl" t-value="sub_ttl + table_line.amount"/>
                                        <t t-if="table_line_last">
                                            <tr>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th colspan="2">
                                                    <span>Sub Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                            </tr>
                                        </t>
                                    </t>
                                </tbody>
                                <tfooter>
                                    <tr>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th colspan="2">
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                            </span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_sales_report_by_product_cat">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Sales Report by Product Category
                                            
                                            <t t-if="filter_post=='1'">(Cancel)</t>
                                            <t t-elif="filter_post=='2'">(Draft)</t>
                                            <t t-elif="filter_post=='3'">(Posted)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em">
                            <thead>
                                <tr>
                                    <th t-if='user_ids'>
                                        <span>Customer Name</span>
                                    </th>
                                    <th>
                                        <span>Product Category</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Net Amount</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="lst">
                                <tbody>
                                    <t t-set="ttl" t-value="0"/>
                                    <t t-foreach="lst" t-as="product_cats">
                                        <t t-if='user_ids'>
                                            <t t-foreach="product_cats['customer']" t-as="customer">
                                                <tr>
                                                    <td>
                                                        <span t-esc="customer['sub_cust'].display_name"/>
                                                    </td>
                                                    <td>
                                                        <span t-esc="product_cats['product_cats_id']"/>
                                                    </td>
                                                    <td style="text-align:right;">
                                                        <span t-esc="customer['sub_ttl']" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                                    </td>
                                                </tr>
                                                <tr t-if="customer_last">
                                                    <th>
                                                        <span></span>
                                                    </th>
                                                    <th>
                                                        <span>Sub Total</span>
                                                    </th>
                                                    <th style="text-align:right;">
                                                        <span>
                                                            <t t-esc="product_cats['ttl']" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                                        </span>
                                                        <t t-set="ttl" t-value="ttl + product_cats['ttl']"/>
                                                    </th>
                                                </tr>
                                            </t>
                                        </t>
                                        <t t-else="">
                                            <tr>
                                                <td>
                                                    <span t-esc="product_cats['product_cats_id']"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-esc="product_cats['ttl']" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                                    <t t-set="ttl" t-value="ttl + product_cats['ttl']"/>
                                                </td>
                                            </tr>
                                        </t>
                                    </t>
                                </tbody>
                                <tfooter>
                                    <tr>
                                        <th  t-if='user_ids'>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                            </span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_sales_report_by_org_product_cat">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Sales Report by Original Product Category
                                            
                                            <t t-if="filter_post=='1'">(Cancel)</t>
                                            <t t-elif="filter_post=='2'">(Draft)</t>
                                            <t t-elif="filter_post=='3'">(Posted)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em">
                            <thead>
                                <tr>
                                    <th t-if='user_ids'>
                                        <span>Customer Name</span>
                                    </th>
                                    <th>
                                        <span>Product Category</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Net Amount</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="lst">
                                <tbody>
                                    <t t-set="ttl" t-value="0"/>
                                    <t t-foreach="lst" t-as="product_cats">
                                        <t t-if='user_ids'>
                                            <t t-foreach="product_cats['customer']" t-as="customer">
                                                <tr>
                                                    <td>
                                                        <span t-esc="customer['sub_cust'].display_name"/>
                                                    </td>
                                                    <td>
                                                        <span t-esc="product_cats['product_cats_id']"/>
                                                    </td>
                                                    <td style="text-align:right;">
                                                        <span t-esc="customer['sub_ttl']" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                                    </td>
                                                </tr>
                                                <tr t-if="customer_last">
                                                    <th>
                                                        <span></span>
                                                    </th>
                                                    <th>
                                                        <span>Sub Total</span>
                                                    </th>
                                                    <th style="text-align:right;">
                                                        <span>
                                                            <t t-esc="product_cats['ttl']" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                                        </span>
                                                        <t t-set="ttl" t-value="ttl + product_cats['ttl']"/>
                                                    </th>
                                                </tr>
                                            </t>
                                        </t>
                                        <t t-else="">
                                            <tr>
                                                <td>
                                                    <span t-esc="product_cats['product_cats_id']"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-esc="product_cats['ttl']" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                                    <t t-set="ttl" t-value="ttl + product_cats['ttl']"/>
                                                </td>
                                            </tr>
                                        </t>
                                    </t>
                                </tbody>
                                <tfooter>
                                    <tr>
                                        <th  t-if='user_ids'>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                            </span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_purchase_listing_by_sup">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Purchase Listing by Supplier
                                            
                                            <t t-if="filter_post=='1'">(Cancel)</t>
                                            <t t-elif="filter_post=='2'">(Draft)</t>
                                            <t t-elif="filter_post=='3'">(Posted)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Supplier Name</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <tbody>
                                    <t t-set="sub" t-value="0"/>
                                    <t t-set="sub_name" t-value=""/>
                                    <t t-set="temp_name" t-value=""/>
                                    <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                    <t t-set="sub_ttl" t-value="0"/>
                                    <t t-set="ttl" t-value="0"/>
                                    <t t-foreach="docs.sorted(key=lambda x: (x.invoice_partner_display_name,x.invoice_date),reverse=False)" t-as="table_line" >
                                        <t t-set="ttl" t-value="ttl+table_line.amount_total_signed"/>
                                        <t t-if="table_line_first">
                                            <t t-set="sub_name" t-value="table_line.partner_id.id"/>
                                            <t t-set="temp_name" t-value="table_line.partner_id.display_name"/></t>
                                        <t t-else="">
                                            <t t-if="sub_name != table_line.partner_id.id">
                                                <t t-set="sub_name" t-value="table_line.partner_id.id"/>
                                                <t t-set="sub" t-value="1"/></t>
                                            <t t-else="">
                                                <t t-set="sub" t-value="0"/></t>
                                        </t>
                                        <t t-if="sub==1">
                                            <tr>
                                                <td>
                                                    <span t-esc="temp_name"></span>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </td>
                                            </tr>
                                            <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                            <t t-set="sub_ttl" t-value="0"/>
                                            <t t-set="temp_name" t-value="table_line.partner_id.display_name"/></t>
                                        <t t-set="sub_ttl" t-value="sub_ttl + table_line.amount_total_signed"/>
                                        <t t-if="table_line_last">
                                            <tr>
                                                <td>
                                                    <span t-esc="temp_name"></span>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </td>
                                            </tr>
                                        </t>
                                    </t>
                                </tbody>
                                <tfooter>
                                    <tr>
                                        <th>
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="abs(ttl)" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                            </span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_sales_analysis_by_state">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body >
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                      Sales Analysis Report by State
                                        
                                        <t t-if="filter_post=='1'">(Cancel)</t>
                                        <t t-elif="filter_post=='2'">(Draft)</t>
                                        <t t-elif="filter_post=='3'">(Posted)</t>
                                        <br/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <t t-if="country" t-esc="country"></t>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em">
                            <thead>
                                <tr>
                                    <th>
                                        <span>State Name</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Total</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <tbody>
                                    <t t-set="currency_id" t-value="docs.currency_id"/>
                                    <t t-set="ttl" t-value="0"/>
                                    <t t-foreach="state" t-as="temp">
                                        <t t-set="sub_ttl" t-value="0"/>
                                        <t t-foreach="docs" t-as="table_line" t-if="table_line.partner_id.state_id.name==temp">
                                            <t t-set="sub_ttl" t-value="sub_ttl + table_line.amount_total_signed"/></t>
                                        <tr>
                                            <td>
                                                <span  t-esc="temp"></span>
                                            </td>
                                            <td style="text-align:right;">
                                                <span>
                                                    <t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                                </span>
                                                <t t-set="ttl" t-value="ttl + sub_ttl"/>
                                            </td>
                                        </tr>
                                    </t>
                                    <t t-set="sub_ttl" t-value="0"/>
                                    <t t-foreach="docs" t-as="table_line" t-if="not table_line.partner_id.state_id.name">
                                        <t t-set="sub_ttl" t-value="sub_ttl + table_line.amount_total_signed"/></t>
                                    <tr>
                                        <td>
                                                    Undefined
                                                </td>
                                        <td style="text-align:right;">
                                            <span>
                                                <t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                            </span>
                                            <t t-set="ttl" t-value="ttl + sub_ttl"/>
                                        </td>
                                    </tr>
                                </tbody>
                                <tfooter>
                                    <tr>
                                        <th>
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="abs(ttl)" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                            </span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_sales_order_report_by_client">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Sales Order Report by Client
                                            
                                            <t t-if="filter_post_order=='1'">(Fully Invoice)</t>
                                            <t t-elif="filter_post_order=='2'">(Nothing to Invoice)</t>
                                            <t t-elif="filter_post_order=='3'">(To Invoice)</t>
                                            <t t-elif="filter_post_order=='4'">(Upselling Opportunity)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Order Date</span>
                                    </th>
                                    <th>
                                        <span>Client Name</span>
                                    </th>
                                    <th>
                                        <span>Invoice Number</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Other Charges</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Discount</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                    <th>
                                        <span>Status</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <t t-set="total_currency_id" t-value="docs.currency_id"/>
                                <t t-set="ttl" t-value="0"/>
                                <t t-set="ttl_other_charges" t-value="0"/>
                                <t t-set="ttl_discount_amount" t-value="0"/>
                                <tbody>
                                    <t t-set="sub" t-value="0"/>
                                    <t t-set="sub_name" t-value=""/>
                                    <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                    <t t-set="sub_ttl" t-value="0"/>
                                    <t t-set="sub_ttl_other_charges" t-value="0"/>
                                    <t t-set="sub_ttl_discount_amount" t-value="0"/>
                                    <t t-foreach="docs.sorted(key=lambda x: (x.partner_id.display_name,x.date_order.strftime('%d/%m/%Y')),reverse=False)" t-as="table_line">
                                        <t t-if="table_line_first">
                                            <t t-set="sub_name" t-value="table_line.partner_id.display_name"/></t>
                                        <t t-else="">
                                            <t t-if="sub_name != table_line.partner_id.display_name">
                                                <t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
                                                <t t-set="sub" t-value="1"/></t>
                                            <t t-else="">
                                                <t t-set="sub" t-value="0"/></t>
                                        </t>
                                        <t t-if="sub==1">
                                            <tr>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th>
                                                    <span>Sub Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl_other_charges" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl_discount_amount" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                            </tr>
                                            <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                            <t t-set="sub_ttl" t-value="0"/>
                                            <t t-set="sub_ttl_other_charges" t-value="0"/>
                                            <t t-set="sub_ttl_discount_amount" t-value="0"/></t>
                                        <tr>
                                            <td>
                                                <span t-esc="table_line.date_order.strftime('%d/%m/%Y')"/>
                                            </td>
                                            <td>
                                                <t t-if="table_line_first">
                                                    <span t-field="table_line.partner_id.display_name"/>
                                                </t>
                                                <t t-else="">
                                                    <t t-if="sub==1">
                                                        <span t-field="table_line.partner_id.display_name"/>
                                                    </t>
                                                    <t t-else="">
                                                        <t t-set="sub" t-value="0"/></t>
                                                </t>
                                            </td>
                                            <td>
                                                <span t-field="table_line.display_name"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.x_studio_other_charges_1"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.x_studio_special_discount_amount"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.x_studio_total"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.invoice_status"/>
                                            </td>
                                        </tr>
                                        <t t-set="sub_ttl" t-value="sub_ttl + table_line.x_studio_total"/>
                                        <t t-set="ttl" t-value="ttl + table_line.x_studio_total"/>
                                        <t t-set="sub_ttl_other_charges" t-value="sub_ttl_other_charges + table_line.x_studio_other_charges_1"/>
                                        <t t-set="sub_ttl_discount_amount" t-value="sub_ttl_discount_amount + table_line.x_studio_special_discount_amount"/>
                                        <t t-if="table_line_last">
                                            <tr>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th>
                                                    <span>Sub Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl_other_charges" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl_discount_amount" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                            </tr>
                                        </t>
                                    </t>
                                </tbody>
                                <tfooter>
                                    <tr>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="ttl_other_charges" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                            </span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="ttl_discount_amount" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                            </span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                            </span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_sales_order_report_by_date">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Sales Order Report by Date
                                            
                                            <t t-if="filter_post_order=='1'">(Fully Invoice)</t>
                                            <t t-elif="filter_post_order=='2'">(Nothing to Invoice)</t>
                                            <t t-elif="filter_post_order=='3'">(To Invoice)</t>
                                            <t t-elif="filter_post_order=='4'">(Upselling Opportunity)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Order Date</span>
                                    </th>
                                    <th>
                                        <span>Invoice Number</span>
                                    </th>
                                    <th>
                                        <span>Client Name</span>
                                    </th>
                                    <th>
                                        <span>Product Name</span>
                                    </th>
                                    <th>
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Price</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Discount</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Net Amount</span>
                                    </th>
                                    <th>
                                        <span>Status</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <t t-set="ttl" t-value="0"/>
                                <t t-foreach="docs.sorted(key=lambda x: (x.date_order.strftime('%d/%m/%Y'),x.name),reverse=False)" t-as="doc">
                                    <tbody>
                                        <tr>
                                            <td>
                                                <span t-esc="doc.date_order.strftime('%d/%m/%Y')"/>
                                            </td>
                                            <td>
                                                <span t-field="doc.name"/>
                                            </td>
                                            <td>
                                                <span t-field="doc.partner_id.display_name"/>
                                            </td>
                                            <td colspan="6">
                                                <span t-field="doc.note"/>
                                            </td>
                                            <td style="text-align:center;">
                                                <span t-field="doc.invoice_status"/>
                                            </td>
                                        </tr>
                                        <t t-set="ttl" t-value="ttl + doc.x_studio_total"/>
                                        <t t-foreach="doc.order_line" t-as="table_line" t-if="table_line.name != &quot;Special Discount&quot; and table_line.name != &quot;Other Charges&quot; and table_line.product_uom_qty > 0">
                                            <tr>
                                                <td colspan="3"></td>
                                                <td>
                                                    <span t-field="table_line.product_id"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.product_uom_qty"/>
                                                </td>
                                                <td style="text-align:center;">
                                                    <span t-field="table_line.product_uom"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.price_unit"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.discount"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.price_subtotal"/>
                                                </td>
                                                <td></td>
                                            </tr>
                                        </t>
                                        <tr>
                                            <th colspan="5">
                                                <span></span>
                                            </th>
                                            <th colspan="3">
                                                <span>Sub Total:</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span t-field="doc.x_studio_subtotal_1"/>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                        <tr>
                                            <th colspan="5">
                                                <span></span>
                                            </th>
                                            <th colspan="3">
                                                <span t-esc="round(doc.x_studio_special_discount_percent,2)"/>
                                                <span>% </span>
                                                <span>Special Discount:</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span t-field="doc.x_studio_special_discount_amount"/>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                        <tr>
                                            <th colspan="5">
                                                <span></span>
                                            </th>
                                            <th colspan="3">
                                                <span>Other Charges:</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span t-field="doc.x_studio_other_charges_1"/>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                        <tr>
                                            <th colspan="5">
                                                <span></span>
                                            </th>
                                            <th colspan="3">
                                                <span>Total:</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span t-field="doc.x_studio_total"/>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                    </tbody>
                                </t>
                                <tfooter>
                                    <tr>
                                        <th colspan="5">
                                            <span></span>
                                        </th>
                                        <th colspan="3">
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span t-esc="ttl"  t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_sales_quot_report_by_client">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Sales Quotations Report by Client
                                            
                                            <t t-if="filter_post_quot=='1'">(Cancelled)</t>
                                            <t t-elif="filter_post_quot=='2'">(Locked)</t>
                                            <t t-elif="filter_post_quot=='3'">(Quotation)</t>
                                            <t t-elif="filter_post_quot=='4'">(Quotation Sent)</t>
                                            <t t-elif="filter_post_quot=='5'">(Sales Order)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Create Date</span>
                                    </th>
                                    <th>
                                        <span>Preferred Invoice Date</span>
                                    </th>
                                    <th>
                                        <span>Client Name</span>
                                    </th>
                                    <th>
                                        <span>Invoice Number</span>
                                    </th>
                                    <th>
                                        <span>Invoice Category</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Other Charges</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Discount</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                    <th>
                                        <span>Status</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <t t-set="total_currency_id" t-value="docs.currency_id"/>
                                <t t-set="ttl" t-value="0"/>
                                <t t-set="ttl_other_charges" t-value="0"/>
                                <t t-set="ttl_discount_amount" t-value="0"/>
                                <tbody>
                                    <t t-set="sub" t-value="0"/>
                                    <t t-set="sub_name" t-value=""/>
                                    <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                    <t t-set="sub_ttl" t-value="0"/>
                                    <t t-set="sub_ttl_other_charges" t-value="0"/>
                                    <t t-set="sub_ttl_discount_amount" t-value="0"/>
                                    <t t-foreach="docs.sorted(key=lambda x: (x.partner_id.display_name,x.create_date.strftime('%d/%m/%Y')),reverse=False)" t-as="table_line">
                                        <t t-if="table_line_first">
                                            <t t-set="sub_name" t-value="table_line.partner_id.display_name"/></t>
                                        <t t-else="">
                                            <t t-if="sub_name != table_line.partner_id.display_name">
                                                <t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
                                                <t t-set="sub" t-value="1"/></t>
                                            <t t-else="">
                                                <t t-set="sub" t-value="0"/></t>
                                        </t>
                                        <t t-if="sub==1">
                                            <tr>
                                                <th colspan="3">
                                                    <span></span>
                                                </th>
                                                <th colspan="2">
                                                    <span>Sub Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl_other_charges" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl_discount_amount" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                            </tr>
                                            <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                            <t t-set="sub_ttl" t-value="0"/>
                                            <t t-set="sub_ttl_other_charges" t-value="0"/>
                                            <t t-set="sub_ttl_discount_amount" t-value="0"/></t>
                                        <tr>
                                            <td>
                                                <span t-esc="table_line.create_date.strftime('%d/%m/%Y')"/>
                                            </td>
                                            <td>
                                                <span t-if="table_line.x_studio_pre_invoice_date" t-esc="table_line.x_studio_pre_invoice_date.strftime('%d/%m/%Y')"/>
                                            </td>
                                            <td>
                                                <t t-if="table_line_first">
                                                    <span t-field="table_line.partner_id.display_name"/>
                                                </t>
                                                <t t-else="">
                                                    <t t-if="sub==1">
                                                        <span t-field="table_line.partner_id.display_name"/>
                                                    </t>
                                                    <t t-else="">
                                                        <t t-set="sub" t-value="0"/></t>
                                                </t>
                                            </td>
                                            <td>
                                                <span t-field="table_line.display_name"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.x_studio_invoice_category"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.x_studio_other_charges_1"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.x_studio_special_discount_amount"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.x_studio_total"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.state"/>
                                            </td>
                                        </tr>
                                        <t t-set="sub_ttl" t-value="sub_ttl + table_line.x_studio_total"/>
                                        <t t-set="ttl" t-value="ttl + table_line.x_studio_total"/>
                                        <t t-set="sub_ttl_other_charges" t-value="sub_ttl_other_charges + table_line.x_studio_other_charges_1"/>
                                        <t t-set="sub_ttl_discount_amount" t-value="sub_ttl_discount_amount + table_line.x_studio_special_discount_amount"/>
                                        <t t-if="table_line_last">
                                            <tr>
                                                <th colspan="3">
                                                    <span></span>
                                                </th>
                                                <th colspan="2">
                                                    <span>Sub Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl_other_charges" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl_discount_amount" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                            </tr>
                                        </t>
                                    </t>
                                </tbody>
                                <tfooter>
                                    <tr>
                                        <th colspan="3">
                                            <span></span>
                                        </th>
                                        <th colspan="2">
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="ttl_other_charges" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                            </span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="ttl_discount_amount" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                            </span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                            </span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_sales_quot_report_by_date">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Sales Quotations Report by Date
                                            
                                            <t t-if="filter_post_quot=='1'">(Cancelled)</t>
                                            <t t-elif="filter_post_quot=='2'">(Locked)</t>
                                            <t t-elif="filter_post_quot=='3'">(Quotation)</t>
                                            <t t-elif="filter_post_quot=='4'">(Quotation Sent)</t>
                                            <t t-elif="filter_post_quot=='5'">(Sales Order)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Create Date</span>
                                    </th>
                                    <th>
                                        <span>Preferred Invoice Date</span>
                                    </th>
                                    <th>
                                        <span>Invoice Number</span>
                                    </th>
                                    <th>
                                        <span>Client Name</span>
                                    </th>
                                    <th>
                                        <span>Product Name</span>
                                    </th>
                                    <th>
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Price</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Discount</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Net Amount</span>
                                    </th>
                                    <th>
                                        <span>Status</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <t t-set="ttl" t-value="0"/>
                                <t t-foreach="docs.sorted(key=lambda x: (x.create_date.strftime('%d/%m/%Y'),x.name),reverse=False)" t-as="doc">
                                    <tbody>
                                        <tr>
                                            <td>
                                                <span t-esc="doc.create_date.strftime('%d/%m/%Y')"/>
                                            </td>
                                            <td>
                                                <span t-if="doc.x_studio_pre_invoice_date" t-esc="doc.x_studio_pre_invoice_date.strftime('%d/%m/%Y')"/>
                                            </td>
                                            <td>
                                                <span t-field="doc.name"/>
                                            </td>
                                            <td>
                                                <span t-field="doc.partner_id.display_name"/>
                                            </td>
                                            <td colspan="6">
                                                <span t-field="doc.note"/>
                                            </td>
                                            <td style="text-align:center;">
                                                <span t-field="doc.state"/>
                                            </td>
                                        </tr>
                                        <t t-set="ttl" t-value="ttl + doc.x_studio_total"/>
                                        <t t-foreach="doc.order_line" t-as="table_line" t-if="table_line.name != &quot;Special Discount&quot; and table_line.name != &quot;Other Charges&quot; and table_line.product_uom_qty > 0">
                                            <tr>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td></td>
                                                <td>
                                                    <span t-field="table_line.product_id"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.product_uom_qty"/>
                                                </td>
                                                <td style="text-align:center;">
                                                    <span t-field="table_line.product_uom"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.price_unit"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.discount"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.price_subtotal"/>
                                                </td>
                                                <td style="text-align:center;"></td>
                                            </tr>
                                        </t>
                                        <tr>
                                            <th colspan="6">
                                                <span></span>
                                            </th>
                                            <th colspan="3">
                                                <span>Sub Total:</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span t-field="doc.x_studio_subtotal_1"/>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                        <tr>
                                            <th colspan="5">
                                                <span></span>
                                            </th>
                                            <th colspan="3">
                                                <span t-esc="round(doc.x_studio_special_discount_percent,2)"/>
                                                <span>% </span>
                                                <span>Special Discount:</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span t-field="doc.x_studio_special_discount_amount"/>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                        <tr>
                                            <th colspan="6">
                                                <span></span>
                                            </th>
                                            <th colspan="3">
                                                <span>Other Charges:</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span t-field="doc.x_studio_other_charges_1"/>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                        <tr>
                                            <th colspan="6">
                                                <span></span>
                                            </th>
                                            <th colspan="3">
                                                <span>Total:</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span t-field="doc.x_studio_total"/>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                    </tbody>
                                </t>
                                <tfooter>
                                    <tr>
                                        <th colspan="6">
                                            <span></span>
                                        </th>
                                        <th colspan="3">
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span t-esc="ttl"  t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_sales_quot_report_by_p_code">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Sales Quotations Report by Product Code
                                            
                                            <t t-if="filter_post_quot=='1'">(Cancelled)</t>
                                            <t t-elif="filter_post_quot=='2'">(Locked)</t>
                                            <t t-elif="filter_post_quot=='3'">(Quotation)</t>
                                            <t t-elif="filter_post_quot=='4'">(Quotation Sent)</t>
                                            <t t-elif="filter_post_quot=='5'">(Sales Order)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Create Date</span>
                                    </th>
                                    <th>
                                        <span>Preferred Invoice Date</span>
                                    </th>
                                    <th>
                                        <span>Customer Name</span>
                                    </th>
                                    <th>
                                        <span>Invoice Number</span>
                                    </th>
                                    <th>
                                        <span>Product Category</span>
                                    </th>
                                    <th>
                                        <span>Product</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Unit Price</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Discount (%)</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Net Amount</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <tbody>
                                    <t t-set="sub" t-value="1"/>
                                    <t t-set="sub_date" t-value=""/>
                                    <t t-set="currency_id" t-value="docs.currency_id"/>
                                    <t t-set="sub_ttl" t-value="0"/>
                                    <t t-set="ttl" t-value="0"/>
                                    <t t-set="product" t-value="0"/>
                                    <t t-foreach="docs.sorted(key=lambda x:(x.create_date.strftime('%d/%m/%Y'),x.partner_id.display_name),reverse=False)" t-as="doc">
                                        <t t-if="doc_first">
                                            <t t-set="sub_date" t-value="doc.create_date.strftime('%d/%m/%Y')"/>
                                            <t t-set="sub" t-value="0"/></t>
                                        <t t-if="sub_date != doc.create_date.strftime('%d/%m/%Y') and sub_ttl > 0">
                                            <tr>
                                                <th colspan="8">
                                                    <span></span>
                                                </th>
                                                <th colspan="2">
                                                    <span>Sub Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                                        <t t-set="ttl" t-value="ttl + sub_ttl"/>
                                                    </span>
                                                </th>
                                            </tr>
                                            <t t-set="sub_ttl" t-value="0"/>
                                            <t t-set="product" t-value="0"/>
                                            <t t-set="sub_date" t-value="doc.create_date.strftime('%d/%m/%Y')"/>
                                            <t t-set="sub" t-value="1"/></t>
                                        <t t-else="">
                                            <t t-set="sub" t-value="0"/>
                                        </t>
                                        <t t-foreach="doc.order_line.filtered(lambda x:x.name != &quot;Special Discount&quot; and x.name != &quot;Other Charges&quot; and x.product_id.id in product_ids and x.product_id.categ_id.id in product_cats_ids and x.product_uom_qty > 0)" t-as="table_line">
                                            <tr>
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-esc="doc.create_date.strftime('%d/%m/%Y')"/>
                                                    </t>
                                                </td>
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-if="doc.x_studio_pre_invoice_date" t-esc="doc.x_studio_pre_invoice_date.strftime('%d/%m/%Y')"/>
                                                    </t>
                                                </td>
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-field="doc.partner_id.display_name"/>
                                                    </t>
                                                </td>
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-field="doc.display_name"/>
                                                    </t>
                                                </td>
                                                <td>
                                                    <span t-field="table_line.product_id.categ_id.display_name"/>
                                                </td>
                                                <td>
                                                    <span t-field="table_line.product_id"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.product_uom_qty"/>
                                                </td>
                                                <td style="text-align:center;">
                                                    <span t-field="table_line.product_uom"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.price_unit"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.discount"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.price_subtotal"/>
                                                    <t t-set="sub_ttl" t-value="sub_ttl + table_line.price_subtotal"/>
                                                </td>
                                                <t t-if="sub==1">
                                                    <t t-set="sub" t-value="0"/></t>
                                            </tr>
                                        </t>
                                        <t t-if="doc_last and sub_ttl > 0">
                                            <tr if="sub_ttl>0">
                                                <th colspan="8">
                                                    <span></span>
                                                </th>
                                                <th colspan="2">
                                                    <span>Sub Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                                        <t t-set="ttl" t-value="ttl + sub_ttl"/>
                                                    </span>
                                                </th>
                                            </tr>
                                        </t>
                                    </t>
                                </tbody>
                                <tfooter>
                                    <tr>
                                        <th colspan="8">
                                            <span></span>
                                        </th>
                                        <th colspan="2">
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                            </span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_refund_lst_by_product_code">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Refund Listing by Product Code 
                                            
                                            <t t-if="filter_post_credit=='1'"> (Cancelled)</t>
                                            <t t-elif="filter_post_credit=='2'">(Draft)</t>
                                            <t t-elif="filter_post_credit=='3'">(Posted)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Invoice No.</span>
                                    </th>
                                    <th>
                                        <span>Inv Date</span>
                                    </th>
                                    <th>
                                        <span>Customer Name</span>
                                    </th>
                                    <th>
                                        <span>Product</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Price</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <tbody>
                                    <t t-set="ttl" t-value="0"/>
                                    <t t-set="total_currency_id" t-value="docs.currency_id"/>
                                    <t t-foreach="docs.sorted(key=lambda x: (x.display_name),reverse=False)" t-as="doc">
                                        <t t-set="sub" t-value="0"/>
                                        <t t-set="sub_name" t-value=""/>
                                        <t t-set="sub_ttl" t-value="0"/>
                                        <t t-foreach="doc.invoice_line_ids" t-as="table_line" t-if="table_line.product_id.display_name in product_ids">
                                            <t t-set="sub" t-value="1"/>
                                            <tr>
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-field="doc.display_name"/>
                                                    </t>
                                                </td>
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-field="doc.invoice_date"/>
                                                    </t>
                                                </td>
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-field="doc.partner_id.display_name"/>
                                                    </t>
                                                </td>
                                                <td>
                                                    <span t-field="table_line.product_id"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.price_unit"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.quantity"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.product_uom_id"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.price_subtotal"/>
                                                    <t t-set="sub_ttl" t-value="sub_ttl + table_line.price_subtotal"/>
                                                    <t t-set="ttl" t-value="ttl + table_line.price_subtotal"/>
                                                </td>
                                            </tr>
                                        </t>
                                        <tr t-if="sub > 0">
                                            <t t-set="sub" t-value="0"/>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th colspan="2">
                                                <span>Sub Total</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span>
                                                    <t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                                </span>
                                            </th>
                                        </tr>
                                    </t>
                                </tbody>
                                <tfooter>
                                    <t t-set="total_currency_id" t-value="docs.currency_id"/>
                                    <tr>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th  colspan="2">
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span>
                                                <t t-esc="abs(ttl)" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                            </span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_refund_lst_by_vendor">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Refund Listing by Vendor
                                            
                                            <t t-if="filter_post_credit=='1'"> (Cancelled)</t>
                                            <t t-elif="filter_post_credit=='2'">(Draft)</t>
                                            <t t-elif="filter_post_credit=='3'">(Posted)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Vendor Name</span>
                                    </th>
                                    <th>
                                        <span>Inv Date</span>
                                    </th>
                                    <th>
                                        <span>Return No.</span>
                                    </th>
                                    <th>
                                        <span>Product</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Price</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Total</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount Due</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <t t-set="sub_name" t-value=""/>
                                <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                <t t-set="total_currency_id" t-value="docs.currency_id"/>
                                <t t-set="ttl" t-value="0"/>
                                <t t-set="sub_ttl" t-value="0"/>
                                <t t-set="ttl_amt_due" t-value="0"/>
                                <t t-foreach="docs.sorted(key=lambda x: (x.invoice_partner_display_name,x.display_name),reverse=False)" t-as="doc">
                                    <tbody>
                                        <t t-set="ttl_amt_due" t-value="ttl_amt_due + doc.amount_residual_signed"/>
                                        <t t-set="sub_ttl" t-value="0"/>
                                        <t t-foreach="doc.invoice_line_ids.sorted(key=lambda l: (-l.sequence, l.date, l.move_name, -l.id), reverse=True)" t-as="table_line">
                                            <t t-set="sub_ttl" t-value="sub_ttl + table_line.price_subtotal"/>
                                            <t t-set="ttl" t-value="ttl + table_line.price_subtotal"/>
                                            
                                            <tr>
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-field="doc.partner_id.display_name"/>
                                                    </t>
                                                </td>
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-field="doc.invoice_date"/>
                                                    </t>
                                                </td>
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-field="doc.display_name"/>
                                                    </t>
                                                </td>
                                                <td>
                                                    <span t-field="table_line.product_id"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.price_unit"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.quantity"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.product_uom_id"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.price_subtotal"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <t t-if="table_line_first">
                                                        <span t-field="doc.amount_residual_signed"/>
                                                    </t>
                                                </td>
                                            </tr>
                                            <tr t-if="table_line_last">
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th colspan="2">
                                                    <span>Sub Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(doc.amount_residual_signed)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                                    </span>
                                                </th>
                                            </tr>
                                        </t>
                                    </tbody>
                                    <t t-if="doc_last">
                                        <tfooter>
                                            <tr>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th colspan="2">
                                                    <span>Grand Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(ttl)" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                                    </span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span>
                                                        <t t-esc="abs(ttl_amt_due)" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                                    </span>
                                                </th>
                                            </tr>
                                        </tfooter>
                                    </t>
                                </t>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_purchase_order_report_by_date">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Purchase Order Report by Date
                                            
                                            <t t-if="filter_post_pur_order=='cancel'">(Cancelled)</t>
                                            <t t-elif="filter_post_pur_order=='done'">(Locked)</t>
                                            <t t-elif="filter_post_pur_order=='draft'">(RFQ)</t>
                                            <t t-elif="filter_post_pur_order=='purchase'">(Purchase Order)</t>
                                            <t t-elif="filter_post_pur_order=='sent'">(RFQ Sent)</t>
                                            <t t-elif="filter_post_pur_order=='to approve'">(To Approve)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Order Date</span>
                                    </th>
                                    <th>
                                        <span>PO Number</span>
                                    </th>
                                    <th>
                                        <span>Vendor Name</span>
                                    </th>
                                    <th>
                                        <span>Drop Ship Address</span>
                                    </th>
                                    <th>
                                        <span>Product Name</span>
                                    </th>
                                    <th>
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Price</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Net Amount</span>
                                    </th>
                                    <th>
                                        <span>Status</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <t t-set="ttl" t-value="0"/>
                                <t t-foreach="docs.sorted(key=lambda x: (x.date_order.strftime('%d/%m/%Y'),x.name),reverse=False)" t-as="doc">
                                    <tbody>
                                        <t t-set="ttl" t-value="ttl + doc.amount_total"/>
                                        <t t-foreach="doc.order_line" t-as="table_line" t-if="table_line.name != &quot;Special Discount&quot; and table_line.name != &quot;Other Charges&quot;">
                                            <tr>
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-esc="doc.date_order.strftime('%d/%m/%Y')"/>
                                                    </t>
                                                </td>
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-field="doc.name"/>
                                                    </t>
                                                </td>
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-field="doc.partner_id.display_name"/>
                                                    </t>
                                                </td>
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-field="doc.dest_address_id"/>
                                                    </t>
                                                </td>
                                                <td>
                                                    <span t-field="table_line.product_id"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <t t-if="table_line.product_id.uom_id.display_name != table_line.product_uom.display_name">
                                                        <!-- <span t-esc="round((table_line.product_uom_qty * table_line.product_id.uom_id.factor_inv) / table_line.product_uom.factor_inv, 2)"/> -->
                                                        <span t-esc="(table_line.product_uom_qty * table_line.product_id.uom_id.factor_inv) / table_line.product_uom.factor_inv" t-options="{'widget': 'float', 'precision': 2}"/>
                                                    </t>
                                                    <t t-else="">
                                                        <!-- <span t-esc="round(table_line.product_uom_qty, 2)"/> -->
                                                        <span t-esc="table_line.product_uom_qty" t-options="{'widget': 'float', 'precision': 2}"/>
                                                    </t>
                                                </td>
                                                <td style="text-align:center;">
                                                    <span t-field="table_line.product_uom"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.price_unit"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.price_subtotal"/>
                                                </td>
                                                <td style="text-align:center;">
                                                    <t t-if="table_line_first">
                                                        <span t-field="doc.state"/>
                                                    </t>
                                                </td>
                                            </tr>
                                        </t>
                                        <tr>
                                            <th colspan="5">
                                                <span></span>
                                            </th>
                                            <th colspan="3">
                                                <span>Total:</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span t-field="doc.amount_total"/>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                    </tbody>
                                </t>
                                <tfooter>
                                    <tr>
                                        <th colspan="5">
                                            <span></span>
                                        </th>
                                        <th colspan="3">
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <!-- <b><span t-esc="ttl"  t-options="{'widget': 'float', 'precision': 2}"/></b> -->
                                            <span t-esc="ttl"  t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    
    <!-- tto (old) -->
<!--     <template id="report_purchase_order_report_date_prod">
		<t t-call="web.html_container">
			<html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
				<head>
					<meta charset="utf-8"/>
					<meta name="viewport" content="initial-scale=1"/>
					<title>
						<t t-esc="title or 'Odoo Report'"/>
					</title>
					<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
					<link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
					<t t-call-assets="web.report_assets_common" t-js="false"/>
					<t t-call-assets="web.assets_common" t-css="false"/>
					<t t-call-assets="web.report_assets_common" t-css="false"/>
					<t t-if="studio" t-call-assets="web_studio.report_assets"/>
					<t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
					<t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
				</head>
				<body>
					<div class="container-fluid" id="wrapwrap">
						<div class="row" style="text-align:center;">
							<div class="col">
								<b>
									<font style="font-size: 30px;">
										<span t-esc="env.company.name"/>
									</font>
								</b>
							</div>
						</div>
						<div class="row" style="text-align:center;">
							<div class="col">
								<b>
									<font style="font-size: 24px;">
										<span>Purchase Order Report by Date and Product																					
											<t t-if="filter_post_pur_quot=='cancel'">(Cancelled)</t>
											<t t-elif="filter_post_pur_quot=='done'">(Locked)</t>
											<t t-elif="filter_post_pur_quot=='draft'">(RFQ)</t>
											<t t-elif="filter_post_pur_quot=='purchase'">(Purchase Order)</t>
											<t t-elif="filter_post_pur_quot=='sent'">(RFQ Sent)</t>
											<t t-elif="filter_post_pur_quot=='to approve'">(To Approve)</t>
										</span>
									</font>
								</b>
							</div>
						</div>
						<br/>
						<div class="row" style="text-align:center; font-size: 20px;">
							<div class="col">
								<span>
									<b>Date From : </b>
									<t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
								</span>
								<span>
									<b>To : </b>
									<t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
								</span>
							</div>
						</div>
						<br/>
						<table class="table table-sm o_report_block_table" style="padding: 0.5em;">
							<thead>
								<tr>
									<th>
										<span>Order Date</span>
									</th>
									<th>
										<span>PO Number</span>
									</th>
									<th>
										<span>Vendor</span>
									</th>																	
									<th>
										<span>Product Name</span>
									</th>
									<th style="text-align:right;">
										<span>Quantity</span>
									</th>
									<th style="text-align:center;">
										<span>UoM</span>
									</th>
								</tr>
							</thead>
							<t t-if="docs">
								<t t-foreach="docs.sorted(key=lambda x: (x.date_order,x.name),reverse=False)" t-as="doc">
									<tbody>
											<t t-foreach="doc.order_line.filtered(lambda x: x.product_id.id in products and x.name != &quot;Special Discount&quot; and x.name != &quot;Other Charges&quot;)" t-as="table_line">
												<tr>
													<td>
														<t t-if="table_line_first">
															<span t-esc="doc.date_order.strftime('%d/%m/%Y')"/>
														</t>
													</td>
													<td>
														<t t-if="table_line_first">
															<span t-field="doc.name"/>
														</t>
													</td>
													<td>
														<t t-if="table_line_first">
															<span t-field="doc.partner_id.display_name"/>
														</t>
													</td>
													<td>
															<span t-field="table_line.product_id"/>
													</td>
													<td style="text-align:right;">
															<t t-if="table_line.product_id.uom_id.display_name != table_line.product_uom.display_name">
																<span t-esc="round((table_line.product_uom_qty * table_line.product_id.uom_id.factor_inv) / table_line.product_uom.factor_inv, 2)"/>
															</t>
															<t t-else="">
																<span t-esc="table_line.product_uom_qty"/>
															</t>
													</td>
													<td style="text-align:center;">
															<span t-field="table_line.product_uom"/>
													</td>												 
												</tr>
											</t>
									</tbody>
								</t>								
							</t>
							<t t-else="">
								<tbody>
									<tr>
										<td colspan="100" style="text-align:center; font-size: 20px;">
											<span>
												<b>No Results Found.</b>
											</span>
										</td>
									</tr>
								</tbody>
							</t>
						</table>
					</div>
					<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
					<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
					<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
				</body>
			</html>
		</t>
	</template> -->
    
    <!-- tto (updated with new requirements)-->
	<template id="report_purchase_order_report_date_prod">
		<t t-call="web.html_container">
			<html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
				<head>
					<meta charset="utf-8"/>
					<meta name="viewport" content="initial-scale=1"/>
					<title>
						<t t-esc="title or 'Odoo Report'"/>
					</title>
					<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
					<link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
					<t t-call-assets="web.report_assets_common" t-js="false"/>
					<t t-call-assets="web.assets_common" t-css="false"/>
					<t t-call-assets="web.report_assets_common" t-css="false"/>
					<t t-if="studio" t-call-assets="web_studio.report_assets"/>
					<t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
					<t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
				</head>
				<body>
					<div class="container-fluid" id="wrapwrap">
						<div class="row" style="text-align:center;">
							<div class="col">
								<b>
									<font style="font-size: 20px;">
										<span t-esc="env.company.name"/>
									</font>
								</b>
							</div>
						</div>
						<br/>
            <t t-if='lst'>
              <t t-foreach="lst" t-as="prod">
                <div class="row" style="text-align:center; line-height: 30px;">
                  <div class="col">
                    <b>
                      <font style="font-size: 20px;">
                        <span>Product Quantity Listing Date Between 									
                          <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                          And 
                          <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                        </span>
                      </font>
                    </b>
                  </div>
                </div>
<!--                 <br/> -->
                <div class="row" style="text-align:center; line-height: 30px;">
                  <div class="col">                    
                    <font style="font-size: 20px;">
                      <span><b>Consignee :</b>
                        <t t-esc="consignee"/>    
                      </span>
                    </font>                  
                  </div>
                </div>
<!--                 <br/> -->
                <div class="row" style="text-align:center; line-height: 30px;">
                  <div class="col">                    
                    <font style="font-size: 20px;">
                      <span><b>Product :</b>
                        <t t-esc="prod['product']"/>    
                      </span>
                    </font>                    
                  </div>
                </div>
<!--                 <br/> -->
                <div class="row" style="text-align:center; line-height: 30px;">
                  <div class="col">                    
                      <font style="font-size: 20px;">
                        <span><b>Date :</b> 
                          <t t-esc="printing_date"/>  
                          <span style ="margin-left: 20px;"><b>Time :</b></span>
                          <t t-esc="printing_time"/>                          
                        </span>
                      </font>                    
                  </div>
                </div>
<!--                 <br/> -->
                <div class="row" style="text-align:center;">
                  <div class="col">                    
                    <font style="font-size: 20px;">
                      <span><b>Status :</b>																				
                        <t t-if="filter_post_pur_quot=='cancel'">Cancelled</t>
                        <t t-elif="filter_post_pur_quot=='done'">Locked</t>
                        <t t-elif="filter_post_pur_quot=='draft'">RFQ</t>
                        <t t-elif="filter_post_pur_quot=='purchase'">Purchase Order</t>
                        <t t-elif="filter_post_pur_quot=='sent'">RFQ Sent</t>
                        <t t-elif="filter_post_pur_quot=='to approve'">To Approve</t>
                        <t t-else="">All</t>
                      </span>
                    </font>                    
                  </div>
                </div>
                <br/>
                <table class="table table-sm o_report_block_table" style="padding: 0.5em; width: 75%; margin: auto;">
                  <thead>
                    <tr>
                      <th style="text-align:left;">
                        <span>Date</span>
                      </th>
                      <th style="text-align:center;">
                        <span>PO Number</span>
                      </th>                      
                      <th style="text-align:right;">
                        <span>Quantity</span>
                      </th>                     
                    </tr>
                  </thead>
									<tbody>
										<tr>
											<t t-foreach="prod['qty_per_date']" t-as="item">
												<tr>
													<td style="text-align:left;">													
															<span t-esc="item['date']"/>													
													</td>
													<td style="text-align:center;">
														<t t-foreach="item['qty_per_po']" t-as="po">																													
																<span t-esc="po['po_no']"/>
															<br/>
														</t>
													</td>
													<td style="text-align:right;">
														<t t-foreach="item['qty_per_po']" t-as="po">																					
																<span t-esc="'{0:,.2f}'.format(po['qty'])"/>
															<br/>
														</t>
													</td>
												</tr>
												<tr style="background-color: #f2f2f2;">
													<td colspan="2" style="text-align:left;">
														<span>Sub Total</span>
													</td>
													<td style="text-align:right;">
														<span t-esc="'{0:,.2f}'.format(item['sub_total'])"/>
                                                        <br/>
													</td>
												</tr>
											</t>
										</tr>
										<tr style="border-bottom:1px solid black;">
											<th colspan="2" style="text-align:left; border-top:1px solid black;">
												<span>Grand Total</span>
											</th>
											<th style="text-align:right; border-top:1px solid black;">
												<span t-esc="'{0:,.2f}'.format(prod['grand_total'])"/>
                                                <br/>
											</th>
										</tr>
									</tbody>
								</table>
								<br/><br/><br/>	
							</t>							
						</t>	
						<t t-else="">
              <table class="table table-sm o_report_block_table" style="padding: 0.5em;">
                <tbody>
                  <tr>
                    <td colspan="100" style="text-align:center; font-size: 20px;">
                      <span>
                        <b>No Results Found.</b>
                      </span>
                    </td>
                  </tr>
                </tbody>
							</table>
            </t>					
					</div>
					<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
					<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
					<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
				</body>
			</html>
		</t>
	</template>

    <!-- factory purchase order report -->
    <template id="report_factory_purchase_order_report">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Factory Purchase Order Report
                                            
                                            <t t-if="filter_post_pur_order=='cancel'">(Cancelled)</t>
                                            <t t-elif="filter_post_pur_order=='done'">(Locked)</t>
                                            <t t-elif="filter_post_pur_order=='draft'">(RFQ)</t>
                                            <t t-elif="filter_post_pur_order=='purchase'">(Purchase Order)</t>
                                            <t t-elif="filter_post_pur_order=='sent'">(RFQ Sent)</t>
                                            <t t-elif="filter_post_pur_order=='to approve'">(To Approve)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Order Date</span>
                                    </th>
                                    <th>
                                        <span>PO Number</span>
                                    </th>
                                    <th>
                                        <span>Vendor Name</span>
                                    </th>
                                    <!-- <th>
                                        <span>Drop Ship Address</span>
                                    </th> -->
                                    <th>
                                        <span>Product Name</span>
                                    </th>
                                    <th>
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <!-- <th style="text-align:right;">
                                        <span>Price</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Net Amount</span>
                                    </th> -->
                                    <th>
                                        <span>Status</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <t t-set="ttl" t-value="0"/>
                                <t t-foreach="docs.sorted(key=lambda x: (x.date_order.strftime('%d/%m/%Y'),x.name),reverse=False)" t-as="doc">
                                    <tbody>
                                        <t t-set="ttl" t-value="ttl + doc.amount_total"/>
                                        <t t-foreach="doc.order_line" t-as="table_line" t-if="table_line.name != &quot;Special Discount&quot; and table_line.name != &quot;Other Charges&quot;">
                                            <tr>
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-esc="doc.date_order.strftime('%m/%d/%Y')"/>
                                                    </t>
                                                </td>
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-field="doc.name"/>
                                                    </t>
                                                </td>
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-field="doc.partner_id.display_name"/>
                                                    </t>
                                                </td>
                                                <!-- <td>
                                                    <t t-if="table_line_first">
                                                        <span t-field="doc.dest_address_id"/>
                                                    </t>
                                                </td> -->
                                                <td>
                                                    <span t-field="table_line.product_id"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <t t-if="table_line.product_id.uom_id.display_name != table_line.product_uom.display_name">
                                                        <!-- <span t-esc="round((table_line.product_uom_qty * table_line.product_id.uom_id.factor_inv) / table_line.product_uom.factor_inv, 2)"/> -->
                                                        <!-- kkm adding thousand separator -->
                                                        <span t-esc="(table_line.product_uom_qty * table_line.product_id.uom_id.factor_inv) / table_line.product_uom.factor_inv" t-options="{'widget': 'float', 'precision': 2}"/>
                                                    </t>
                                                    <t t-else="">
                                                        <span t-esc="table_line.product_uom_qty" t-options="{'widget': 'float', 'precision': 2}"/>
                                                    </t>
                                                </td>
                                                <td style="text-align:center;">
                                                    <span t-field="table_line.product_uom"/>
                                                </td>
                                                <!-- <td style="text-align:right;">
                                                    <span t-field="table_line.price_unit"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-field="table_line.price_subtotal"/>
                                                </td> -->
                                                <td>
                                                    <t t-if="table_line_first">
                                                        <span t-field="doc.state"/>
                                                    </t>
                                                </td>
                                            </tr>
                                        </t>
                                        <tr>
                                            <!-- <th colspan="5">
                                                <span></span>
                                            </th>
                                            <th colspan="3">
                                                <span>Total:</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span t-field="doc.amount_total"/>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th> -->
                                        </tr>
                                    </tbody>
                                </t>
                                <tfooter>
                                    <tr>
                                        <!-- <th colspan="5">
                                            <span></span>
                                        </th> -->
                                        <!-- <th colspan="3">
                                            <span>Grand Total</span>
                                        </th> -->
                                        <!-- <th style="text-align:right;">
                                            <span t-esc="ttl"  t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                        </th> -->
                                        <!-- <th>
                                            <span></span>
                                        </th> -->
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>

    
    <template id="report_sales_quot_stock_analysis_by_d">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>
                                            Sales Quotation Stock Analysis By Date 
                                            <t t-if="filter_post_quot=='1'">(Cancelled)</t>
                                            <t t-elif="filter_post_quot=='2'">(Locked)</t>
                                            <t t-elif="filter_post_quot=='3'">(Quotation)</t>
                                            <t t-elif="filter_post_quot=='4'">(Quotation Sent)</t>
                                            <t t-elif="filter_post_quot=='5'">(Sales Order)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Item Name</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>Date</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>Preferred Invoice Date</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>Unit of Measure (UoM)</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="lst">
                                <tbody>
                                    <t t-foreach="lst" t-as="line">
                                        <t t-set="sub_qty" value="0"/>
                                        <t t-foreach="line['items']" t-as="item">
                                            <tr>
                                                <td>
                                                    <t>
                                                        <span t-esc="item['name'].display_name"/>
                                                    </t>
                                                </td>
                                                <td style="text-align:center;">
                                                    <t>
                                                        <span t-esc="item['date']"/>
                                                    </t>
                                                </td>
                                                <td style="text-align:right;">
                                                    <t>
                                                        <span t-esc="item['qty']"/>
                                                    </t>
                                                </td>
                                                <td style="text-align:center;">
                                                    <t>
                                                        <span t-esc="item['name'].uom_id.display_name"/>
                                                    </t>
                                                </td>
                                            </tr>
                                        </t>
                                        <tr>
                                            <th></th>
                                            <th style="text-align:center;">
                                                <span>Sub Total</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <t>
                                                    <span t-esc="line['ttl_qty']"/>
                                                </t>
                                            </th>
                                            <th></th>
                                        </tr>
                                    </t>
                                </tbody>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    
    <!-- <template id="report_stock_trans_oprt">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>
                                            Stock Transfer Operations Report
                                            <t t-if="filter_post_stock=='cancel'">(Cancelled)</t>
                                            <t t-elif="filter_post_stock=='done'">(Done)</t>
                                            <t t-elif="filter_post_stock=='draft'">(Draft)</t>
                                            <t t-elif="filter_post_stock=='assigned'">(Ready)</t>
                                            <t t-elif="filter_post_stock=='confirmed'">(Waiting)</t>
                                            <t t-elif="filter_post_stock=='waiting'">(Waiting Another Operation)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>`
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(s_month+'/'+s_year, '%m/%Y').strftime('%b/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(e_month+'/'+e_year, '%m/%Y').strftime('%b/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Item Name</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>Unit of Measure (UoM)</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Opening Blance</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>(+) Receipt</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>(+) Sales Return</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>(+) Inventory Adjustment</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>(-) Inventory Adjustment</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>(-) Putchase Return</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>(-) Delivery Order</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>(-) Scrap</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Closing Balance</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="products">
                                <tbody>
                                    <t t-foreach="products" t-as="product">
                                        <tr>
                                            <td>
                                                <span t-field="product.display_name"></span>
                                            </td>
                                            <td style="text-align:center;">
                                                <span t-field="product.uom_id"></span>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="product.qty_available"></span>
                                            </td>
                                            <td style="text-align:right;">
                                                <t t-set="amt_receipt" t-value="0.0"/>
                                                <t t-foreach="docs.filtered(lambda x: x.product_id == product and len(x.picking_type_id) &#62; 0)" t-as="receipt">
                                                    <t t-if="receipt.picking_type_id.display_name.find('Receipt') != -1" t-set="amt_receipt" t-value="amt_receipt + receipt.product_uom_qty"/>
                                                </t>
                                                <span t-esc="round(amt_receipt,2)"></span>
                                            </td>
                                            <td style="text-align:right;">
                                               <t t-set="amt_sr" t-value="0.0"/>
                                                <t t-foreach="docs.filtered(lambda x: x.product_id == product and len(x.picking_type_id) &#62; 0)" t-as="sr">
                                                    <t t-if="sr.picking_type_id.display_name.find('Sales') != -1" t-set="amt_sr" t-value="amt_sr + sr.product_uom_qty"/>
                                                </t>
                                                <span t-esc="round(amt_sr,2)"></span>
                                            </td>
                                            <td style="text-align:right;">
                                                <t t-set="amt_ivn_add" t-value="0.0"/>
                                                <t t-foreach="docs.filtered(lambda x: x.product_id == product and len(x.picking_type_id) == 0)" t-as="ivn_add">
                                                    <t t-if="ivn_add.location_dest_id.id in stock_loc" t-set="amt_ivn_add" t-value="amt_ivn_add + ivn_add.product_uom_qty"/>
                                                </t>
                                                <span t-esc="round(amt_ivn_add,2)"></span>
                                            </td>
                                            <td style="text-align:right;">
                                                <t t-set="amt_scrap" t-value="0.0"/>
                                                <t t-foreach="scraps.filtered(lambda x: x.product_id == product)" t-as="scrap">
                                                    <t t-set="amt_scrap" t-value="amt_scrap + scrap.scrap_qty"/>
                                                </t>
                                                <t t-set="amt_ivn_min" t-value="0.0"/>
                                                <t t-foreach="docs.filtered(lambda x: x.product_id == product and len(x.picking_type_id) == 0)" t-as="ivn_min">
                                                    <t t-if="ivn_min.location_dest_id.id not in stock_loc" t-set="amt_ivn_min" t-value="amt_ivn_min + ivn_min.product_uom_qty"/>
                                                </t>
                                                <span t-esc="round((amt_ivn_min - amt_scrap),2)"></span>
                                            </td>
                                            <td style="text-align:right;">
                                                <t t-set="amt_pr" t-value="0.0"/>
                                                <t t-foreach="docs.filtered(lambda x: x.product_id == product and len(x.picking_type_id) &#62; 0)" t-as="pr">
                                                    <t t-if="pr.picking_type_id.display_name.find('Purchase') != -1" t-set="amt_pr" t-value="amt_pr + pr.product_uom_qty"/>
                                                </t>
                                                <span t-esc="round(amt_pr,2)"></span>
                                            </td>
                                            <td style="text-align:right;">
                                                <t t-set="amt_do" t-value="0.0"/>
                                                <t t-foreach="docs.filtered(lambda x: x.product_id == product and len(x.picking_type_id) &#62; 0)" t-as="do">
                                                    <t t-if="do.picking_type_id.display_name.find('Delivery') != -1" t-set="amt_do" t-value="amt_do + do.product_uom_qty"/>
                                                </t>
                                                <span t-esc="round(amt_do,2)"></span>
                                            </td>
                                            <td style="text-align:right;">
                                                
                                                <span t-esc="round(amt_scrap,2)"></span>
                                            </td>
                                            <td style="text-align:right;">
                                                <t t-set="ttl" t-value="product.qty_available" />
                                                <t t-set="ttl" t-value="ttl + amt_receipt + amt_sr + amt_ivn_add - amt_ivn_min - amt_pr - amt_do"/>
                                                <span t-esc="round(ttl,2)" />
                                            </td>

                                        </tr>
                                    </t>
                                </tbody>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template> -->
    <template id="report_stock_focus">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>
                                            Stock Focus Report
<!--                                             <t t-if="filter_post_stock=='cancel'">(Cancelled)</t>
                                            <t t-elif="filter_post_stock=='done'">(Done)</t>
                                            <t t-elif="filter_post_stock=='draft'">(Draft)</t>
                                            <t t-elif="filter_post_stock=='assigned'">(Ready)</t>
                                            <t t-elif="filter_post_stock=='confirmed'">(Waiting)</t>
                                            <t t-elif="filter_post_stock=='waiting'">(Waiting Another Operation)</t> -->
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>`
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Previous Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Current Date From : </b>
                                    <t t-esc="datetime.datetime.strptime(c_start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b>
                                    <t t-esc="datetime.datetime.strptime(c_end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Stock Location Name : </b>
                                    <span t-field="stock_loc.display_name"/>
                                </span>
                            </div>
                        </div>
                        
                        <br/>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Item Name</span>
                                    </th>
<!--                                     <th style="text-align:center;">
                                        <span>Unit of Measure (UoM)</span>
                                    </th> -->
                                    <th style="text-align:right;">
                                        <span>Previous</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Current</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Inc/Dec</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>No. of days left</span>
                                    </th>
                                    <th style="text-align:right; width:30%;">
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="products">
                                <tbody>
                                    <t t-foreach="products" t-as="product">
                                        <tr>
                                            <td>
                                                <span t-field="product.display_name"></span>
                                            </td>
<!--                                             <td style="text-align:center;">
                                                <span t-field="product.uom_id"></span>
                                            </td> -->
                                            <td style="text-align:right;">
                                                <t t-set="amt_prev" t-value="0.0"/>
                                                <t t-foreach="p_docs.filtered(lambda r: product in r.invoice_line_ids.product_id)" t-as="doc">
                                                    <t t-foreach="doc.invoice_line_ids.filtered(lambda x: x.product_id.id == product.id)" t-as="table_line">
                                                        <t t-set="amt_prev" t-value="amt_prev + table_line.quantity"/>
                                                    </t>
                                                </t>
                                                <t t-set="amt_prev" t-value="round((amt_prev/ttl_date),2)"/>
                                                <span t-esc="amt_prev"></span>
                                            </td>
                                            <td style="text-align:right;">
                                                <t t-set="amt_cur" t-value="0.0"/>
                                                <t t-foreach="c_docs.filtered(lambda r: product in r.invoice_line_ids.product_id)" t-as="doc">
                                                    <t t-foreach="doc.invoice_line_ids.filtered(lambda x: x.product_id.id == product.id)" t-as="table_line">
                                                        <t t-set="amt_cur" t-value="amt_cur + table_line.quantity"/>
                                                    </t>
                                                </t>
                                                <t t-set="amt_cur" t-value="round((amt_cur/ttl_date_c),2)"/>
                                                <span t-esc="amt_cur"></span>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-esc="round((amt_cur - amt_prev),2)"></span>
                                            </td>
                                            <td style="text-align:right;">
<!--                                                 <span t-esc="product.qty_available"></span> -->
                                                <span t-if="amt_cur > 0" t-esc="int((product.qty_available / amt_cur))"></span>
                                                <span t-else="" t-esc="int(product.qty_available)"/>
<!--                                                 <t t-if="amt_cur > 0">
                                                    <span t-esc="round((product.qty_available / amt_cur),2)"></span>
                                                </t>
                                                <t t-else="">
                                                    <span t-esc="round(product.qty_available,2)"></span>
                                                    
                                                </t> -->
                                            </td>
                                            <td style="text-align:right; width:30%;">
                                            </td>
                                        </tr>
                                    </t>
                                </tbody>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>    
<!--     balance statement -->
    <template id="report_balance_statement">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
                </head>
                <body >
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:left; font-size: 20px;">
                            <div class="col">
                                <span>
                                    Date : 
                                    <t t-esc="today_date.strftime('%d/%m/%Y')"/>
                                </span>                                
                            </div>
                        </div>
                        <div class="row" style="text-align:left; font-size: 20px;"> 
                            <div class="col">
                                <span>
                                    Time : 
                                    <t t-esc="today_date.strftime('%H:%M:%S')"/>
                                </span>                                
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;"> 
                            <div class="col">
                                <font style="font-size: 40px;">
                                      Balance Statement                                                                 
                                <br/>
                                </font>                                
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;"> 
                            <div class="col">                                
                                Consignee  :                                 
<!--                                 <span t-esc="', '.join(user_ids.mapped('name'))"/> -->
                                    <span t-field="user_ids.display_name"/>                                     
                            </div>
                        </div>
                        <div class="row" style="text-align:center; font-size: 20px;"> 
                            <div class="col">
                                Start Date :
                                <span t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                <br/>  
                            </div>
                        </div>
                        <div class="row" style="text-align:center; font-size: 20px;"> 
                            <div class="col">
                                End Date :
                                <span t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                            </div>
                        </div>
                        <table class="table table-sm o_report_block_table" style="padding: 0.5em; font-size: 20px;">
                            <thead>
                                <tr>
                                </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td style="text-align:right;">
                                    <span>
                                        Sales      
                                    </span>
                                </td>
                                <td style="text-align:center;">
                                    <span>
                                     :
                                    </span>
                                </td>
                                <td style="text-align:left;">
                                        <t t-set="sales_ttl" t-value="0"/>
                                        <t t-if="sales_inv">
                                            <t t-set="currency_id" t-value="sales_inv.currency_id"/>
                                            <t t-foreach="user_ids" t-as="user">
                                                <t t-set="sales_ttl" t-value="abs(sum(sales_inv.filtered(lambda x: x.partner_id.id == user.id).mapped('amount_total_signed')))"/>                                               
                                                
                                                <span t-esc = "sales_ttl" t-options="{'widget': 'float', 'precision': 2}"/>
                                            </t>
                                        </t>
                                        <t t-else="">
                                            <span>
                                                <t t-esc="'{:.2f}'.format(sales_ttl)"/>
                                            </span>
                                        </t>
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align:right;">
                                    <span>
                                        Sales Return 
                                    </span>
                                </td>
                                <td style="text-align:center;">
                                    <span>
                                     :
                                    </span>
                                </td>
                                <td style="text-align:left;">
                                    <t t-set="sales_ret_ttl" t-value="0"/>
                                    <t t-if="sales_return"> 
                                        <t t-set="currency_id" t-value="sales_return.currency_id"/>
                                        <!-- <t t-foreach="user4_ids" t-as="user4">                             -->
                                        <t t-foreach="user_ids" t-as="user">
                                            <t t-set="sales_ret_ttl" t-value="abs(sum(sales_return.filtered(lambda x: x.partner_id.id == user.id).mapped('amount_total_signed')))"/>                                            
                                            
                                            <span t-esc = "sales_ret_ttl" t-options="{'widget': 'float', 'precision': 2}"/>
                                        </t>
                                    </t>
                                    <t t-else="">
                                        <span>
                                            <t t-esc="'{:.2f}'.format(sales_ret_ttl)"/>
                                        </span>
                                    </t>
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align:right;">
                                    <span>
                                        Cash Payment 
                                    </span>
                                </td>
                                <td style="text-align:center;">
                                    <span>
                                     :
                                    </span>
                                </td>
                                <td style="text-align:left;">
                                        <t t-set="payment_ttl" t-value="0"/>
                                        <t t-set="currency_id" t-value="cash_payment.currency_id"/>
                                        <t t-if="cash_payment">
                                            <t t-foreach="user_ids" t-as="user">
                                                <t t-set="payment_ttl" t-value="abs(sum(cash_payment.filtered(lambda x: x.partner_id.id == user.id).mapped('amount')))"/>                                                
                                                
<!--                                             <span t-esc="payment_ttl" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/> -->
                                                <span t-esc = "payment_ttl" t-options="{'widget': 'float', 'precision': 2}"/>
                                            </t>
                                        </t>
                                        <t t-else="">
                                            <span>
                                                <t t-esc="'{:.2f}'.format(payment_ttl)"/>
                                            </span>
                                        </t>
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align:right;">
                                    <span>
                                    Purchase 
                                    </span>
                                </td>
                                <td style="text-align:center;">
                                    <span>
                                     :
                                    </span>
                                </td>
                                <td style="text-align:left;">
                                    <t t-set="purchase_ttl" t-value="0"/>
                                    <t t-if="purchase_bill">
                                        <t t-set="currency_id" t-value="purchase_bill.currency_id"/>
                                        <t t-foreach="user_ids" t-as="user">
                                            <t t-set="purchase_ttl" t-value="abs(sum(purchase_bill.filtered(lambda x: x.partner_id.id == user.id).mapped('amount_total_signed')))"/>
<!--                                             <span t-esc="purchase_ttl" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>                                             -->
                                            <span t-esc = "purchase_ttl" t-options="{'widget': 'float', 'precision': 2}"/>
                                        </t>
                                    </t>
                                    <t t-else="">
                                        <span>
                                            <t t-esc="'{:.2f}'.format(purchase_ttl)"/>
                                        </span>
                                    </t>
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align:right;">
                                    <span>
                                    Cash Receipt 
                                    </span>
                                </td>
                                <td style="text-align:center;">
                                    <span>
                                     :
                                    </span>
                                </td>
                                <td style="text-align:left;">
                                    <t t-set="receipt_ttl" t-value="0"/>                                    
                                    <t t-if="cash_receipt">
                                        <t t-set="currency_id" t-value="cash_receipt.currency_id"/>
                                        <t t-foreach="user_ids" t-as="user">
                                            <t t-set="receipt_ttl" t-value="abs(sum(cash_receipt.filtered(lambda x: x.partner_id.id == user.id).mapped('amount')))"/>
<!--                                             <span t-esc="receipt_ttl" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>                                             -->
                                            <span t-esc = "receipt_ttl" t-options="{'widget': 'float', 'precision': 2}"/>
                                        </t>
                                    </t>
                                    <t t-else="">
                                        <span>
                                            <t t-esc="'{:.2f}'.format(receipt_ttl)"/>
                                        </span>
                                    </t>
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align:right;">
                                    <span>
                                    Damage Return 
                                    </span>
                                </td>
                                <td style="text-align:center;">
                                    <span>
                                     :
                                    </span>
                                </td>
                                <td style="text-align:left;">
                                    <t t-set="return_ttl" t-value="0"/>
                                    <t t-if="damage_return"> 
                                        <t t-set="currency_id" t-value="damage_return.currency_id"/>
                                        <t t-foreach="user_ids" t-as="user">
                                            <t t-set="return_ttl" t-value="abs(sum(damage_return.filtered(lambda x: x.partner_id.id == user.id).mapped('amount_total_signed')))"/>
<!--                                             <span t-esc="return_ttl" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>                                             -->
                                            <span t-esc = "return_ttl" t-options="{'widget': 'float', 'precision': 2}"/>
                                        </t>
                                    </t>
                                    <t t-else="">
                                        <span>
                                            <t t-esc="'{:.2f}'.format(return_ttl)"/>
                                        </span>
                                    </t>
                                </td>
                            </tr>
                            <br/>
                            <tr>
                                <br/>
                            </tr>
                            <tr>
                                <td style="text-align:right;">
                                    <span>
                                    Payable 
                                    </span>
                                </td>
                                <td style="text-align:center;">
                                    <span>
                                     :
                                    </span>
                                </td>
                                <td style="text-align:left; border-top: 1px solid black; border-bottom: 1px solid black;">
                                    <t t-set="payable" t-value="0"/>                                    
                                    <t t-set="payable" t-value="round((purchase_ttl + receipt_ttl)-((sales_ttl - sales_ret_ttl) + payment_ttl + return_ttl),2)"/>
                                    
                                    <t t-if = "payable == 0">                                    
                                        <span t-esc="'{:.2f}'.format(abs(payable))"/>                                                                                
                                    </t> 
                                                                                                 
                                    <t t-else = "">
                                        <span t-esc = "payable" t-options="{'widget': 'float', 'precision': 2}"/>
                                    </t>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>

    <template id="report_mo_prod_qty_listing_by_date">
		<t t-call="web.html_container">
			<html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
				<head>
					<meta charset="utf-8"/>
					<meta name="viewport" content="initial-scale=1"/>
					<title>
						<t t-esc="title or 'Odoo Report'"/>
					</title>
					<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
					<link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
					<t t-call-assets="web.report_assets_common" t-js="false"/>
					<t t-call-assets="web.assets_common" t-css="false"/>
					<t t-call-assets="web.report_assets_common" t-css="false"/>
					<t t-if="studio" t-call-assets="web_studio.report_assets"/>
					<t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
					<t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>
				</head>
				<body>
					<div class="container-fluid" id="wrapwrap">
						<div class="row" style="text-align:center;">
							<div class="col">
								<b>
									<font style="font-size: 20px;">
										<span t-esc="env.company.name"/>
									</font>
								</b>
							</div>
						</div>
						<br/>
                        <t t-if='lst'>
                            <t t-foreach="lst" t-as="prod">
                                <div class="row" style="text-align:center; line-height: 30px;">
                                    <div class="col">
                                        <b>
                                            <font style="font-size: 20px;">
                                                <span> Manufacturing Order Product Quantity Listing: Date Between
                                                    <t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                                    And
                                                    <t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%d/%m/%Y')"/>
                                                </span>
                                            </font>
                                        </b>
                                    </div>
                                </div>
                                <div class="row" style="text-align:center; line-height: 30px;">
                                    <div class="col">
                                        <font style="font-size: 20px;">
                                            <span><b>Product :</b>
                                                <t t-esc="prod['product']"/>
                                            </span>
                                        </font>
                                    </div>
                                </div>
                                <div class="row" style="text-align:center; line-height: 30px;">
                                    <div class="col">
                                        <font style="font-size: 20px;">
                                            <span><b>Date :</b>
                                                <t t-esc="printing_date"/>
                                                <span style ="margin-left: 20px;"><b>Time :</b></span>
                                                <t t-esc="printing_time"/>
                                            </span>
                                        </font>
                                    </div>
                                </div>
                                <div class="row" style="text-align:center;">
                                    <div class="col">
                                        <font style="font-size: 20px;">
                                            <span><b>Status :</b>
                                                <t t-if="status=='draft'">Draft</t>
                                                <t t-elif="status=='confirmed'">Confirmed</t>
                                                <t t-elif="status=='planned'">Planned</t>
                                                <t t-elif="status=='progress'">In Progress</t>
                                                <t t-elif="status=='to_close'">To Close</t>
                                                <t t-elif="status=='done'">Done</t>
                                                <t t-elif="status=='cancel'">Cancelled</t>
                                                <t t-else="">All</t>
                                            </span>
                                        </font>                    
                                    </div>
                                </div>
                                <br/>
                                <table class="table table-sm o_report_block_table" style="padding: 0.5em; width: 75%; margin: auto;">
                                    <thead>
                                        <tr>
                                            <th style="text-align:left;">
                                                <span>Planned Date</span>
                                            </th>
                                            <th style="text-align:center;">
                                                <span>MO Number</span>
                                            </th>                      
                                            <th style="text-align:right;">
                                                <span>Quantity</span>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <t t-foreach="prod['qty_per_date']" t-as="item">
                                                <tr>
                                                    <td style="text-align:left;">
                                                            <span t-esc="item['date']"/>
                                                    </td>
                                                    <td style="text-align:center;">
                                                        <t t-foreach="item['qty_per_mo']" t-as="mo">
                                                            <span t-esc="mo['mo_no']"/>
                                                            <br/>
                                                        </t>
                                                    </td>
                                                    <td style="text-align:right;">
                                                        <t t-foreach="item['qty_per_mo']" t-as="mo">
                                                            <span t-esc="'{0:,.2f}'.format(mo['qty'])"/>
                                                            <br/>
                                                        </t>
                                                    </td>
                                                </tr>
                                                <tr style="background-color: #f2f2f2;">
                                                    <td colspan="2" style="text-align:left;">
                                                        <span>Sub Total</span>
                                                    </td>
                                                    <td style="text-align:right;">
                                                        <span t-esc="'{0:,.2f}'.format(item['sub_total'])"/>
                                                        <br/>
                                                    </td>
                                                </tr>
                                            </t>
                                        </tr>
                                        <tr style="border-bottom:1px solid black;">
                                            <th colspan="2" style="text-align:left; border-top:1px solid black;">
                                                <span>Grand Total</span>
                                            </th>
                                            <th style="text-align:right; border-top:1px solid black;">
                                                <span t-esc="'{0:,.2f}'.format(prod['grand_total'])"/>
                                                <br/>
                                            </th>
                                        </tr>
                                    </tbody>
                                </table>
                                <br/><br/><br/>
                            </t>
                        </t>
                        <t t-else="">
                            <table class="table table-sm o_report_block_table" style="padding: 0.5em;">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </t>					
                    </div>
				    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
				    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
				    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
			    </body>
			</html>
		</t>
	</template>

</odoo>
