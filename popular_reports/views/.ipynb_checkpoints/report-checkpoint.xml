<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="paperformat_popular_report" model="report.paperformat">
        <field name="name">format - Contact Check-in</field>
        <field name="default" eval="True"/>
        <field name="format">A4</field>
        <field name="orientation">Portrait</field>
        <field name="margin_top">7</field>
        <field name="margin_bottom">28</field>
        <field name="margin_left">1</field>
        <field name="margin_right">7</field>
        <field name="header_line" eval="False"/>
        <field name="header_spacing">7</field>
        <field name="dpi">90</field>
    </record>
    
    <report
        id="stock_transfer_info"
        model="stock.picking"
        menu="False"
        string="Stock Transfer Information"
        report_type="qweb-html"
        name="popular_reports.report_stock_transfer_info"
        file="popular_reports.report_stock_transfer_info" 
        print_report_name="Stock Transfer Information"
        paperformat="paperformat_popular_report"
    />
    <report
        id="stock_transfer_dtl_info"
        model="stock.picking"
        menu="False"
        string="Stock Transfer Information Summary"
        report_type="qweb-html"
        name="popular_reports.report_stock_transfer_dtl_info"
        file="popular_reports.report_stock_transfer_dtl_info" 
        print_report_name="Stock Transfer Information Summary"
        paperformat="paperformat_popular_report"
            
    />
    <report
        id="cash_receipt_listing_by_date"
        model="account.payment"
        menu="False"
        string="Cash Receipt Listing by Date"
        report_type="qweb-html"
        name="popular_reports.report_cash_receipt_listing_by_date"
        file="popular_reports.report_cash_receipt_listing_by_date" 
        print_report_name="Cash Receipt Listing by Date"
        paperformat="paperformat_popular_report"
    />
    
    <report
        id="cash_receipt_listing_by_r_no"
        model="account.payment"
        menu="False"
        string="Cash Receipt Listing by Receipt No"
        report_type="qweb-html"
        name="popular_reports.report_cash_receipt_listing_by_r_no"
        file="popular_reports.report_cash_receipt_listing_by_r_no" 
        print_report_name="Cash Receipt Listing by Receipt No"
        paperformat="paperformat_popular_report"
    />
    
    <report
        id="refund_lst_by_vendor"
        model="account.payment"
        menu="False"
        string="Refund Listing by Vendor"
        report_type="qweb-html"
        name="popular_reports.report_refund_lst_by_vendor"
        file="popular_reports.report_refund_lst_by_vendor" 
        print_report_name="Refund Listing by Vendor"
        paperformat="paperformat_popular_report"
    />
    <report
        id="refund_lst_by_product_code"
        model="account.payment"
        menu="False"
        string="Refund Listing by Product Code"
        report_type="qweb-html"
        name="popular_reports.report_refund_lst_by_product_code"
        file="popular_reports.report_refund_lst_by_product_code" 
        print_report_name="Refund Listing by Product Code"
        paperformat="paperformat_popular_report"
    />
    
    <report
        id="stock_analysis_by_date_and_cust"
        model="account.move"
        menu="False"
        string="Stock Analysis by Date and Customer"
        report_type="qweb-html"
        name="popular_reports.report_stock_analysis_by_date_and_cust"
        file="popular_reports.report_stock_analysis_by_date_and_cust" 
        print_report_name="Stock Analysis by Date and Customer"
        paperformat="paperformat_popular_report"
    />
    <report
        id="monthly_stock_analysis_report"
        model="account.move"
        menu="False"
        string="Monthly Stock Analysis Report"
        report_type="qweb-html"
        name="popular_reports.report_monthly_stock_analysis_report"
        file="popular_reports.report_monthly_stock_analysis_report" 
        print_report_name="Monthly Stock Analysis Report"
        paperformat="paperformat_popular_report"
    />
    <report
        id="stock_analysis_by_month_and_cust"
        model="account.move"
        menu="False"
        string="Stock Analysis by Month and Customer"
        report_type="qweb-html"
        name="popular_reports.report_stock_analysis_by_month_and_cust"
        file="popular_reports.report_stock_analysis_by_month_and_cust" 
        print_report_name="Stock Analysis by Month and Customer"
        paperformat="paperformat_popular_report"
    />
    <report
        id="stock_analysis_by_date"
        model="account.move"
        menu="False"
        string="Stock Analysis by Date"
        report_type="qweb-html"
        name="popular_reports.report_stock_analysis_by_date"
        file="popular_reports.report_stock_analysis_by_date" 
        print_report_name="Stock Analysis by Date"
        paperformat="paperformat_popular_report"
    />
    <report
        id="purchase_stock_analysis_by_date"
        model="account.move"
        menu="False"
        string="Purchase Stock Analysis by Date"
        report_type="qweb-html"
        name="popular_reports.report_purchase_stock_analysis_by_date"
        file="popular_reports.report_purchase_stock_analysis_by_date" 
        print_report_name="Purchase Stock Analysis by Date"
        paperformat="paperformat_popular_report"
    />
    
    <report
        id="purchase_listing_by_sup"
        model="account.move"
        menu="False"
        string="Purchase Listing by Supplier"
        report_type="qweb-html"
        name="popular_reports.report_purchase_listing_by_sup"
        file="popular_reports.report_purchase_listing_by_sup" 
        print_report_name="Purchase Listing by Supplier"
        paperformat="paperformat_popular_report"
    />
    
    <report
        id="sales_analysis_report_by_cust"
        model="account.move"
        menu="False"
        string="Sales Analysis Report by Customer"
        report_type="qweb-html"
        name="popular_reports.report_sales_analysis_report_by_cust"
        file="popular_reports.report_sales_analysis_report_by_cust"
        print_report_name="Sales Analysis Report by Customer"
        paperformat="paperformat_popular_report"
    />
    <report
        id="sales_report_by_client"
        model="account.move"
        menu="False"
        string="Sales Report by Client"
        report_type="qweb-html"
        name="popular_reports.report_sales_report_by_client"
        file="popular_reports.report_sales_report_by_client"
        print_report_name="Sales Report by Client"
        paperformat="paperformat_popular_report"
    />
    <report
        id="purchase_order_report_by_date"
        model="purchase.order"
        menu="False"
        string="Purchase Order Report by Date"
        report_type="qweb-html"
        name="popular_reports.report_purchase_order_report_by_date"
        file="popular_reports.report_purchase_order_report_by_date"
        print_report_name="Purchase Order Report by Date"
        paperformat="paperformat_popular_report"
    />
    <report
        id="sales_order_report_by_client"
        model="sale.order"
        menu="False"
        string="Sales Order Report by Client"
        report_type="qweb-html"
        name="popular_reports.report_sales_order_report_by_client"
        file="popular_reports.report_sales_order_report_by_client"
        print_report_name="Sales Order Report by Client"
        paperformat="paperformat_popular_report"
    />
    <report
        id="sales_order_report_by_date"
        model="sale.order"
        menu="False"
        string="Sales Order Report by Date"
        report_type="qweb-html"
        name="popular_reports.report_sales_order_report_by_date"
        file="popular_reports.report_sales_order_report_by_date" 
        print_report_name="Sales Order Report by Date"
        paperformat="paperformat_popular_report"
    />
    <report
        id="sales_quot_report_by_date"
        model="sale.order"
        menu="False"
        string="Sales Quotations Report by Date"
        report_type="qweb-html"
        name="popular_reports.report_sales_quot_report_by_date"
        file="popular_reports.report_sales_quot_report_by_date" 
        print_report_name="Sales Quotations Report by Date"
        paperformat="paperformat_popular_report"
    />
    <report
        id="sales_quot_report_by_client"
        model="sale.order"
        menu="False"
        string="Sales Quotations Report by Client"
        report_type="qweb-html"
        name="popular_reports.report_sales_quot_report_by_client"
        file="popular_reports.report_sales_quot_report_by_client"
        print_report_name="Sales Quotations Report by Client"
        paperformat="paperformat_popular_report"
    />
    <report
        id="sales_quot_report_by_p_code"
        model="sale.order"
        menu="False"
        string="Sales Quotations Report by Product Code"
        report_type="qweb-html"
        name="popular_reports.report_sales_quot_report_by_p_code"
        file="popular_reports.report_sales_quot_report_by_p_code"
        print_report_name="Sales Quotations Report by Product Code"
        paperformat="paperformat_popular_report"
    />
    
    <report
        id="sales_report_by_product_cat"
        model="product.template"
        menu="False"
        string="Sales Report by Product Category"
        report_type="qweb-html"
        name="popular_reports.report_sales_report_by_product_cat"
        file="popular_reports.report_sales_report_by_product_cat"
        print_report_name="Sales Report by Product Category"
        paperformat="paperformat_popular_report"
    />
    <report
        id="sales_report_by_product_code"
        model="product.template"
        menu="False"
        string="Sales Report by Product Code"
        report_type="qweb-html"
        name="popular_reports.report_sales_report_by_product_code"
        file="popular_reports.report_sales_report_by_product_code"
        print_report_name="Sales Report by Product Code"
        paperformat="paperformat_popular_report"
    />
    <report
        id="all_balance_listing"
        model="product.template"
        menu="False"
        string="All Balance Listing"
        report_type="qweb-html"
        name="popular_reports.report_all_balance_listing"
        file="popular_reports.report_all_balance_listing"
        print_report_name="All Balance Listing"
        paperformat="paperformat_popular_report"
    />
    <report
        id="stock_valuation_info"
        model="product.template"
        menu="False"
        string="Stock Valuation Information"
        report_type="qweb-html"
        name="popular_reports.report_stock_valuation_info"
        file="popular_reports.report_stock_valuation_info"
        print_report_name="Stock Valuation Information"
        paperformat="paperformat_popular_report"
    />
    <report
        id="purchase_inv_lst_by_inv_no"
        model="account.move"
        menu="False"
        string="Purchase Invoice Listing by Vendor"
        report_type="qweb-html"
        name="popular_reports.report_purchase_inv_lst_by_inv_no"
        file="popular_reports.report_purchase_inv_lst_by_inv_no"
        print_report_name="Purchase Invoice Listing by Vendor" 
        paperformat="paperformat_popular_report"
    />
    <report
        id="sales_report_by_month"
        model="account.move"
        menu="False"
        string="Sales Report by Month"
        report_type="qweb-html"
        name="popular_reports.report_sales_report_by_month"
        file="popular_reports.report_sales_report_by_month" 
        print_report_name="Sales Report by Month"
        paperformat="paperformat_popular_report"
    />
    <report
        id="sales_report_by_date"
        model="account.move"
        menu="False"
        string="Sales Report by Date"
        report_type="qweb-html"
        name="popular_reports.report_sales_report_by_date"
        file="popular_reports.report_sales_report_by_date" 
        print_report_name="Sales Report by Date"
        paperformat="paperformat_popular_report"
    />
    <report
        id="daily_sales_report_by_date"
        model="account.move"
        menu="False"
        string="Daily Sales Report by Date"
        report_type="qweb-html"
        name="popular_reports.report_daily_sales_report_by_date"
        file="popular_reports.report_daily_sales_report_by_date" 
        print_report_name="Daily Sales Report by Date"
        paperformat="paperformat_popular_report"
    />
    
    <report
        id="sales_analysis_by_month_and_cust"
        model="account.move"
        menu="False"
        string="Sales Analysis Report by Month and Customer"
        report_type="qweb-html"
        name="popular_reports.report_sales_analysis_by_month_and_cust"
        file="popular_reports.report_sales_analysis_by_month_and_cust" 
        print_report_name="Sales Analysis Report by Month and Customer"
        paperformat="paperformat_popular_report"
    />
    <report
        id="sales_analysis_by_state"
        model="account.move"
        menu="False"
        string="Sales Analysis Report by State"
        report_type="qweb-html"
        name="popular_reports.report_sales_analysis_by_state"
        file="popular_reports.report_sales_analysis_by_state" 
        print_report_name="Sales Analysis Report by State"
        paperformat="paperformat_popular_report"
    />
    <report
        id="dmg_sales_rtrn_lst_by_cust_no"
        model="account.move"
        menu="False"
        string="Damage Sales Return Listing by Customer"
        report_type="qweb-html"
        name="popular_reports.report_dmg_sales_rtrn_lst_by_cust_no"
        file="popular_reports.report_dmg_sales_rtrn_lst_by_cust_no" 
        print_report_name="Damage Sales Return Listing by Customer"
        paperformat="paperformat_popular_report"
    />
    <report
        id="dmg_sales_rtrn_lst_by_product"
        model="account.move"
        menu="False"
        string="Damage Sales Listing by Produt Code"
        report_type="qweb-html"
        name="popular_reports.report_dmg_sales_rtrn_lst_by_product"
        file="popular_reports.report_dmg_sales_rtrn_lst_by_product" 
        print_report_name="Damage Sales Listing by Produt Code"
        paperformat="paperformat_popular_report"
    />
    <report
        id="cash_receipt_listing_by_cust_no"
        model="account.payment"
        menu="False"
        string="Cash Receipt Listing by Customer"
        report_type="qweb-html"
        name="popular_reports.report_cash_receipt_listing_by_cust_no"
        file="popular_reports.report_cash_receipt_listing_by_cust_no"
        print_report_name="Cash Receipt Listing by Customer (Approved)"
        paperformat="paperformat_popular_report"
    />
    <report
        id="purchase_analysis_report_by_sup"
        model="account.move"
        menu="False"
        string="Purchase Analysis Report by Supplier"
        report_type="qweb-html"
        name="popular_reports.report_purchase_analysis_report_by_sup"
        file="popular_reports.report_purchase_analysis_report_by_sup"
        print_report_name="Purchase Analysis Report by Supplier"
        paperformat="paperformat_popular_report"
    />
    <report
        id="cash_payment_listing_by_lumpsum"
        model="account.payment"
        menu="False"
        string="Cash Payment Listing by Lumpsum"
        report_type="qweb-html"
        name="popular_reports.report_cash_payment_listing_by_lumpsum"
        file="popular_reports.report_cash_payment_listing_by_lumpsum"
        print_report_name="Cash Payment Listing by Lumpsum"
        paperformat="paperformat_popular_report"
    />
    <report
        id="outstanding_inv_report_by_cust"
        model="account.move"
        menu="False"
        string="Outstanding Invoice Report by Customer"
        report_type="qweb-html"
        name="popular_reports.report_outstanding_inv_report_by_cust"
        file="popular_reports.report_outstanding_inv_report_by_cust"
        print_report_name="Outstanding Invoice Report by Customer"
        paperformat="paperformat_popular_report"
    />
    
    <report
        id="outstanding_bill_report_by_ven"
        model="account.move"
        menu="False"
        string="Outstanding Bill Report by Vendor"
        report_type="qweb-html"
        name="popular_reports.report_outstanding_bill_report_by_ven"
        file="popular_reports.report_outstanding_bill_report_by_ven"
        print_report_name="Outstanding Bill Report by Vendor"
        paperformat="paperformat_popular_report"
    />
    
    <template id="report_stock_transfer_info">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Stock Transfer Information by Date
                                            <t t-if="filter_post_stock=='cancel'">(Cancelled)</t>
                                            <t t-elif="filter_post_stock=='done'">(Done)</t>
                                            <t t-elif="filter_post_stock=='draft'">(Draft)</t>
                                            <t t-elif="filter_post_stock=='assigned'">(Ready)</t>
                                            <t t-elif="filter_post_stock=='confirmed'">(Waiting)</t>
                                            <t t-elif="filter_post_stock=='waiting'">(Waiting Another Operation)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Shipping Date</span>
                                    </th>
                                    <th>
                                        <span>Invoice No.</span>
                                    </th>
                                    <th>
                                        <span>Product Code</span>
                                    </th>
                                    <th>
                                        <span>From Location</span>
                                    </th>
                                    <th>
                                        <span>To Location</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Demand</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Done</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th>
                                        <span>Status</span>
                                    </th>  
                                </tr>
                            </thead>
                            <t t-if="docs">
                            <t t-set="ttl" t-value="0"/>
                            <t t-foreach="docs.sorted(key=lambda x: (x.scheduled_date.date(),x.partner_id.display_name),reverse=False)" t-as="doc">
                            
                            <tbody>
                                    <t t-foreach="doc.move_lines.filtered(lambda x: x.product_uom_qty)" t-as="table_line" t-if="table_line.name != &quot;Special Discount&quot; and table_line.name != &quot;Other Charges&quot; and table_line.product_uom_qty > 0">
                                        <tr>
                                            <td>
                                                <t t-if="table_line_first">
                                                    <span t-esc="context_timestamp(doc.scheduled_date).strftime('%m/%d/%Y')"/>
                                                 </t>
                                            </td>
                                            <td>
                                                <t t-if="table_line_first">
                                                    <span t-field="doc.display_name"/>
                                                    
                                                 </t>
                                            </td>
                                            <td>
                                                <span t-field="table_line.product_id"/>
                                            </td>
                                            <td>
                                                <t t-if="doc.picking_type_code=='incoming'"><span t-field="doc.partner_id.display_name"/></t>
                                                <t t-else=""><span t-field="table_line.location_id.display_name"/></t>
                                            </td>
                                            <td>
                                                <t t-if="doc.picking_type_code=='outgoing'"><span t-field="doc.partner_id.display_name"/></t>
                                                <t t-else=""><span t-field="table_line.location_dest_id.display_name"/></t>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.product_uom_qty"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-if="doc.state!='done'"> - </span>
                                                <span t-if="doc.state=='done'" t-field="table_line.quantity_done"/>
                                            </td>
                                            <td style="text-align:center;">
                                                <span t-field="table_line.product_uom"/>
                                            </td>
                                            <td>
                                                <span t-field="doc.state"/>
                                            </td>
                                        </tr>
                                    </t>
                            </tbody>
                            </t>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_stock_transfer_dtl_info">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Stock Transfer Information Summary
                                            <t t-if="filter_post_stock=='cancel'">(Cancelled)</t>
                                            <t t-elif="filter_post_stock=='done'">(Done)</t>
                                            <t t-elif="filter_post_stock=='draft'">(Draft)</t>
                                            <t t-elif="filter_post_stock=='assigned'">(Ready)</t>
                                            <t t-elif="filter_post_stock=='confirmed'">(Waiting)</t>
                                            <t t-elif="filter_post_stock=='waiting'">(Waiting Another Operation)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <div t-if="customers" class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <t t-foreach="customers.sorted(key=lambda x: x.display_name,reverse=False)" t-as="customer">
                                    <span t-if="customer_first">
                                        <b>Customer From : </b>
                                        <t t-esc="customer.display_name"/>
                                    </span>
                                    <span t-if="customer_last">
                                        <b>To : </b>
                                        <t t-esc="customer.display_name"/>
                                    </span>
                                </t>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Product Code</span>
                                    </th>
                                    <th>
                                        <span>From Location</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Demand</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Done</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                </tr>
                            </thead>
                            
                            <t t-if="docs">
                                <t t-foreach="docs" t-as="temp">
                                    <tr>
                                        <td>
                                            <span t-field="temp['product'].display_name"/>
                                        </td>
                                        <td>
                                            <span t-field="temp['location'].display_name"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-esc="'{0:,.2f}'.format(temp['ttl_demand'])"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-esc="'{0:,.2f}'.format(temp['ttl_done'])"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-esc="temp['product'].uom_name"/>
                                        </td>
                                    </tr>
                                </t>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    
    <template id="report_stock_analysis_by_date_and_cust">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                     <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Stock Analysis By Date And Customer</span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>     
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Item Name</span>
                                    </th>
                                    <th t-if="cats">
                                        <span>Category</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                 <tbody>
                                     <t t-if="cats">
                                         <t t-set="sub_ttl" t-value="0"/>
                                         <t t-set="i_name" t-value=""/>
                                         <t t-foreach="custs" t-as="cust">
                                             <tr>
                                                 <th colspan="3" style="text-align:left;">
                                                     <span t-esc="cust.display_name"/>
                                                 </th>
                                             </tr>
                                             <t t-foreach="items.sorted(key=lambda x: x.display_name)" t-as="item">
                                                 <t t-foreach="cats" t-as="category">
                                                     
                                                    <t t-set="sub_ttl" t-value="0"/>
                                                    <t t-set="sub_ttl" t-value="0"/>
                                                    <t t-set="cat" t-value=""/>
                                                    <t t-foreach="docs.filtered(lambda x:x.partner_id == cust and x.x_studio_category_i == category).sorted(key=lambda x: (x.partner_id.display_name),reverse=False)" t-as="doc">
                                                        <t t-foreach="doc.invoice_line_ids.filtered(lambda x:x.product_id == item)" t-as="table_line">
                                                            <t t-set="sub_ttl" t-value="sub_ttl + table_line.quantity"/>
                                                            <t t-set="cat" t-value="doc.x_studio_category_i"/>
                                                            <t t-set="i_name" t-value="table_line.name"/>
                                                        </t>
                                                    </t>
                                                    <tr t-if="sub_ttl>0">
                                                        <td>
                                                            <span t-esc="i_name"/>
                                                        </td>
                                                        <td>
                                                            <span t-esc="cat"/>
                                                        </td>
                                                        <td style="text-align:right;">
                                                            <span t-esc="sub_ttl"/>
                                                        </td>                          
                                                     </tr>
                                                 </t>
                                             </t>
                                         </t>
                                     </t>
                                     <t t-else="">
                                         <t t-set="sub_ttl" t-value="0"/>
                                         <t t-set="i_name" t-value=""/>
                                         <t t-foreach="custs" t-as="cust">
                                             <tr>
                                                 <th colspan="3" style="text-align:left;">
                                                     <span t-esc="cust.display_name"/>
                                                 </th>
                                             </tr>
                                             <t t-foreach="items.sorted(key=lambda x: x.display_name)" t-as="item">
                                                <t t-set="sub_ttl" t-value="0"/>
                                                <t t-set="i_name" t-value=""/>
                                                <t t-foreach="docs.filtered(lambda x:x.partner_id == cust).sorted(key=lambda x: x.partner_id.display_name)" t-as="doc">
                                                    <t t-foreach="doc.invoice_line_ids.filtered(lambda x:x.product_id == item)" t-as="table_line">
                                                        <t t-set="sub_ttl" t-value="sub_ttl + table_line.quantity"/>
                                                        <t t-set="i_name" t-value="table_line.name"/>
                                                    </t>
                                                </t>
                                                <tr t-if="sub_ttl>0">
                                                    <td>
                                                         <span t-esc="i_name"/>
                                                     </td>
                                                     <td style="text-align:right;">
                                                         <span t-esc="sub_ttl"/>
                                                     </td>                          
                                                 </tr>
                                             </t>
                                         </t>
                                     </t>
                                </tbody>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_monthly_stock_analysis_report">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Monthly Stock Analysis Report</span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(s_month+'/'+s_year, '%m/%Y').strftime('%b/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(e_month+'/'+e_year, '%m/%Y').strftime('%b/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>                                
                                    
                                    <th>
                                        <span>Item Name</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="lst">
                                 <t t-foreach="lst" t-as="line">
                                     <tbody>
                                         <tr>
                                            <td>
                                                <t>
                                                    <span t-esc="line['name']"/>
                                                </t>
                                            </td>
                                            <td style="text-align:right;">
                                                <t>
                                                    <span t-esc="line['qty']"/>
                                                </t>
                                            </td>                          
                                         </tr>
                                     </tbody>
                                 </t>
                             </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_stock_analysis_by_month_and_cust">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Stock Analysis By Month and Customer</span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(s_month+'/'+s_year, '%m/%Y').strftime('%b/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(e_month+'/'+e_year, '%m/%Y').strftime('%b/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                 <t t-if="country" t-esc="country"></t><t t-if="state">, <t t-esc="state"/></t>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>                                
                                    
                                    <th>
                                        <span>Item Name</span>
                                    </th>
                                    <th>
                                        <span>Category</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="lst">
                                 <tbody>
                                 <t t-foreach="lst" t-as="item">
                                    <tr>
                                        <td>
                                            <t>
                                                <span t-esc="item['name']"/>
                                            </t>
                                        </td>
                                        <td>
                                            <t>
                                                <span t-esc="item['cat']"/>
                                            </t>
                                        </td>
                                        <td style="text-align:right;">
                                            <t>
                                                <span t-esc="item['qty']"/>
                                            </t>
                                        </td>                          
                                     </tr>
                                 </t>
                                 </tbody>
                             </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_stock_analysis_by_date">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Stock Analysis By Date</span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>                                
                                    
                                    <th>
                                        <span>Item Name</span>
                                    </th>
                                    <th>
                                        <span>Date</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="lst">
                            <tbody>
                                <t t-foreach="lst" t-as="line">
                                    <t t-set="sub_qty" value="0"/>
                                    <t t-foreach="line['items']" t-as="item">
                                        <tr>
                                            <td>
                                                <t>
                                                    <span t-esc="item['name']"/>
                                                </t>
                                            </td>
                                            <td style="text-align:center;">
                                                <t>
                                                    <span t-esc="item['date']"/>
                                                </t>
                                            </td>
                                            <td style="text-align:right;">
                                                <t>
                                                    <span t-esc="item['qty']"/>
                                                </t>
                                            </td>                          
                                         </tr>
                                     </t>
                                    <tr>
                                        <th>
                                        </th>
                                        <th style="text-align:center;">
                                            <span>Sub Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <t>
                                                <span t-esc="line['ttl_qty']"/>
                                            </t>
                                        </th>                          
                                     </tr>
                                </t>
                           </tbody>
                            
                        </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_purchase_stock_analysis_by_date">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                     <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Purchase Stock Analysis By Date
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>                                
                                    
                                    <th>
                                        <span>Item Name</span>
                                    </th>
                                    <th>
                                        <span>Date</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="lst">
                            <tbody>
                                <t t-foreach="lst" t-as="line">
                                    <t t-set="sub_qty" value="0"/>
                                    <t t-foreach="line['items']" t-as="item">
                                        <tr>
                                            <td>
                                                <t>
                                                    <span t-esc="item['name']"/>
                                                </t>
                                            </td>
                                            <td style="text-align:center;">
                                                <t>
                                                    <span t-esc="item['date']"/>
                                                </t>
                                            </td>
                                            <td style="text-align:right;">
                                                <t>
                                                    <span t-esc="item['qty']"/>
                                                </t>
                                            </td>                          
                                         </tr>
                                     </t>
                                    <tr>
                                        <th>
                                        </th>
                                        <th style="text-align:center;">
                                            <span>Sub Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <t>
                                                <span t-esc="line['ttl_qty']"/>
                                            </t>
                                        </th>                          
                                     </tr>
                                </t>
                           </tbody>
                            
                        </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_sales_analysis_report_by_cust">
       <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                     <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Sales Analysis Report by Customer
                                            <t t-if="filter_post=='1'">(Cancel)</t>
                                            <t t-elif="filter_post=='2'">(Draft)</t>
                                            <t t-elif="filter_post=='3'">(Posted)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Customer Name</span>
                                    </th>
                                    <th>
                                        <span>Category</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Pay Amount</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount Due</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <t t-set="ttl" t-value="0"/>
                                <t t-set="ttl_due" t-value="0"/>
                            <tbody>
                                <t t-foreach="docs" t-as="doc">
                                    <t t-foreach="doc['temp_dtl']" t-as="table_line">
                                        <tr>
                                            <td>
                                                <span t-if="table_line_first" t-esc="doc['user'].display_name"></span>
                                            </td>
                                            <td>
                                                <span t-esc="table_line['product_cat']"></span>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-esc="table_line['p_amt']" t-options="{'widget': 'monetary', 'display_currency': currency_id}"></span>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-esc="table_line['d_amt']" t-options="{'widget': 'monetary', 'display_currency': currency_id}"></span>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-esc="table_line['amt']" t-options="{'widget': 'monetary', 'display_currency': currency_id}"></span>
                                            </td>
                                        </tr>
                                        <t t-if="table_line_last">
                                            <t t-set="ttl" t-value="ttl + doc['ttl']"/>
                                            <t t-set="ttl_due" t-value="ttl_due + doc['ttl_due']"/>
                                        </t>
                                    </t>
                                </t>
                            </tbody>
                            
                            <tfooter>
                                <tr>
                                    <th>
                                    </th>
                                    <th>
                                        <span>Grand Total</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="ttl-ttl_due" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/></span>
                                    </th>
                                     <th style="text-align:right;">
                                        <span><t t-esc="ttl_due" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/></span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/></span>
                                    </th>
                                </tr>
                            </tfooter>
                        </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                     </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_sales_report_by_client">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Sales Report by Client 
                                            <t t-if="filter_post=='1'">(Cancel)</t>
                                            <t t-elif="filter_post=='2'">(Draft)</t>
                                            <t t-elif="filter_post=='3'">(Posted)</t>
                                        </span>
                                    </font>
                                </b>
                                
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Invoice/Bill Date</span>
                                    </th>
                                    <th>
                                        <span>Client Name</span>
                                    </th>
                                    <th>
                                        <span>Invoice Number</span>
                                    </th>
                                    <th>
                                        <span>Category</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Pay Amount</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Other Charges</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Discount</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Total</span>
                                    </th>
                                    <th>
                                        <span>Payment</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                            <tbody>
                                <t t-set="sub" t-value="0"/>
                                <t t-set="sub_name" t-value=""/>
                                <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                <t t-set="sub_ttl" t-value="0"/>
                                <t t-set="sub_ttl_due" t-value="0"/>
                                <t t-set="sub_ttl_other_charges" t-value="0"/>
                                <t t-set="sub_ttl_discount_amount" t-value="0"/>
                                <t t-set="sub_ttl_tax_excluded" t-value="0"/>
                                <t t-foreach="docs.sorted(key=lambda x: (x.invoice_partner_display_name,x.invoice_date),reverse=False)" t-as="table_line">
                                    <t t-if="table_line_first">
                                        <t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
                                    </t>
                                    <t t-else="">
                                        <t t-if="sub_name != table_line.partner_id.display_name">
                                            <t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
                                            <t t-set="sub" t-value="1"/>
                                        </t>
                                        <t t-else="">
                                            <t t-set="sub" t-value="0"/>
                                        </t>
                                    </t>
                                    <t t-if="sub==1">
                                        <tr>
                                            <th colspan="3">
                                                <span></span>
                                            </th>
                                            <th>
                                                <span>Sub Total</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl-sub_ttl_due" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl_other_charges" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl_discount_amount" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                        <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                        <t t-set="sub_ttl" t-value="0"/>
                                        <t t-set="sub_ttl_due" t-value="0"/>
                                        <t t-set="sub_ttl_other_charges" t-value="0"/>
                                        <t t-set="sub_ttl_discount_amount" t-value="0"/>
                                        <t t-set="sub_ttl_tax_excluded" t-value="0"/>
                                    </t>
                                    <tr>
                                        <td>
                                            <span t-field="table_line.invoice_date"/>
                                        </td>
                                        <td>
                                            <t t-if="table_line_first">
                                                <span t-field="table_line.partner_id.display_name"/>
                                            </t>
                                            <t t-else="">
                                                <t t-if="sub==1">
                                                   <span t-field="table_line.partner_id.display_name"/>
                                                </t>
                                                <t t-else="">
                                                    <t t-set="sub" t-value="0"/>
                                                </t>
                                            </t>
                                        </td>
                                        <td>
                                            <span t-field="table_line.display_name"/>
                                        </td>
                                        <td>
                                            <span t-field="table_line.x_studio_category_i"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-esc="table_line.amount_total_signed-table_line.amount_residual_signed" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.x_studio_other_charges_i"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.x_studio_special_discount_amount_i"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.amount_total_signed"/>
                                        </td>
                                        <td>
                                            <span t-field="table_line.invoice_payment_state"/>
                                        </td>
                                    </tr>
                                    <t t-set="sub_ttl" t-value="sub_ttl + table_line.amount_total_signed"/>
                                    <t t-set="sub_ttl_other_charges" t-value="sub_ttl_other_charges + table_line.x_studio_other_charges_i"/>
                                    <t t-set="sub_ttl_discount_amount" t-value="sub_ttl_discount_amount + table_line.x_studio_special_discount_amount_i"/>
                                    <t t-set="sub_ttl_due" t-value="sub_ttl_due + table_line.amount_residual_signed"/>
                                    <t t-set="sub_ttl_tax_excluded" t-value="sub_ttl_tax_excluded + table_line.amount_untaxed_signed"/>
                                    <t t-if="table_line_last">
                                        <tr>
                                            <th colspan="3">
                                                <span></span>
                                            </th>
                                            <th>
                                                <span>Sub Total</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl-sub_ttl_due" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl_other_charges" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl_discount_amount" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                    </t>
                                </t>
                            </tbody>
                            <tfooter>
                                <t t-set="total_currency_id" t-value="docs.currency_id"/>
                                <t t-set="ttl" t-value="0"/>
                                <t t-set="ttl_due" t-value="0"/>
                                <t t-set="ttl_other_charges" t-value="0"/>
                                <t t-set="ttl_discount_amount" t-value="0"/>
                                <t t-set="ttl_tax_excluded" t-value="0"/>
                                <t t-foreach="docs" t-as="table_line">
                                    <t t-set="ttl" t-value="ttl + table_line.amount_total_signed"/>
                                    <t t-set="ttl_other_charges" t-value="ttl_other_charges + table_line.x_studio_other_charges_i"/>
                                    <t t-set="ttl_discount_amount" t-value="ttl_discount_amount + table_line.x_studio_special_discount_amount_i"/>
                                    <t t-set="ttl_due" t-value="ttl_due + table_line.amount_residual_signed"/>
                                    <t t-set="ttl_tax_excluded" t-value="ttl_tax_excluded + table_line.amount_untaxed_signed"/>
                                </t>
                                <tr>
                                    <th colspan="3">
                                        <span></span>
                                    </th>
                                    <th>
                                        <span>Grand Total</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="ttl-ttl_due" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/></span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="ttl_other_charges" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/></span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="ttl_discount_amount" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/></span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                </tr>
                            </tfooter>
                        </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_sales_report_by_product_code">
        <t t-call="web.html_container">
             <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Sales Report by Product Code <t t-if="filter_post=='1'">(Cancel)</t><t t-elif="filter_post=='2'">(Draft)</t><t t-elif="filter_post=='3'">(Posted)</t></span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Invoice Date</span>
                                    </th>
                                    <th>
                                        <span>Customer Name</span>
                                    </th>
                                    <th>
                                        <span>Category</span>
                                    </th>
                                    <th>
                                        <span>Product</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Unit Price</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Discount (%)</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Net Amount</span>
                                    </th>                                
                                </tr>
                            </thead>
                            <t t-if="docs">
                            <tbody>
                                <t t-set="ttl" t-value="0"/>
                                <t t-set="sub_ttl" t-value="0"/>
                                <t t-foreach="docs" t-as="doc">
                                    <t t-set="sub_ttl" t-value="0"/>
                                    
                                    <t t-foreach="doc['temp_dtl']" t-as="table_line">
                                            <tr>
                                                <td>
                                                    <span t-if="table_line_first" t-esc="doc['date'].strftime('%m/%d/%Y')"/>
                                                </td>
                                                <td>
                                                    <span t-if="table_line_first" t-esc="doc['user'].display_name"/>
                                                </td>
                                                <td>
                                                    <span t-esc="table_line['product_cat']"/>
                                                </td>
                                                <td>
                                                    <span t-esc="table_line['sub_table_line'].product_id.display_name"/>
                                                </td>
                                                <td style="text-align:center;">
                                                    <span t-esc="table_line['sub_qty']"/>
                                                </td>
                                                <td>
                                                    <span t-esc="table_line['sub_table_line'].product_uom_id.display_name"/>
                                                </td>
                                                <td>
                                                    <span t-esc="table_line['sub_table_line'].price_unit" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-esc="table_line['sub_table_line'].discount"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-esc="table_line['sub_ttl']" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                                    <t t-set="sub_ttl" t-value="sub_ttl + table_line['sub_ttl']"/>
                                                </td>
                                            </tr>
                                <tr t-if="table_line_last">
                                    <th colspan="6">
                                        <span></span>
                                    </th>
                                    <th colspan="2">
                                        <span>Sub Total</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/></span>
                                        <t t-set="ttl" t-value="ttl+sub_ttl"/>
                                    </th>
                                </tr>
                                    </t>
                                </t>
                                
                            </tbody>
                            <tfooter>
                                <tr>
                                    <th colspan="6">
                                        <span></span>
                                    </th>
                                    <th colspan="2">
                                        <span>Grand Total</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/></span>
                                    </th>
                                </tr>
                            </tfooter>
                        </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_all_balance_listing">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>All Balance Listing</span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date : </b><t t-esc="(datetime.datetime.now()).strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Location</span>
                                    </th>
                                    <th>
                                        <span>Name</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity On Hand</span>
                                    </th>              
                                </tr>
                            </thead>
                            <t t-if="docs">
                            <tbody>
<!--                                 <t t-foreach="docs.sorted(key=lambda x: x.location_id, reverse=False)" t-as="doc">
                                    <t t-foreach="doc.quant_ids.sorted(key=lambda x: x.product_id.display_name,reverse=False)" t-as="table_line" t-if="table_line.quantity > 0 and table_line.product_id.display_name in product_ids">
                                    <tr>
                                        <td>
                                            <span t-field="table_line.location_id"/>
                                        </td>
                                        <td>
                                            <span t-field="table_line.product_id"/>
                                        </td>
                                        <td style="text-align:center;">
                                            <span t-field="table_line.product_uom_id"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-esc="table_line.quantity"/>
                                        </td>
                                    </tr>
                                    </t>
                                </t> -->
                                <t t-foreach="items" t-as="item">
                                    
                                    <tr>
                                        <td>
                                            <span t-esc="item['location']"/>
                                        </td>
                                        <td>
                                            <span t-esc="item['product_name']"/>
                                        </td>
                                        <td style="text-align:center;">
                                            <span t-esc="item['product_uom']"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-esc="item['on_hand']"/>
                                        </td>
                                    </tr>
                                </t>
                            </tbody>
                        </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_stock_valuation_info">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Stock Valuation Information</span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
<!--                         <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Stock Valuation Report for Location:</b>
                                </span>
                            </div>
                        </div> -->
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Location</span>
                                    </th>
                                    <th>
                                        <span>Name</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Price</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <t t-set="ttl" t-value="0"/>
                                
                                <tbody>
                                    <t t-foreach="docs" t-as="item">
                                        <tr>
                                            <td>
                                                <span t-esc="item['location']"/>
                                            </td>
                                            <td>
                                                <span t-esc="item['product'].display_name"/>
                                            </td>
                                            <td style="text-align:center;">
                                                <span t-esc="item['product'].uom_name"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-esc="'{0:,.2f}'.format(item['on_hand'])"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="item['product'].standard_price"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-esc="'{0:,.2f}'.format(item['amount'])"/>
                                                <t t-set="ttl" t-value="item['amount'] + ttl"/>
                                            </td>
                                            
                                        </tr>
                                    </t>
                                </tbody>
                                <tfooter>
                                    <tr>
                                        <th colspan="3">
                                            <span></span>
                                        </th>
                                        <th colspan="2">
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span><t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/></span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_sales_report_by_date">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                   <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Sales Report by Date <t t-if="filter_post=='1'">(Cancel)</t><t t-elif="filter_post=='2'">(Draft)</t><t t-elif="filter_post=='3'">(Posted)</t></span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>                                
                                    <th>
                                        <span>Invoice/Bill Date</span>
                                    </th>
                                    <th>
                                        <span>Invoice Number</span>
                                    </th>
                                    <th>
                                        <span>Client Name</span>
                                    </th>
                                    <th>
                                        <span>Product Name</span>
                                    </th>
                                    <th>
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Price</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Discount</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Net Amount</span>
                                    </th>
                                    <th>
                                        <span>Payment</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                            <t t-set="ttl" t-value="0"/>
                            <t t-foreach="docs.sorted(key=lambda x: (x.invoice_date,x.name),reverse=False)" t-as="doc">
                                <tbody>
                                    <tr>
                                        <td>
                                            <span t-esc="doc.invoice_date"/>
                                        </td>
                                        <td>
                                            <span t-field="doc.name"/>
                                        </td>
                                        <td>
                                            <span t-field="doc.partner_id.display_name"/>
                                        </td>
                                        <td colspan="3">
                                            <span t-field="doc.x_studio_category_i"/>
                                        </td>
                                        <td colspan="3">
                                            <span t-field="doc.narration"/>
                                        </td>
                                        <td style="text-align:center;">
                                            <span t-field="doc.invoice_payment_state"/>
                                        </td>
                                    </tr>
                                    <t t-set="ttl" t-value="ttl + doc.amount_total"/>
                                    <t t-foreach="doc.invoice_line_ids" t-as="table_line" t-if="table_line.name != &quot;Special Discount&quot; and table_line.name != &quot;Other Charges&quot; and table_line.quantity > 0">
                                        <tr>
                                            <td>
                                            </td>
                                            <td>
                                            </td>
                                            <td>
                                            </td>
                                            <td>
                                                <span t-field="table_line.product_id"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.quantity"/>
                                            </td>
                                            <td style="text-align:center;">
                                                <span t-field="table_line.product_uom_id"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.price_unit"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.discount"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.price_subtotal"/>
                                            </td>
                                            <td>
                                            </td>
                                        </tr>
                                    </t>
                                        <tr>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th colspan="3">
                                                <span>Sub Total:</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span t-field="doc.x_studio_subtotal_i"/>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                        <tr>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th colspan="3">
                                                <span t-esc="round(doc.x_studio_special_discount_percent_i,2)"/><span>% </span><span>Special Discount:</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span t-field="doc.x_studio_special_discount_amount_i"/>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                        <tr>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th colspan="3">
                                                <span>Other Charges:</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span t-field="doc.x_studio_other_charges_i"/>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                        <tr>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th colspan="3">
                                                <span>Total:</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span t-field="doc.amount_total"/>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                </tbody>
                            </t>
                                <tfooter>                                
                                    <tr>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th colspan="3">
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span t-esc="ttl"  t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_sales_report_by_month">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body >
                   <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                      Sales Report by Month (
                                    <t t-foreach="docs.sorted(key=lambda x:x.invoice_date,reverse=False)" t-as="date">
                                        <t t-if="date_last">
                                            <t t-esc="context_timestamp(date.invoice_date).strftime('%B %Y')"/></t>
                                    </t>)
                                    <br/>
                                </font>
                            </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <t t-if="docs">
                        <table class="table o_report_block_table" style="padding: 0.5em">
                            <thead>
                                <tr>
                                    <th>
                                        <span>No.</span>
                                    </th>
                                    <th>
                                        <span>Invoice/Bill Date</span>
                                    </th>
                                    <th>
                                        <span>Invoice Number</span>
                                    </th>
                                    <th>
                                        <span>Customer</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Total</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount Due</span>
                                    </th>
                                    <th>
                                        <span>Payment</span>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr t-foreach="docs.sorted(key=lambda x: (x.invoice_date,x.display_name),reverse=False)" t-as="table_line">
                                    <td>
                                        <span t-esc="table_line_index+1"/>.                 
                                    </td>
                                    <td>
                                        <span t-field="table_line.invoice_date"/>
                                    </td>
                                    <td>
                                        <span t-field="table_line.display_name"/>
                                    </td>
                                    <td>
                                        <span t-field="table_line.partner_id.display_name"/>
                                    </td>
                                    <td>
                                        <span t-field="table_line.amount_total_signed"/>
                                    </td>
                                    <td>
                                        <span t-field="table_line.amount_residual_signed"/>
                                    </td>
                                    <td>
                                        <span t-field="table_line.invoice_payment_state"/>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="row" style="float:right; width:50%; margin-top:1.5em;">
                            <table class="table table-sm o_report_block_total">
                                <t t-set="total_currency_id" t-value="docs.currency_id"/>
                                <t t-set="ttl" t-value="0"/>
                                <t t-set="ttl_due" t-value="0"/>
                                <t t-set="ttl_tax_excluded" t-value="0"/>
                                <t t-foreach="docs" t-as="table_line">
                                    <t t-set="ttl" t-value="ttl + table_line.amount_total_signed"/>
                                    <t t-set="ttl_due" t-value="ttl_due + table_line.amount_residual_signed"/>
                                    <t t-set="ttl_tax_excluded" t-value="ttl_tax_excluded + table_line.amount_untaxed_signed"/></t>
                                <tr class="border-black o_subtotal"></tr>
                                
                                <tr class="border-black o_total">
                                    <hr />
                                    <td>
                                        <strong>Total</strong>
                                    </td>
                                    <td style="text-align:right;">
                                        <span>
                                            <t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                        </span>
                                    </td>
                                </tr>
                                <tr class="border-black o_total">
                                    
                                    <td>
                                        <strong>Total Amount Due</strong>
                                    </td>
                                    <td style="text-align:right;">
                                        <span>
                                            <t t-esc="ttl_due" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/>
                                        </span>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        </t>
                        <t t-else="">
                            <tbody>
                                <tr>
                                    <td colspan="100" style="text-align:center; font-size: 20px;">
                                        <span>
                                            <b>No Results Found.</b>
                                        </span>
                                    </td>
                                </tr>
                            </tbody>
                        </t>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_daily_sales_report_by_date">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body >
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                      Daily Sales Report by Date <t t-if="filter_post=='1'">(Cancel)</t><t t-elif="filter_post=='2'">(Draft)</t><t t-elif="filter_post=='3'">(Posted)</t>                   
                                    <br/>
                                </font>
                            </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em">
                            <thead>
                                <tr>
                                    <th>
                                        <span>No.</span>
                                    </th>
                                    <th>
                                        <span>Date</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Paid</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Unpaid</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Total Sales</span>
                                    </th>
                                </tr>
                            </thead>
                        <t t-if="docs">
                            <tbody>
                                <t t-set="sub" t-value="0"/>
                                <t t-set="no" t-value="1"/>
                                <t t-set="sub_date" t-value=""/>
                                <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                <t t-set="total_currency_id" t-value="docs.currency_id"/>
                                <t t-set="sub_ttl" t-value="0"/>
                                <t t-set="sub_ttl_due" t-value="0"/>
                                <t t-set="ttl" t-value="0"/>
                                <t t-set="ttl_due" t-value="0"/>
                                <t t-set="temp_date" t-value=""/>
                                <t t-set="first_date" t-value=""/>
                                <t t-foreach="docs.sorted(key=lambda x: x.invoice_date,reverse=False)" t-as="table_line">
                                    <t t-set="ttl" t-value="ttl + table_line.amount_total_signed"/>
                                    <t t-set="ttl_due" t-value="ttl_due + table_line.amount_residual_signed"/>
                                    <t t-if="table_line_first">
                                        <t t-set="sub_date" t-value="table_line.invoice_date"/>
                                        <t t-set="first_date" t-value="table_line.invoice_date"/>
                                    </t>
                                    <t t-else="">
                                        <t t-if="sub_date != table_line.invoice_date">
                                            <t t-set="temp_date" t-value="sub_date"/>
                                            <t t-set="sub_date" t-value="table_line.invoice_date"/>
                                            <t t-set="sub" t-value="1"/>

                                        </t>
                                        <t t-else="">
                                            <t t-set="sub" t-value="0"/>
                                        </t>
                                    </t>
                                    <t t-if="sub==1">
                                        <tr>
                                            <td style="text-align:right;">
                                                <span t-esc="no"></span>.
                                                <span t-set="no" t-value="no + 1"></span>
                                            </td>
                                            <td>
                                                <t t-if="first_date">
                                                    <span t-esc="first_date.strftime('%m/%d/%Y')"/>
                                                    <t t-set="first_date" t-value=""/>
                                                </t>
                                                <t t-else="">
                                                    <span t-esc="temp_date.strftime('%m/%d/%Y')"/>
                                                </t>

                                            </td>
                                            <td style="text-align:right;">
                                                <span><t t-esc="abs(sub_ttl-sub_ttl_due)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </td>
                                            <td style="text-align:right;">
                                                <span><t t-esc="abs(sub_ttl_due)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </td>
                                            <td style="text-align:right;">
                                                <span><t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </td>
                                        </tr>
                                        <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                        <t t-set="sub_ttl" t-value="0"/>
                                        <t t-set="sub_ttl_due" t-value="0"/>
                                    </t>                                
                                    <t t-set="sub_ttl" t-value="sub_ttl + table_line.amount_total_signed"/>
                                    <t t-set="sub_ttl_due" t-value="sub_ttl_due + table_line.amount_residual_signed"/>
                                    <t t-if="table_line_last">
                                        <tr>
                                            <td style="text-align:right;">
                                                <span t-esc="no"></span>.
                                            </td>
                                            <td>
                                                <span t-esc="table_line.invoice_date.strftime('%m/%d/%Y')"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span><t t-esc="abs(sub_ttl-sub_ttl_due)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </td>
                                            <td style="text-align:right;">
                                                <span><t t-esc="abs(sub_ttl_due)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </td>
                                            <td style="text-align:right;">
                                                <span><t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </td>
                                        </tr>
                                    </t>
                                </t>
                            </tbody>
                            <tfooter>
                                <tr>                                    
                                    <th colspan="2">
                                        <span>Grand Total</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="abs(ttl-ttl_due)" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/></span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="abs(ttl_due)" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/></span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="abs(ttl)" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/></span>
                                    </th>
                                </tr>
                            </tfooter>
                        </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_sales_analysis_by_month_and_cust">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body >
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                      Sales Analysis Report by Month and Customer 
                                        <t t-if="filter_post=='1'">(Cancel)</t>
                                        <t t-elif="filter_post=='2'">(Draft)</t>
                                        <t t-elif="filter_post=='3'">(Posted)</t>                   
                                    <br/>
                                </font>
                            </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(s_month+'/'+s_year, '%m/%Y').strftime('%b/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(e_month+'/'+e_year, '%m/%Y').strftime('%b/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                 <t t-if="country" t-esc="country"></t><t t-if="state">, <t t-esc="state"/></t>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em">
                            <thead>
                                <tr>                                    
                                    <th>
                                        <span>Date</span>
                                    </th>
                                    <th>
                                        <span>Customer Name</span>
                                    </th>
                                    <th>
                                        <span>Category</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Total</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <tbody>  
                                    <t t-set="currency_id" t-value="docs.currency_id"/>
                                    <t t-set="ttl" t-value="0"/>
                                    <t t-foreach="user_ids" t-as="cust">
                                        <t t-foreach="dates" t-as="date">
                                            <t t-set="sub" t-value="0"/>
                                            <t t-set="sub_ttl" t-value="0"/>
                                            <t t-foreach="categories" t-as="category">
                                                <t t-set="sub_ttl" t-value="0"/>
                                                <t t-foreach="docs.filtered(lambda x: x.invoice_date.strftime('%b/%Y') == date and x.partner_id.id==cust.id and x.x_studio_category_i == category)" t-as="table_line">
                                                    <t t-set="sub_ttl" t-value="sub_ttl + table_line.amount_total_signed"/>
                                                </t>
                                                <tr t-if="sub_ttl>0">
                                                    <td>
                                                        <span t-esc="date"></span>
                                                    </td>
                                                    <td>
                                                        <span t-esc="cust.display_name"></span>
                                                    </td>
                                                    <td>
                                                        <span t-esc="category"></span>
                                                    </td>
                                                    <td style="text-align:right;">
                                                        <span><t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/></span>
                                                        <t t-set="sub" t-value="sub + sub_ttl"/>
                                                    </td>
                                                </tr>
                                            </t>
                                            <tr t-if="sub>0">
                                                <th colspan="2">
                                                </th>
                                                <th>
                                                    <span>Sub Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span><t t-esc="abs(sub)" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/></span>
                                                    <t t-set="ttl" t-value="ttl + sub"/>
                                                </th>
                                            </tr>
                                        </t>
                                    </t>
                                </tbody>
                            <tfooter>
                                <tr> 
                                    <th colspan="2">
                                    </th>
                                    <th>
                                        <span>Grand Total</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="abs(ttl)" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/></span>
                                    </th>
                                </tr>
                            </tfooter>
                        </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_purchase_inv_lst_by_inv_no">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Purchase Invoice Listing by Vendor
                                            <t t-if="filter_post=='1'">(Cancel)</t>
                                            <t t-elif="filter_post=='2'">(Draft)</t>
                                            <t t-elif="filter_post=='3'">(Posted)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>                                
                                    
                                    <th>
                                        <span>Invoice Number</span>
                                    </th>
                                    <th>
                                        <span>Recieved Date</span>
                                    </th>
                                    <th>
                                        <span>Vendor</span>
                                    </th>
                                    <th>
                                        <span>Product Name</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Purchased Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Price</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                </tr>
                            </thead>
                        <t t-if="docs">
                            <t t-set="ttl" t-value="0"/>
                            <t t-foreach="docs.sorted(key=lambda x: x.name,reverse=False)" t-as="doc">
                            <tbody>
<!--                                 <tr>
                                    <td>
                                        <span t-field="doc.name"/>
                                    </td>
                                    <td>
                                        <span t-esc="doc.invoice_date"/>
                                    </td>
                                    <td>
                                        <span t-field="doc.partner_id.display_name"/>
                                    </td>
                                    <td colspan="4">
                                        <span t-field="doc.narration"/>
                                    </td>
                                    <td style="text-align:center;">
                                    </td>
                                </tr> -->
                                <t t-set="ttl" t-value="ttl + doc.amount_total"/>
                                <t t-foreach="doc.invoice_line_ids" t-as="table_line" t-if="table_line.name != &quot;Special Discount&quot; and table_line.name != &quot;Other Charges&quot; and table_line.quantity > 0">
                                    <tr>
                                        <td>
                                            <span t-if="table_line_first" t-field="doc.name"/>
                                        </td>
                                        <td>
                                            <span t-if="table_line_first" t-esc="doc.invoice_date.strftime('%m/%d/%Y')"/>
                                        </td>
                                        <td>
                                            <span t-if="table_line_first" t-field="doc.partner_id.display_name"/>
                                        </td>
<!--                                         <td>
                                        </td>
                                        <td>
                                        </td>
                                        <td>              
                                        </td> -->
                                        <td>
                                            <span t-field="table_line.product_id"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.quantity"/>
                                        </td>
                                        <td style="text-align:center;">
                                            <span t-field="table_line.product_uom_id"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.price_unit"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.price_subtotal"/>
                                        </td>                                        
                                    </tr>
                                </t>
                                    <tr>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th colspan="4">
                                            <span>Sub Total:</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span t-field="doc.amount_total"/>
                                        </th>
                                    </tr>
                            </tbody>
                            </t>
                            <tfooter>                                
                                <tr>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th colspan="4">
                                        <span>Grand Total</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span t-esc="ttl"  t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                    </th>
                                </tr>
                            </tfooter>
                        </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_dmg_sales_rtrn_lst_by_cust_no">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Damage Sales Return Listing by Customer
                                            <t t-if="filter_post_credit=='1'"> (Cancelled)</t>
                                            <t t-elif="filter_post_credit=='2'">(Draft)</t>
                                            <t t-elif="filter_post_credit=='3'">(Posted)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Customer Name</span>
                                    </th>
                                    <th>
                                        <t t-if="filter_post_credit=='2'">
                                            <span>Created Date</span>
                                        </t>
                                        <t t-else="">
                                            <span>Inv Date</span>
                                        </t>
                                    </th>
                                    <th>
                                        <span>Return No.</span>
                                    </th>
                                    <th>
                                        <span>Category</span>
                                    </th>
                                    <th>
                                        <span>Product</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Price</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                            <t t-set="sub_name" t-value=""/>
                            <t t-set="ttl" t-value="0"/>
                            <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                            <t t-set="total_currency_id" t-value="docs.currency_id"/>
                            <t t-set="sub_ttl" t-value="0"/>
                            <t t-foreach="docs.sorted(key=lambda x: (x.invoice_partner_display_name,x.display_name),reverse=False)" t-as="doc">
                            <tbody>
                                <t t-set="sub_ttl" t-value="sub_ttl + doc.amount_total_signed"/>
                                <t t-set="ttl" t-value="ttl + doc.amount_total_signed"/>

                                <t t-foreach="doc.invoice_line_ids.sorted(key=lambda l: (-l.sequence, l.date, l.move_name, -l.id), reverse=True)" t-as="table_line">
                                    <tr>
                                        <td>
                                            <t t-if="table_line_first">
                                                <span t-field="doc.partner_id.display_name"/>
                                            </t>
                                        </td>
                                        <td>
                                            <t t-if="filter_post_credit=='2'">
                                                <t t-if="table_line_first">
                                                    <span t-esc="doc.create_date.strftime('%m/%d/%Y')"/>
                                                 </t>
                                            </t>
                                            <t t-else="">
                                                <t t-if="table_line_first">
                                                    <span t-field="doc.invoice_date"/>
                                                 </t>
                                            </t>
                                        </td>
                                        <td>
                                            <t t-if="table_line_first">
                                                <span t-field="doc.display_name"/>
                                             </t>
                                        </td>
                                        <td>
                                            <t t-if="table_line_first">
                                                <span t-field="doc.x_studio_category_i"/>
                                             </t>
                                        </td>
                                        <td>
                                            <span t-field="table_line.product_id"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.price_unit"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.quantity"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.product_uom_id"/>
                                        </td>
                                        
                                        <td style="text-align:right;">
                                            <span t-field="table_line.price_subtotal"/>
                                        </td>
                                    </tr>
                                    <tr t-if="table_line_last">
                                            <th colspan="6">
                                                <span></span>
                                            </th>
                                            <th colspan="2">
                                                <span>Sub Total</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="abs(doc.amount_total_signed)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                        </tr>
                                </t>
                            </tbody>
                            <t t-if="doc_last">
                                <tfooter>
                                    <tr>
                                        <th colspan="6">
                                            <span></span>
                                        </th>
                                        <th colspan="2">
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span><t t-esc="abs(ttl)" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/></span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                        </t>
                    </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    
    <template id="report_dmg_sales_rtrn_lst_by_product">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Damage Sales Return Listing by Product Code 
                                            <t t-if="filter_post_credit=='1'"> (Cancelled)</t>
                                            <t t-elif="filter_post_credit=='2'">(Draft)</t>
                                            <t t-elif="filter_post_credit=='3'">(Posted)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Invoice No.</span>
                                    </th>
                                    <th>
                                        <t t-if="filter_post_credit=='2'">
                                            <span>Created Date</span>
                                        </t>
                                        <t t-else="">
                                            <span>Inv Date</span>
                                        </t>
                                    </th>
                                    <th>
                                        <span>Customer Name</span>
                                    </th>
                                    <th>
                                        <span>Product</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Price</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                            
                            <tbody>
                                <t t-set="ttl" t-value="0"/>
                                <t t-set="total_currency_id" t-value="docs.currency_id"/>
                                <t t-foreach="docs.sorted(key=lambda x: (x.display_name),reverse=False)" t-as="doc">
                                <t t-set="sub" t-value="0"/>
                                <t t-set="sub_name" t-value=""/>
                                <t t-set="sub_ttl" t-value="0"/>
                                <t t-foreach="doc.invoice_line_ids" t-as="table_line" t-if="table_line.product_id.display_name in product_ids">
                                <t t-set="sub" t-value="1"/>
                                    
                                    <tr>
                                        <td>
                                            <t t-if="table_line_first">
                                                <span t-field="doc.display_name"/>
                                             </t>
                                        </td>
                                        <td>
                                            <t t-if="filter_post_credit=='2'">
                                                <t t-if="table_line_first">
                                                    <span t-esc="doc.create_date.strftime('%m/%d/%Y')"/>
                                                 </t>
                                            </t>
                                            <t t-else="">
                                                <t t-if="table_line_first">
                                                    <span t-field="doc.invoice_date"/>
                                                 </t>
                                            </t>
                                        </td>
                                        <td>
                                            <t t-if="table_line_first">
                                                <span t-field="doc.partner_id.display_name"/>
                                            </t>
                                        </td>                                        
                                        <td>
                                            <span t-field="table_line.product_id"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.price_unit"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.quantity"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.product_uom_id"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.price_subtotal"/>
                                            <t t-set="sub_ttl" t-value="sub_ttl + table_line.price_subtotal"/>
                                            <t t-set="ttl" t-value="ttl + table_line.price_subtotal"/>
                                        </td>
                                    </tr>
                                </t>
                                <tr t-if="sub > 0">
                                <t t-set="sub" t-value="0"/>
                                    
                                    <th>
                                        <span></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th colspan="2">
                                        <span>Sub Total</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/></span>
                                    </th>
                                </tr>
                                    
                                </t>
                            </tbody>
                            
                            <tfooter>
                                <t t-set="total_currency_id" t-value="docs.currency_id"/>
                                <tr>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th  colspan="2">
                                        <span>Grand Total</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="abs(ttl)" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/></span>
                                    </th>
                                </tr>
                            </tfooter>
                        </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_cash_receipt_listing_by_cust_no">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Cash Receipt Listing by Customer
                                            <t t-if="filter_post_payment=='1'">(Cancelled)</t>
                                            <t t-elif="filter_post_payment=='2'">(Draft)</t>
                                            <t t-elif="filter_post_payment=='3'">(Reconciled)</t>
                                            <t t-if="filter_post_payment=='4'">(Sent)</t>
                                            <t t-if="filter_post_payment=='5'">(Validated)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Customer Name</span>
                                    </th>
                                    <th>
                                        <span>Cash Reciept No.</span>
                                    </th>
                                    <th>
                                        <span>Receipt Date</span>
                                    </th>
                                    <th>
                                        <span>Clear Status</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                            <tbody>
                                <t t-set="sub" t-value="0"/>
                                <t t-set="sub_name" t-value=""/>
                                <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                <t t-set="sub_ttl" t-value="0"/>
                                <t t-set="ttl" t-value="0"/>
                                <t t-foreach="docs.sorted(key=lambda x: (x.partner_id.display_name,x.payment_date),reverse=False)" t-as="table_line">
                                    <t t-set="ttl" t-value="ttl+table_line.amount"/>

                                    <t t-if="table_line_first">
                                        <t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
                                    </t>
                                    <t t-else="">
                                        <t t-if="sub_name != table_line.partner_id.display_name">
                                            <t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
                                            <t t-set="sub" t-value="1"/>
                                        </t>
                                        <t t-else="">
                                            <t t-set="sub" t-value="0"/>
                                        </t>
                                    </t>
                                    <t t-if="sub==1">
                                        <tr>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th colspan="2">
                                                <span>Sub Total</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                        </tr>
                                        <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                        <t t-set="sub_ttl" t-value="0"/>
                                    </t>
                                    <tr>
                                        <td>
                                            <t t-if="table_line_first">
                                                <span t-field="table_line.partner_id.display_name"/>
                                            </t>
                                            <t t-else="">
                                                <t t-if="sub==1">
                                                   <span t-field="table_line.partner_id.display_name"/>
                                                </t>
                                                <t t-else="">
                                                    <t t-set="sub" t-value="0"/>
                                                </t>
                                            </t>                         
                                        </td>
                                        <td>
                                            <span t-field="table_line.display_name"/>
                                        </td>
                                        <td>
                                            <span t-field="table_line.payment_date"/>
                                        </td>
                                        <td>
                                            <span t-field="table_line.state"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.amount"/>
                                        </td>
                                    </tr>
                                    <t t-set="sub_ttl" t-value="sub_ttl + table_line.amount"/>
                                    <t t-if="table_line_last">
                                        <tr>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th colspan="2">
                                                <span>Sub Total</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                        </tr>
                                    </t>
                                </t>
                            </tbody>
                            
                            <tfooter>
                                <tr>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th colspan="2">
                                        <span>Grand Total</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/></span>
                                    </th>
                                </tr>
                            </tfooter>
                        </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_cash_receipt_listing_by_date">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Cash Receipt Listing by Date
                                            <t t-if="filter_post_payment=='1'">(Cancelled)</t>
                                            <t t-elif="filter_post_payment=='2'">(Draft)</t>
                                            <t t-elif="filter_post_payment=='3'">(Reconciled)</t>
                                            <t t-if="filter_post_payment=='4'">(Sent)</t>
                                            <t t-if="filter_post_payment=='5'">(Validated)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Customer Name</span>
                                    </th>
                                    <th>
                                        <span>Cash Reciept No.</span>
                                    </th>
                                    <th>
                                        <span>Receipt Date</span>
                                    </th>
                                    <th>
                                        <span>Clear Status</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Receipt Amount</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                            <tbody>
                                <t t-set="sub" t-value="0"/>
                                <t t-set="sub_name" t-value=""/>
                                <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                <t t-set="sub_ttl" t-value="0"/>
                                <t t-set="ttl" t-value="0"/>
                                <t t-foreach="docs.sorted(key=lambda x: (x.partner_id.display_name,x.payment_date),reverse=False)" t-as="table_line">
                                    <t t-set="ttl" t-value="ttl+table_line.amount"/>

                                    <t t-if="table_line_first">
                                        <t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
                                    </t>
                                    <t t-else="">
                                        <t t-if="sub_name != table_line.partner_id.display_name">
                                            <t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
                                            <t t-set="sub" t-value="1"/>
                                        </t>
                                        <t t-else="">
                                            <t t-set="sub" t-value="0"/>
                                        </t>
                                    </t>
                                    <t t-if="sub==1">
                                        <tr>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th colspan="2">
                                                <span>Sub Total</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                        </tr>
                                        <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                        <t t-set="sub_ttl" t-value="0"/>
                                    </t>
                                    <tr>
                                        <td>
                                            <t t-if="table_line_first">
                                                <span t-field="table_line.partner_id.display_name"/>
                                            </t>
                                            <t t-else="">
                                                <t t-if="sub==1">
                                                   <span t-field="table_line.partner_id.display_name"/>
                                                </t>
                                                <t t-else="">
                                                    <t t-set="sub" t-value="0"/>
                                                </t>
                                            </t>                         
                                        </td>
                                        <td>
                                            <span t-field="table_line.display_name"/>
                                        </td>
                                        <td>
                                            <span t-field="table_line.payment_date"/>
                                        </td>
                                        <td>
                                            <span t-field="table_line.state"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.amount"/>
                                        </td>
                                    </tr>
                                    <t t-set="sub_ttl" t-value="sub_ttl + table_line.amount"/>
                                    <t t-if="table_line_last">
                                        <tr>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th colspan="2">
                                                <span>Sub Total</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                        </tr>
                                    </t>
                                </t>
                            </tbody>
                            
                            <tfooter>
                                <tr>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th colspan="2">
                                        <span>Grand Total</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/></span>
                                    </th>
                                </tr>
                            </tfooter>
                        </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_cash_receipt_listing_by_r_no">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Cash Receipt Listing by Receipt No
                                            <t t-if="filter_post_payment=='1'">(Cancelled)</t>
                                            <t t-elif="filter_post_payment=='2'">(Draft)</t>
                                            <t t-elif="filter_post_payment=='3'">(Reconciled)</t>
                                            <t t-if="filter_post_payment=='4'">(Sent)</t>
                                            <t t-if="filter_post_payment=='5'">(Validated)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Receipt Date</span>
                                    </th>
                                    <th>
                                        <span>Cash Reciept No.</span>
                                    </th>
                                    <th>
                                        <span>Customer Name</span>
                                    </th>
                                    <th>
                                        <span>Clear Status</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Receipt Amount</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                            <tbody>
                                <t t-set="ttl" t-value="0"/>
                                <t t-foreach="docs.sorted(key=lambda x: (x.payment_date,x.display_name),reverse=False)" t-as="table_line">
                                    <t t-set="ttl" t-value="ttl+table_line.amount"/>
                                    <tr>
                                        <td>
                                            <span t-field="table_line.payment_date"/>
                                        </td>
                                        <td>
                                            <span t-field="table_line.display_name"/>
                                        </td>
                                        <td>
                                            <span t-field="table_line.partner_id.display_name"/>                    
                                        </td>
                                        <td>
                                            <span t-field="table_line.state"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.amount"/>
                                        </td>
                                    </tr>
                                </t>
                            </tbody>
                            
                            <tfooter>
                                <tr>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th colspan="2">
                                        <span>Grand Total</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/></span>
                                    </th>
                                </tr>
                            </tfooter>
                        </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_purchase_analysis_report_by_sup">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Purchase Analysis Report by Supplier 
                                            <t t-if="filter_post=='1'">(Cancel)</t>
                                            <t t-elif="filter_post=='2'">(Draft)</t>
                                            <t t-elif="filter_post=='3'">(Posted)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Bill Date</span>
                                    </th>
                                    <th>
                                        <span>Supplier Name</span>
                                    </th>
                                    <th>
                                        <span>Bill No.</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>Status</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                            <tbody>
                                <t t-set="sub" t-value="0"/>
                                <t t-set="sub_name" t-value=""/>
                                <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                <t t-set="sub_ttl" t-value="0"/>
                                <t t-set="ttl" t-value="0"/>
                                <t t-foreach="docs.sorted(key=lambda x: (x.invoice_partner_display_name,x.invoice_date),reverse=False)" t-as="table_line" >
                                    <t t-set="ttl" t-value="ttl+table_line.amount_total_signed"/>

                                    <t t-if="table_line_first">
                                        <t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
                                    </t>
                                    <t t-else="">
                                        <t t-if="sub_name != table_line.partner_id.display_name">
                                            <t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
                                            <t t-set="sub" t-value="1"/>
                                        </t>
                                        <t t-else="">
                                            <t t-set="sub" t-value="0"/>
                                        </t>
                                    </t>
                                    <t t-if="sub==1">
                                        <tr>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span>Sub Total</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                        <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                        <t t-set="sub_ttl" t-value="0"/>
                                    </t>
                                    
                                    <tr>
                                        <td>
                                            <span t-field="table_line.invoice_date"/>
                                        </td>
                                        <td>
                                            <t t-if="table_line_first">
                                                <span t-field="table_line.partner_id.display_name"/>
                                            </t>
                                            <t t-else="">
                                                <t t-if="sub==1">
                                                   <span t-field="table_line.partner_id.display_name"/>
                                                </t>
                                                <t t-else="">
                                                    <t t-set="sub" t-value="0"/>
                                                </t>
                                            </t>                         
                                        </td>
                                        <td>
                                            <span t-field="table_line.display_name"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-esc="abs(table_line.amount_total_signed)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/>
                                        </td>
                                        <td style="text-align:center;">
                                            <span t-field="table_line.state"/>
                                        </td>
                                        
                                    </tr>
                                    <t t-set="sub_ttl" t-value="sub_ttl + table_line.amount_total_signed"/>
                                    <t t-if="table_line_last">
                                        <tr>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span>Sub Total</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>

                                        </tr>
                                    </t>
                                </t>
                            </tbody>
                            <tfooter>
                                <tr>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th>
                                        <span>Grand Total</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="abs(ttl)" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                </tr>
                            </tfooter>
                        </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_outstanding_inv_report_by_cust">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Outstanding Invoice Report by Customer
                                            <t t-if="filter_post=='1'">(Cancel)</t>
                                            <t t-elif="filter_post=='2'">(Draft)</t>
                                            <t t-elif="filter_post=='3'">(Posted)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>                                
                                    <th>
                                        <span>Invoice/Bill Date</span>
                                    </th>
                                    <th>
                                        <span>Client Name</span>
                                    </th>
                                    <th>
                                        <span>Invoice Number</span>
                                    </th>
                                    <th>
                                        <span>Category</span>
                                    </th>
                                    <th>
                                        <span>Status</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Payment Receipt</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Damage</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Balance</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                            <tbody>
                                <t t-set="sub" t-value="0"/>
                                <t t-set="sub_name" t-value=""/>
                                <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                <t t-set="sub_ttl" t-value="0"/>
                                <t t-set="sub_ttl_due" t-value="0"/>
                                <t t-set="sub_ttl_other_charges" t-value="0"/>
                                <t t-set="sub_ttl_discount_amount" t-value="0"/>
                                <t t-set="sub_ttl_tax_excluded" t-value="0"/>
                                <t t-set="ttl" t-value="0"/>

                                <t t-foreach="docs.sorted(key=lambda x: (x.invoice_partner_display_name,x.invoice_date,x.display_name),reverse=False)" t-as="table_line"  t-if="table_line.amount_residual_signed > 0">
                                    
                                    <t t-if="table_line_first">
                                        <t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
                                    </t>
                                    <t t-else="">
                                        <t t-if="sub_name != table_line.partner_id.display_name">
                                            <t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
                                            <t t-set="sub" t-value="1"/>
                                        </t>
                                        <t t-else="">
                                            <t t-set="sub" t-value="0"/>
                                        </t>
                                    </t>
                                    <t t-if="sub==1">
                                            <tr>
                                                <th colspan="6">
                                                    <span></span>
                                                </th>
                                                <th colspan="2">
                                                    <span>Sub Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span><t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                                </th>
                                            </tr>
                                            <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                            <t t-set="sub_ttl" t-value="0"/>
                                            <t t-set="sub_ttl_due" t-value="0"/>
                                            <t t-set="sub_ttl_other_charges" t-value="0"/>
                                            <t t-set="sub_ttl_discount_amount" t-value="0"/>
                                            <t t-set="sub_ttl_tax_excluded" t-value="0"/>
                                        </t>
                                        
                                        <tr>
                                            <td>
                                                <span t-field="table_line.invoice_date"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.partner_id.display_name"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.display_name"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.x_studio_category_i"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.invoice_payment_state"/>
                                            </td>
                                            <t t-set="ttl_credit" t-value="0"/>
                                            <t t-set="ttl_payment" t-value="0"/>
                                            <t t-if="table_line.invoice_payments_widget != 'false'">
                                                <span t-foreach="json.loads(table_line.invoice_payments_widget)['content']" t-as="payment">
                                                    <span t-if="payment['name']" t-set="ttl_credit" t-value="ttl_credit + payment['amount']"/>
                                                    <span t-else="" t-set="ttl_payment" t-value="ttl_payment + payment['amount']"/>
                                                </span>
                                            </t>
                                            <td style="text-align:right;">
                                                <span  t-esc="ttl_credit" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span  t-esc="ttl_payment" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                            </td>
                                            
                                            <td style="text-align:right;">
                                                <span t-field="table_line.amount_total_signed"/>
                                                
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.amount_residual_signed"/>
                                                <t t-set="ttl" t-value="ttl + table_line.amount_residual_signed"/>
                                            </td>
                                            
                                        </tr>
                                        <t t-set="sub_ttl" t-value="sub_ttl + table_line.amount_residual_signed"/>
                                    <t t-if="table_line_last">
                                        <tr>
                                            <th colspan="6">
                                                <span></span>
                                            </th>
                                            <th colspan="2">
                                                <span>Sub Total</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                        </tr>
                                    </t>
                                </t>
                            </tbody>
                            <tfooter>
                                <tr>
                                    <th colspan="6">
                                        <span></span>
                                    </th>
                                    <th colspan="2">
                                        <span>Grand Total</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/></span>
                                    </th>
                                </tr>
                            </tfooter>
                        </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    
    <template id="report_outstanding_bill_report_by_ven">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Outstanding Bill Report by Vendor
                                            <t t-if="filter_post=='1'">(Cancel)</t>
                                            <t t-elif="filter_post=='2'">(Draft)</t>
                                            <t t-elif="filter_post=='3'">(Posted)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>                                
                                    <th>
                                        <span>Invoice/Bill Date</span>
                                    </th>
                                    <th>
                                        <span>Vendor Name</span>
                                    </th>
                                    <th>
                                        <span>Bill Number</span>
                                    </th>
                                    <th>
                                        <span>Status</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Payment</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Damage</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Balance</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                            <tbody>
                                <t t-set="sub" t-value="0"/>
                                <t t-set="sub_name" t-value=""/>
                                <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                <t t-set="sub_ttl" t-value="0"/>
                                <t t-set="sub_ttl_due" t-value="0"/>
                                <t t-set="sub_ttl_other_charges" t-value="0"/>
                                <t t-set="sub_ttl_discount_amount" t-value="0"/>
                                <t t-set="sub_ttl_tax_excluded" t-value="0"/>
                                <t t-set="ttl" t-value="0"/>

                                <t t-foreach="docs.sorted(key=lambda x: (x.invoice_partner_display_name,x.invoice_date,x.display_name),reverse=False)" t-as="table_line" t-if="abs(table_line.amount_residual_signed) > 0">
                                    
                                    <t t-if="table_line_first">
                                        <t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
                                    </t>
                                    <t t-else="">
                                        <t t-if="sub_name != table_line.partner_id.display_name">
                                            <t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
                                            <t t-set="sub" t-value="1"/>
                                        </t>
                                        <t t-else="">
                                            <t t-set="sub" t-value="0"/>
                                        </t>
                                    </t>
                                    <t t-if="sub==1">
                                            <tr>
                                                <th colspan="5">
                                                    <span></span>
                                                </th>
                                                <th colspan="2">
                                                    <span>Sub Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span><t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                                </th>
                                            </tr>
                                            <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                            <t t-set="sub_ttl" t-value="0"/>
                                        </t>
                                        
                                        <tr>
                                            <td>
                                                <span t-field="table_line.invoice_date"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.partner_id.display_name"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.display_name"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.invoice_payment_state"/>
                                            </td>
                                            <t t-set="ttl_credit" t-value="0"/>
                                            <t t-set="ttl_payment" t-value="0"/>
                                            <t t-if="table_line.invoice_payments_widget != 'false'">
                                                <span t-foreach="json.loads(table_line.invoice_payments_widget)['content']" t-as="payment">
                                                    <span t-if="payment['name']" t-set="ttl_credit" t-value="ttl_credit + payment['amount']"/>
                                                    <span t-else="" t-set="ttl_payment" t-value="ttl_payment + payment['amount']"/>
                                                </span>
                                            </t>
                                            <td style="text-align:right;">
                                                <span  t-esc="abs(ttl_credit)" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span  t-esc="abs(ttl_payment)" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                            </td>
                                            
                                            <td style="text-align:right;">
                                                <span t-esc="abs(table_line.amount_total_signed)" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                                
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-esc="abs(table_line.amount_residual_signed)" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                                <t t-set="ttl" t-value="ttl + abs(table_line.amount_residual_signed)"/>
                                            </td>
                                            
                                        </tr>
                                        <t t-set="sub_ttl" t-value="sub_ttl + abs(table_line.amount_residual_signed)"/>
                                    <t t-if="table_line_last">
                                        <tr>
                                            <th colspan="5">
                                                <span></span>
                                            </th>
                                            <th colspan="2">
                                                <span>Sub Total</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                        </tr>
                                    </t>
                                </t>
                            </tbody>
                            <tfooter>
                                <tr>
                                    <th colspan="5">
                                        <span></span>
                                    </th>
                                    <th colspan="2">
                                        <span>Grand Total</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="abs(ttl)" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/></span>
                                    </th>
                                </tr>
                            </tfooter>
                        </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    
    <template id="report_cash_payment_listing_by_lumpsum">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Cash Payment Listing by Lumpsum
                                            <t t-if="filter_post_payment=='1'">(Cancelled)</t>
                                            <t t-elif="filter_post_payment=='2'">(Draft)</t>
                                            <t t-elif="filter_post_payment=='3'">(Reconciled)</t>
                                            <t t-if="filter_post_payment=='4'">(Sent)</t>
                                            <t t-if="filter_post_payment=='5'">(Validated)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Payment No.</span>
                                    </th>
                                    <th>
                                        <span>Payment Date</span>
                                    </th>
                                    <th>
                                        <span>Name</span>
                                    </th>
                                    <th>
                                        <span>Cur</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                            <tbody>
                                <t t-set="sub" t-value="0"/>
                                <t t-set="sub_name" t-value=""/>
                                <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                <t t-set="sub_ttl" t-value="0"/>
                                <t t-set="ttl" t-value="0"/>
                                <t t-foreach="docs.sorted(key=lambda x: (x.partner_id.display_name,x.payment_date),reverse=False)" t-as="table_line">
                                    <t t-set="ttl" t-value="ttl+table_line.amount"/>

                                    <t t-if="table_line_first">
                                        <t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
                                    </t>
                                    <t t-else="">
                                        <t t-if="sub_name != table_line.partner_id.display_name">
                                            <t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
                                            <t t-set="sub" t-value="1"/>
                                        </t>
                                        <t t-else="">
                                            <t t-set="sub" t-value="0"/>
                                        </t>
                                    </t>
                                    <t t-if="sub==1">
                                        <tr>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th colspan="2">
                                                <span>Sub Total</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                        </tr>
                                        <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                        <t t-set="sub_ttl" t-value="0"/>
                                    </t>
                                    <tr>
                                        <td>
                                            <span t-field="table_line.display_name"/>
                                        </td>
                                        <td>
                                            <span t-field="table_line.payment_date"/>
                                        </td>
                                        <td>
                                            <span t-field="table_line.partner_id.display_name"/>
                                        </td>
                                        <td>
                                            <span t-field="table_line.currency_id"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.amount"/>
                                        </td>
                                    </tr>
                                    <t t-set="sub_ttl" t-value="sub_ttl + table_line.amount"/>
                                    <t t-if="table_line_last">
                                        <tr>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th colspan="2">
                                                <span>Sub Total</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                        </tr>
                                    </t>
                                </t>
                            </tbody>
                            <tfooter>
                                <tr>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th colspan="2">
                                        <span>Grand Total</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/></span>
                                    </th>
                                </tr>
                            </tfooter>
                        </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    
    <template id="report_sales_report_by_product_cat">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                   <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Sales Report by Product Category
                                            <t t-if="filter_post=='1'">(Cancel)</t>
                                            <t t-elif="filter_post=='2'">(Draft)</t>
                                            <t t-elif="filter_post=='3'">(Posted)</t></span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em">
                            <thead>
                                <tr>
                                    <th t-if='user_ids'>
                                        <span>Customer Name</span>
                                    </th>
                                    <th>
                                        <span>Product Category</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Net Amount</span>
                                    </th>
                                </tr>
                            </thead>
                        <t t-if="lst">
                            <tbody>
                                <t t-set="ttl" t-value="0"/>
                                <t t-foreach="lst" t-as="product_cats">
                                    <t t-if='user_ids'>
                                        <t t-foreach="product_cats['customer']" t-as="customer">
                                            <tr>
                                                <td>
                                                    <span t-esc="customer['sub_cust'].display_name"/>
                                                </td>
                                                <td>
                                                    <span t-esc="product_cats['product_cats_id']"/>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span t-esc="customer['sub_ttl']" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                                </td>
                                            </tr>
                                            <tr t-if="customer_last">
                                                <th>
                                                    <span></span>
                                                </th>
                                                <th>
                                                    <span>Sub Total</span>
                                                </th>
                                                <th style="text-align:right;">
                                                    <span><t t-esc="product_cats['ttl']" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/></span>
                                                    <t t-set="ttl" t-value="ttl + product_cats['ttl']"/>
                                                </th>
                                            </tr>
                                        </t>
                                    </t>
                                    <t t-else="">
                                        <tr>
                                            <td>
                                                <span t-esc="product_cats['product_cats_id']"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-esc="product_cats['ttl']" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/>
                                                <t t-set="ttl" t-value="ttl + product_cats['ttl']"/>
                                            </td>
                                        </tr>
                                    </t>
                                </t>
                            </tbody>
                            <tfooter>
                                <tr>
                                    <th  t-if='user_ids'>
                                        <span></span>
                                    </th>
                                    <th>
                                        <span>Grand Total</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/></span>
                                    </th>
                                </tr>
                            </tfooter>
                        </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    
    <template id="report_purchase_listing_by_sup">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Purchase Listing by Supplier
                                            <t t-if="filter_post=='1'">(Cancel)</t>
                                            <t t-elif="filter_post=='2'">(Draft)</t>
                                            <t t-elif="filter_post=='3'">(Posted)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Supplier Name</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                            <tbody>
                                <t t-set="sub" t-value="0"/>
                                <t t-set="sub_name" t-value=""/>
                                <t t-set="temp_name" t-value=""/>
                                <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                <t t-set="sub_ttl" t-value="0"/>
                                <t t-set="ttl" t-value="0"/>
                                <t t-foreach="docs.sorted(key=lambda x: (x.invoice_partner_display_name,x.invoice_date),reverse=False)" t-as="table_line" >
                                    <t t-set="ttl" t-value="ttl+table_line.amount_total_signed"/>

                                    <t t-if="table_line_first">
                                        <t t-set="sub_name" t-value="table_line.partner_id.id"/>
                                        <t t-set="temp_name" t-value="table_line.partner_id.display_name"/>
                                    </t>
                                    <t t-else="">
                                        <t t-if="sub_name != table_line.partner_id.id">
                                            <t t-set="sub_name" t-value="table_line.partner_id.id"/>
                                            <t t-set="sub" t-value="1"/>
                                        </t>
                                        <t t-else="">
                                            <t t-set="sub" t-value="0"/>
                                        </t>
                                    </t>
                                    <t t-if="sub==1">
                                        <tr>
                                            <td>
                                                <span t-esc="temp_name"></span>
                                            </td>
                                            <td style="text-align:right;">
                                                <span><t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </td>
                                        </tr>
                                        <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                        <t t-set="sub_ttl" t-value="0"/>
                                        <t t-set="temp_name" t-value="table_line.partner_id.display_name"/>
                                    </t>
                                    <t t-set="sub_ttl" t-value="sub_ttl + table_line.amount_total_signed"/>
                                    <t t-if="table_line_last">
                                        <tr>
                                            <td>
                                                <span t-esc="temp_name"></span>
                                            </td>
                                            <td style="text-align:right;">
                                                <span><t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </td>
                                        </tr>
                                    </t>
                                </t>
                            </tbody>
                            <tfooter>
                                <tr>
                                    <th>
                                        <span>Grand Total</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="abs(ttl)" t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/></span>
                                    </th>
                                </tr>
                            </tfooter>
                        </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_sales_analysis_by_state">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body >
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                      Sales Analysis Report by State
                                        <t t-if="filter_post=='1'">(Cancel)</t>
                                        <t t-elif="filter_post=='2'">(Draft)</t>
                                        <t t-elif="filter_post=='3'">(Posted)</t>                   
                                    <br/>
                                </font>
                            </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                 <t t-if="country" t-esc="country"></t>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em">
                            <thead>
                                <tr>                                    
                                    <th>
                                        <span>State Name</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Total</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                                <tbody>  
                                    <t t-set="currency_id" t-value="docs.currency_id"/>
                                    <t t-set="ttl" t-value="0"/>
                                    <t t-foreach="state" t-as="temp">
                                            <t t-set="sub_ttl" t-value="0"/>
                                            <t t-foreach="docs" t-as="table_line" t-if="table_line.partner_id.state_id.name==temp">
                                                <t t-set="sub_ttl" t-value="sub_ttl + table_line.amount_total_signed"/>
                                            </t>
                                            <tr>
                                                <td>
                                                    <span  t-esc="temp"></span>
                                                </td>
                                                <td style="text-align:right;">
                                                    <span><t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/></span>
                                                    <t t-set="ttl" t-value="ttl + sub_ttl"/>
                                                </td>
                                            </tr>
                                        </t>
                                    <t t-set="sub_ttl" t-value="0"/>
                                            <t t-foreach="docs" t-as="table_line" t-if="not table_line.partner_id.state_id.name">
                                                <t t-set="sub_ttl" t-value="sub_ttl + table_line.amount_total_signed"/>
                                            </t>
                                            <tr>
                                                <td>
                                                    Undefined
                                                </td>
                                                <td style="text-align:right;">
                                                    <span><t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/></span>
                                                    <t t-set="ttl" t-value="ttl + sub_ttl"/>
                                                </td>
                                            </tr>
                                </tbody>
                                
                            <tfooter>
                                <tr>
                                    <th>
                                        <span>Grand Total</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="abs(ttl)" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/></span>
                                    </th>
                                </tr>
                            </tfooter>
                        </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_sales_order_report_by_client">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Sales Order Report by Client
                                            <t t-if="filter_post_order=='1'">(Fully Invoice)</t>
                                            <t t-elif="filter_post_order=='2'">(Nothing to Invoice)</t>
                                            <t t-elif="filter_post_order=='3'">(To Invoice)</t>
                                            <t t-elif="filter_post_order=='4'">(Upselling Opportunity)</t>
                                        </span>
                                    </font>
                                </b>
                                
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Order Date</span>
                                    </th>
                                    <th>
                                        <span>Client Name</span>
                                    </th>
                                    <th>
                                        <span>Invoice Number</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Other Charges</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Discount</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                    <th>
                                        <span>Status</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                            <t t-set="total_currency_id" t-value="docs.currency_id"/>
                            <t t-set="ttl" t-value="0"/>
                            <t t-set="ttl_other_charges" t-value="0"/>
                            <t t-set="ttl_discount_amount" t-value="0"/>
                            <tbody>
                                <t t-set="sub" t-value="0"/>
                                <t t-set="sub_name" t-value=""/>
                                <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                <t t-set="sub_ttl" t-value="0"/>
                                <t t-set="sub_ttl_other_charges" t-value="0"/>
                                <t t-set="sub_ttl_discount_amount" t-value="0"/>
                                <t t-foreach="docs.sorted(key=lambda x: (x.partner_id.display_name,x.date_order.strftime('%m/%d/%Y')),reverse=False)" t-as="table_line">
                                    <t t-if="table_line_first">
                                        <t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
                                    </t>
                                    <t t-else="">
                                        <t t-if="sub_name != table_line.partner_id.display_name">
                                            <t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
                                            <t t-set="sub" t-value="1"/>
                                        </t>
                                        <t t-else="">
                                            <t t-set="sub" t-value="0"/>
                                        </t>
                                    </t>
                                    <t t-if="sub==1">
                                        <tr>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span>Sub Total</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl_other_charges" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl_discount_amount" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                        <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                        <t t-set="sub_ttl" t-value="0"/>
                                        <t t-set="sub_ttl_other_charges" t-value="0"/>
                                        <t t-set="sub_ttl_discount_amount" t-value="0"/>
                                    </t>
                                    <tr>
                                        <td>
                                            <span t-esc="table_line.date_order.strftime('%m/%d/%Y')"/>
                                        </td>
                                        <td>
                                            <t t-if="table_line_first">
                                                <span t-field="table_line.partner_id.display_name"/>
                                            </t>
                                            <t t-else="">
                                                <t t-if="sub==1">
                                                   <span t-field="table_line.partner_id.display_name"/>
                                                </t>
                                                <t t-else="">
                                                    <t t-set="sub" t-value="0"/>
                                                </t>
                                            </t>                         
                                        </td>
                                        <td>
                                            <span t-field="table_line.display_name"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.x_studio_other_charges_1"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.x_studio_special_discount_amount"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.x_studio_total"/>
                                        </td>
                                        <td>
                                            <span t-field="table_line.invoice_status"/>
                                        </td>
                                    </tr>
                                    <t t-set="sub_ttl" t-value="sub_ttl + table_line.x_studio_total"/>
                                    <t t-set="ttl" t-value="ttl + table_line.x_studio_total"/>
                                    <t t-set="sub_ttl_other_charges" t-value="sub_ttl_other_charges + table_line.x_studio_other_charges_1"/>
                                    <t t-set="sub_ttl_discount_amount" t-value="sub_ttl_discount_amount + table_line.x_studio_special_discount_amount"/>
                                    <t t-if="table_line_last">
                                        <tr>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span>Sub Total</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl_other_charges" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl_discount_amount" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>                                                
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                    </t>
                                </t>
                            </tbody>
                            <tfooter>
                                <tr>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th>
                                        <span>Grand Total</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="ttl_other_charges" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/></span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="ttl_discount_amount" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/></span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                </tr>
                            </tfooter>
                        </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_sales_order_report_by_date">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                   <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Sales Order Report by Date
                                            <t t-if="filter_post_order=='1'">(Fully Invoice)</t>
                                            <t t-elif="filter_post_order=='2'">(Nothing to Invoice)</t>
                                            <t t-elif="filter_post_order=='3'">(To Invoice)</t>
                                            <t t-elif="filter_post_order=='4'">(Upselling Opportunity)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>                                
                                    <th>
                                        <span>Order Date</span>
                                    </th>
                                    <th>
                                        <span>Invoice Number</span>
                                    </th>
                                    <th>
                                        <span>Client Name</span>
                                    </th>
                                    <th>
                                        <span>Product Name</span>
                                    </th>
                                    <th>
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Price</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Discount</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Net Amount</span>
                                    </th>
                                    <th>
                                        <span>Status</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                            <t t-set="ttl" t-value="0"/>
                            <t t-foreach="docs.sorted(key=lambda x: (x.date_order.strftime('%m/%d/%Y'),x.name),reverse=False)" t-as="doc">
                                <tbody>
                                    <tr>
                                        <td>
                                            <span t-esc="doc.date_order.strftime('%m/%d/%Y')"/>
                                        </td>
                                        <td>
                                            <span t-field="doc.name"/>
                                        </td>
                                        <td>
                                            <span t-field="doc.partner_id.display_name"/>
                                        </td>
                                        <td colspan="6">
                                            <span t-field="doc.note"/>
                                        </td>
                                        <td style="text-align:center;">
                                            <span t-field="doc.invoice_status"/>
                                        </td>
                                    </tr>
                                    <t t-set="ttl" t-value="ttl + doc.x_studio_total"/>
                                    <t t-foreach="doc.order_line" t-as="table_line" t-if="table_line.name != &quot;Special Discount&quot; and table_line.name != &quot;Other Charges&quot; and table_line.product_uom_qty > 0">
                                        <tr>
                                            <td colspan="3">
                                            </td>
                                            <td>
                                                <span t-field="table_line.product_id"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.product_uom_qty"/>
                                            </td>
                                            <td style="text-align:center;">
                                                <span t-field="table_line.product_uom"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.price_unit"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.discount"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.price_subtotal"/>
                                            </td>
                                            <td>
                                            </td>
                                        </tr>
                                    </t>
                                        <tr>
                                            <th colspan="5">
                                                <span></span>
                                            </th>
                                            <th colspan="3">
                                                <span>Sub Total:</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span t-field="doc.x_studio_subtotal_1"/>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                        <tr>
                                            <th colspan="5">
                                                <span></span>
                                            </th>
                                            <th colspan="3">
                                                <span t-esc="round(doc.x_studio_special_discount_percent,2)"/><span>% </span><span>Special Discount:</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span t-field="doc.x_studio_special_discount_amount"/>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                        <tr>
                                            <th colspan="5">
                                                <span></span>
                                            </th>
                                            <th colspan="3">
                                                <span>Other Charges:</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span t-field="doc.x_studio_other_charges_1"/>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                        <tr>
                                            <th colspan="5">
                                                <span></span>
                                            </th>
                                            <th colspan="3">
                                                <span>Total:</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span t-field="doc.x_studio_total"/>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                </tbody>
                            </t>
                                <tfooter>                                
                                    <tr>
                                        <th colspan="5">
                                            <span></span>
                                        </th>
                                        <th colspan="3">
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span t-esc="ttl"  t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_sales_quot_report_by_client">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Sales Quotations Report by Client
                                            <t t-if="filter_post_quot=='1'">(Cancelled)</t>
                                            <t t-elif="filter_post_quot=='2'">(Locked)</t>
                                            <t t-elif="filter_post_quot=='3'">(Quotation)</t>
                                            <t t-elif="filter_post_quot=='4'">(Quotation Sent)</t>
                                            <t t-elif="filter_post_quot=='5'">(Sales Order)</t>
                                        </span>
                                    </font>
                                </b>
                                
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Create Date</span>
                                    </th>
                                    <th>
                                        <span>Client Name</span>
                                    </th>
                                    <th>
                                        <span>Invoice Number</span>
                                    </th>
                                    <th>
                                        <span>Category</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Other Charges</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Discount</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                    <th>
                                        <span>Status</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                            <t t-set="total_currency_id" t-value="docs.currency_id"/>
                            <t t-set="ttl" t-value="0"/>
                            <t t-set="ttl_other_charges" t-value="0"/>
                            <t t-set="ttl_discount_amount" t-value="0"/>
                            <tbody>
                                <t t-set="sub" t-value="0"/>
                                <t t-set="sub_name" t-value=""/>
                                <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                <t t-set="sub_ttl" t-value="0"/>
                                <t t-set="sub_ttl_other_charges" t-value="0"/>
                                <t t-set="sub_ttl_discount_amount" t-value="0"/>
                                <t t-foreach="docs.sorted(key=lambda x: (x.partner_id.display_name,x.create_date.strftime('%m/%d/%Y')),reverse=False)" t-as="table_line">
                                    <t t-if="table_line_first">
                                        <t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
                                    </t>
                                    <t t-else="">
                                        <t t-if="sub_name != table_line.partner_id.display_name">
                                            <t t-set="sub_name" t-value="table_line.partner_id.display_name"/>
                                            <t t-set="sub" t-value="1"/>
                                        </t>
                                        <t t-else="">
                                            <t t-set="sub" t-value="0"/>
                                        </t>
                                    </t>
                                    <t t-if="sub==1">
                                        <tr>
                                            <th colspan="2">
                                                <span></span>
                                            </th>
                                            <th colspan="2">
                                                <span>Sub Total</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl_other_charges" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl_discount_amount" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                        <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                                        <t t-set="sub_ttl" t-value="0"/>
                                        <t t-set="sub_ttl_other_charges" t-value="0"/>
                                        <t t-set="sub_ttl_discount_amount" t-value="0"/>
                                    </t>
                                    <tr>
                                        <td>
                                            <span t-esc="table_line.create_date.strftime('%m/%d/%Y')"/>
                                        </td>
                                        <td>
                                            <t t-if="table_line_first">
                                                <span t-field="table_line.partner_id.display_name"/>
                                            </t>
                                            <t t-else="">
                                                <t t-if="sub==1">
                                                   <span t-field="table_line.partner_id.display_name"/>
                                                </t>
                                                <t t-else="">
                                                    <t t-set="sub" t-value="0"/>
                                                </t>
                                            </t>                         
                                        </td>
                                        <td>
                                            <span t-field="table_line.display_name"/>
                                        </td>
                                        <td>
                                            <span t-field="table_line.x_studio_category"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.x_studio_other_charges_1"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.x_studio_special_discount_amount"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.x_studio_total"/>
                                        </td>
                                        <td>
                                            <span t-field="table_line.state"/>
                                        </td>
                                    </tr>
                                    <t t-set="sub_ttl" t-value="sub_ttl + table_line.x_studio_total"/>
                                    <t t-set="ttl" t-value="ttl + table_line.x_studio_total"/>
                                    <t t-set="sub_ttl_other_charges" t-value="sub_ttl_other_charges + table_line.x_studio_other_charges_1"/>
                                    <t t-set="sub_ttl_discount_amount" t-value="sub_ttl_discount_amount + table_line.x_studio_special_discount_amount"/>
                                    <t t-if="table_line_last">
                                        <tr>
                                            <th colspan="2">
                                                <span></span>
                                            </th>
                                            <th colspan="2">
                                                <span>Sub Total</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl_other_charges" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl_discount_amount" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>                                                
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                    </t>
                                </t>
                            </tbody>
                            <tfooter>
                                <tr>
                                    <th colspan="2">
                                        <span></span>
                                    </th>
                                    <th colspan="2">
                                        <span>Grand Total</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="ttl_other_charges" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/></span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="ttl_discount_amount" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/></span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                </tr>
                            </tfooter>
                        </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_sales_quot_report_by_date">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                   <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Sales Quotations Report by Date
                                            <t t-if="filter_post_quot=='1'">(Cancelled)</t>
                                            <t t-elif="filter_post_quot=='2'">(Locked)</t>
                                            <t t-elif="filter_post_quot=='3'">(Quotation)</t>
                                            <t t-elif="filter_post_quot=='4'">(Quotation Sent)</t>
                                            <t t-elif="filter_post_quot=='5'">(Sales Order)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>                                
                                    <th>
                                        <span>Create Date</span>
                                    </th>
                                    <th>
                                        <span>Invoice Number</span>
                                    </th>
                                    <th>
                                        <span>Client Name</span>
                                    </th>
                                    <th>
                                        <span>Product Name</span>
                                    </th>
                                    <th>
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Price</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Discount</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Net Amount</span>
                                    </th>
                                    <th>
                                        <span>Status</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                            <t t-set="ttl" t-value="0"/>
                            <t t-foreach="docs.sorted(key=lambda x: (x.create_date.strftime('%m/%d/%Y'),x.name),reverse=False)" t-as="doc">
                                <tbody>
                                    <tr>
                                        <td>
                                            <span t-esc="doc.create_date.strftime('%m/%d/%Y')"/>
                                        </td>
                                        <td>
                                            <span t-field="doc.name"/>
                                        </td>
                                        <td>
                                            <span t-field="doc.partner_id.display_name"/>
                                        </td>
                                        <td colspan="6">
                                            <span t-field="doc.note"/>
                                        </td>
                                        <td style="text-align:center;">
                                            <span t-field="doc.state"/>
                                        </td>
                                    </tr>
                                    <t t-set="ttl" t-value="ttl + doc.x_studio_total"/>
                                    <t t-foreach="doc.order_line" t-as="table_line" t-if="table_line.name != &quot;Special Discount&quot; and table_line.name != &quot;Other Charges&quot; and table_line.product_uom_qty > 0">
                                        <tr>
                                            <td>
                                            </td>
                                            <td>
                                            </td>
                                            <td>                 
                                            </td>
                                            <td>
                                                <span t-field="table_line.product_id"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.product_uom_qty"/>
                                            </td>
                                            <td style="text-align:center;">
                                                <span t-field="table_line.product_uom"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.price_unit"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.discount"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.price_subtotal"/>
                                            </td>                                            
                                            <td style="text-align:center;">
                                            </td>
                                        </tr>
                                    </t>
                                        <tr>
                                            <th colspan="5">
                                                <span></span>
                                            </th>
                                            <th colspan="3">
                                                <span>Sub Total:</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span t-field="doc.x_studio_subtotal_1"/>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                        <tr>
                                            <th colspan="5">
                                                <span></span>
                                            </th>
                                            <th colspan="3">
                                                <span t-esc="round(doc.x_studio_special_discount_percent,2)"/><span>% </span><span>Special Discount:</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span t-field="doc.x_studio_special_discount_amount"/>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                        <tr>
                                            <th colspan="5">
                                                <span></span>
                                            </th>
                                            <th colspan="3">
                                                <span>Other Charges:</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span t-field="doc.x_studio_other_charges_1"/>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                        <tr>
                                            <th colspan="5">
                                                <span></span>
                                            </th>
                                            <th colspan="3">
                                                <span>Total:</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span t-field="doc.x_studio_total"/>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                </tbody>
                            </t>
                                <tfooter>                                
                                    <tr>
                                        <th colspan="5">
                                            <span></span>
                                        </th>
                                        <th colspan="3">
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span t-esc="ttl"  t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_sales_quot_report_by_p_code">
        <t t-call="web.html_container">
             <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Sales Quotations Report by Product Code
                                            <t t-if="filter_post_quot=='1'">(Cancelled)</t>
                                            <t t-elif="filter_post_quot=='2'">(Locked)</t>
                                            <t t-elif="filter_post_quot=='3'">(Quotation)</t>
                                            <t t-elif="filter_post_quot=='4'">(Quotation Sent)</t>
                                            <t t-elif="filter_post_quot=='5'">(Sales Order)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Create Date</span>
                                    </th>
                                    <th>
                                        <span>Customer Name</span>
                                    </th>
                                    <th>
                                        <span>Invoice Number</span>
                                    </th>
                                    <th>
                                        <span>Category</span>
                                    </th>
                                    <th>
                                        <span>Product</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Unit Price</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Discount (%)</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Net Amount</span>
                                    </th>                                
                                </tr>
                            </thead>
                            <t t-if="docs">
                            <tbody>
                                <t t-set="sub" t-value="1"/>
                                <t t-set="sub_date" t-value=""/>
                                <t t-set="currency_id" t-value="docs.currency_id"/>
                                <t t-set="sub_ttl" t-value="0"/>
                                <t t-set="ttl" t-value="0"/>
                                <t t-set="product" t-value="0"/>
                                <t t-foreach="docs.sorted(key=lambda x:(x.create_date.strftime('%m/%d/%Y'),x.partner_id.display_name),reverse=False)" t-as="doc">
                                    <t t-if="doc_first">
                                        <t t-set="sub_date" t-value="doc.create_date.strftime('%m/%d/%Y')"/>
                                        <t t-set="sub" t-value="0"/>
                                    </t>
                                    <t t-if="sub_date != doc.create_date.strftime('%m/%d/%Y') and sub_ttl > 0">
                                        <tr>
                                            <th colspan="7">
                                                <span></span>
                                            </th>
                                            <th colspan="2">
                                                <span>Sub Total</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/></span>
                                            </th>
                                        </tr>
                                        <t t-set="sub_ttl" t-value="0"/>
                                        <t t-set="product" t-value="0"/>
                                        <t t-set="sub_date" t-value="doc.create_date.strftime('%m/%d/%Y')"/>
                                        <t t-set="sub" t-value="1"/>
                                    </t>
                                    <t t-else="">
                                        <t t-set="sub" t-value="0"/>
                                    </t>
                                    <t t-foreach="doc.order_line.filtered(lambda x:x.name != &quot;Special Discount&quot; and x.name != &quot;Other Charges&quot; and x.product_id.id in product_ids and x.product_id.categ_id.id in product_cats_ids and x.product_uom_qty > 0)" t-as="table_line">
                                        <tr>
                                            <td>
                                                <t t-if="table_line_first">
                                                    <span t-esc="doc.create_date.strftime('%m/%d/%Y')"/>
                                                </t>
                                            </td>
                                            <td>
                                                <t t-if="table_line_first">
                                                    <span t-field="doc.partner_id.display_name"/>
                                                </t>                  
                                            </td>
                                            <td>
                                                <t t-if="table_line_first">
                                                    <span t-field="doc.display_name"/>
                                                </t>                  
                                            </td>
                                            <td>
                                                <span t-field="table_line.product_id.categ_id.display_name"/>
                                            </td>
                                            <td>
                                                <span t-field="table_line.product_id"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.product_uom_qty"/>
                                            </td>
                                            <td style="text-align:center;">
                                                <span t-field="table_line.product_uom"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.price_unit"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.discount"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.price_subtotal"/>
                                                <t t-set="sub_ttl" t-value="sub_ttl + table_line.price_subtotal"/>
                                                <t t-set="ttl" t-value="ttl + sub_ttl"/>
                                            </td>
                                            <t t-if="sub==1">
                                                <t t-set="sub" t-value="0"/>
                                            </t>
                                        </tr>
                                    </t>
                                    <t t-if="doc_last and sub_ttl > 0">
                                        <tr if="sub_ttl>0">
                                            <th colspan="7">
                                                <span></span>
                                            </th>
                                            <th colspan="2">
                                                <span>Sub Total</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="sub_ttl" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/></span>
                                            </th>
                                        </tr>
                                    </t>
                                </t>
                            </tbody>
                            <tfooter>
                                <tr>
                                    <th colspan="7">
                                        <span></span>
                                    </th>
                                    <th colspan="2">
                                        <span>Grand Total</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="ttl" t-options="{'widget': 'monetary', 'display_currency': currency_id}"/></span>
                                    </th>
                                </tr>
                            </tfooter>
                        </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_refund_lst_by_product_code">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Refund Listing by Product Code 
                                            <t t-if="filter_post_credit=='1'"> (Cancelled)</t>
                                            <t t-elif="filter_post_credit=='2'">(Draft)</t>
                                            <t t-elif="filter_post_credit=='3'">(Posted)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Invoice No.</span>
                                    </th>
                                    <th>
                                        <span>Inv Date</span>
                                    </th>
                                    <th>
                                        <span>Customer Name</span>
                                    </th>
                                    <th>
                                        <span>Product</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Price</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                            
                            <tbody>
                                <t t-set="ttl" t-value="0"/>
                                <t t-set="total_currency_id" t-value="docs.currency_id"/>
                                <t t-foreach="docs.sorted(key=lambda x: (x.display_name),reverse=False)" t-as="doc">
                                <t t-set="sub" t-value="0"/>
                                <t t-set="sub_name" t-value=""/>
                                <t t-set="sub_ttl" t-value="0"/>
                                <t t-foreach="doc.invoice_line_ids" t-as="table_line" t-if="table_line.product_id.display_name in product_ids">
                                <t t-set="sub" t-value="1"/>
                                    
                                    <tr>
                                        <td>
                                            <t t-if="table_line_first">
                                                <span t-field="doc.display_name"/>
                                             </t>
                                        </td>
                                        <td>
                                            <t t-if="table_line_first">
                                                <span t-field="doc.invoice_date"/>
                                             </t>
                                        </td>
                                        <td>
                                            <t t-if="table_line_first">
                                                <span t-field="doc.partner_id.display_name"/>
                                            </t>
                                        </td>                                        
                                        <td>
                                            <span t-field="table_line.product_id"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.price_unit"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.quantity"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.product_uom_id"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.price_subtotal"/>
                                            <t t-set="sub_ttl" t-value="sub_ttl + table_line.price_subtotal"/>
                                            <t t-set="ttl" t-value="ttl + table_line.price_subtotal"/>
                                        </td>
                                    </tr>
                                </t>
                                <tr t-if="sub > 0">
                                    <t t-set="sub" t-value="0"/>
                                    
                                    <th>
                                        <span></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th colspan="2">
                                        <span>Sub Total</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="abs(sub_ttl)" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/></span>
                                    </th>
                                </tr>
                                    
                                </t>
                            </tbody>
                            
                            <tfooter>
                                <t t-set="total_currency_id" t-value="docs.currency_id"/>
                                <tr>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th>
                                        <span></span>
                                    </th>
                                    <th  colspan="2">
                                        <span>Grand Total</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span><t t-esc="abs(ttl)" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/></span>
                                    </th>
                                </tr>
                            </tfooter>
                        </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_refund_lst_by_vendor">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">
                                        <span>Refund Listing by Vendor
                                            <t t-if="filter_post_credit=='1'"> (Cancelled)</t>
                                            <t t-elif="filter_post_credit=='2'">(Draft)</t>
                                            <t t-elif="filter_post_credit=='3'">(Posted)</t>
                                        </span>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>
                                    <th>
                                        <span>Vendor Name</span>
                                    </th>
                                    <th>
                                        <span>Inv Date</span>
                                    </th>
                                    <th>
                                        <span>Return No.</span>
                                    </th>
                                    <th>
                                        <span>Product</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Price</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Amount</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                            <t t-set="sub_name" t-value=""/>
                            <t t-set="ttl" t-value="0"/>
                            <t t-set="sub_total_currency_id" t-value="docs.currency_id"/>
                            <t t-set="total_currency_id" t-value="docs.currency_id"/>
                            <t t-set="sub_ttl" t-value="0"/>
                            <t t-foreach="docs.sorted(key=lambda x: (x.invoice_partner_display_name,x.display_name),reverse=False)" t-as="doc">
                            <tbody>
                                <t t-set="sub_ttl" t-value="sub_ttl + doc.amount_total_signed"/>
                                <t t-set="ttl" t-value="ttl + doc.amount_total_signed"/>

                                <t t-foreach="doc.invoice_line_ids.sorted(key=lambda l: (-l.sequence, l.date, l.move_name, -l.id), reverse=True)" t-as="table_line">
                                    <tr>
                                        <td>
                                            <t t-if="table_line_first">
                                                <span t-field="doc.partner_id.display_name"/>
                                            </t>
                                        </td>
                                        <td>
                                            <t t-if="table_line_first">
                                                <span t-field="doc.invoice_date"/>
                                             </t>
                                        </td>
                                        <td>
                                            <t t-if="table_line_first">
                                                <span t-field="doc.display_name"/>
                                             </t>
                                        </td>
                                        <td>
                                            <span t-field="table_line.product_id"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.price_unit"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.quantity"/>
                                        </td>
                                        <td style="text-align:right;">
                                            <span t-field="table_line.product_uom_id"/>
                                        </td>
                                        
                                        <td style="text-align:right;">
                                            <span t-field="table_line.price_subtotal"/>
                                        </td>
                                    </tr>
                                    <tr t-if="table_line_last">
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                            <th colspan="2">
                                                <span>Sub Total</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span><t t-esc="abs(doc.amount_total_signed)" t-options="{'widget': 'monetary', 'display_currency': sub_total_currency_id}"/></span>
                                            </th>
                                        </tr>
                                </t>
                            </tbody>
                            <t t-if="doc_last">
                                <tfooter>
                                    <tr>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                        <th colspan="2">
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span><t t-esc="abs(ttl)" t-options="{'widget': 'monetary', 'display_currency': total_currency_id}"/></span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                        </t>
                    </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
    <template id="report_purchase_order_report_by_date">
        <t t-call="web.html_container">
            <html t-att-lang="lang and lang.replace('_', '-')" t-att-data-report-margin-top="data_report_margin_top" t-att-data-report-header-spacing="data_report_header_spacing" t-att-data-report-dpi="data_report_dpi" t-att-data-report-landscape="data_report_landscape" t-att-web-base-url="web_base_url">
                <head>
                    <meta charset="utf-8"/>
                    <meta name="viewport" content="initial-scale=1"/>
                    <title>
                        <t t-esc="title or 'Odoo Report'"/>
                    </title>
                    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
                    <link rel='stylesheet' href="/popular_reports/static/src/css/style.css"/>
                    <t t-call-assets="web.report_assets_common" t-js="false"/>
                    <t t-call-assets="web.assets_common" t-css="false"/>
                    <t t-call-assets="web.report_assets_common" t-css="false"/>
                    <t t-if="studio" t-call-assets="web_studio.report_assets"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail.report_assets_snailmail"/>
                    <t t-if="env and env.context.get('snailmail_layout')" t-call-assets="snailmail_account_followup.followup_report_assets_snailmail"/>

                </head>
                <body>
                    <div class="container-fluid" id="wrapwrap">
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 30px;">
                                        <span t-esc="env.company.name"/>
                                    </font>
                                </b>
                            </div>
                        </div>
                        <div class="row" style="text-align:center;">
                            <div class="col">
                                <b>
                                    <font style="font-size: 24px;">       
                                        <span>Purchase Order Report by Date
                                            <t t-if="filter_post_pur_order=='cancel'">(Cancelled)</t>
                                            <t t-elif="filter_post_pur_order=='done'">(Locked)</t>
                                            <t t-elif="filter_post_pur_order=='draft'">(RFQ)</t>
                                            <t t-elif="filter_post_pur_order=='purchase'">(Purchase Order)</t>
                                            <t t-elif="filter_post_pur_order=='sent'">(RFQ Sent)</t>
                                            <t t-elif="filter_post_pur_order=='to approve'">(To Approve)</t>
<!--                                             <t t-if="filter_post_pur_order=='invoiced'">(Fully Billed)</t>
                                            <t t-elif="filter_post_pur_order=='no'">(Nothing to Bill)</t>
                                            <t t-elif="filter_post_pur_order=='to invoice'">(Waiting to Bills)</t> -->
                                        </span>
                                    </font>
                                </b>
                                
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="text-align:center; font-size: 20px;">
                            <div class="col">
                                <span>
                                    <b>Date From : </b><t t-esc="datetime.datetime.strptime(start_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                                <span>
                                    <b>To : </b><t t-esc="datetime.datetime.strptime(end_date, '%Y-%m-%d').strftime('%m/%d/%Y')"/>
                                </span>
                            </div>
                        </div>
                        <br/>
                        <table class="table o_report_block_table" style="padding: 0.5em; font-size: 13px;">
                            <thead>
                                <tr>                                
                                    <th>
                                        <span>Order Date</span>
                                    </th>
                                    <th>
                                        <span>PO Number</span>
                                    </th>
                                    <th>
                                        <span>Vendor Name</span>
                                    </th>
                                    <th>
                                        <span>Drop Ship Address</span>
                                    </th>
                                    <th>
                                        <span>Product Name</span>
                                    </th>
                                    <th>
                                        <span>Quantity</span>
                                    </th>
                                    <th style="text-align:center;">
                                        <span>UM</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Price</span>
                                    </th>
                                    <th style="text-align:right;">
                                        <span>Net Amount</span>
                                    </th>
                                    <th>
                                        <span>Status</span>
                                    </th>
                                </tr>
                            </thead>
                            <t t-if="docs">
                            <t t-set="ttl" t-value="0"/>
                            <t t-foreach="docs.sorted(key=lambda x: (x.date_order.strftime('%m/%d/%Y'),x.name),reverse=False)" t-as="doc">
                                <tbody>
                                    <t t-set="ttl" t-value="ttl + doc.amount_total"/>
                                    <t t-foreach="doc.order_line" t-as="table_line" t-if="table_line.name != &quot;Special Discount&quot; and table_line.name != &quot;Other Charges&quot;">
                                        <tr>
                                            <td>
                                                <t t-if="table_line_first">
                                                    <span t-esc="doc.date_order.strftime('%m/%d/%Y')"/>
                                                </t>
                                            </td>
                                            <td>
                                                <t t-if="table_line_first">
                                                    <span t-field="doc.name"/>
                                                </t>
                                            </td>
                                            <td>
                                                <t t-if="table_line_first">
                                                    <span t-field="doc.partner_id.display_name"/>
                                                </t>                  
                                            </td>
                                            <td>
                                                <t t-if="table_line_first">
                                                    <span t-field="doc.dest_address_id"/>
                                                </t>                  
                                            </td>
                                            <td>
                                                <span t-field="table_line.product_id"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.product_uom_qty"/>
                                            </td>
                                            <td style="text-align:center;">
                                                <span t-field="table_line.product_uom"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.price_unit"/>
                                            </td>
                                            <td style="text-align:right;">
                                                <span t-field="table_line.price_subtotal"/>
                                            </td>
                                            
                                            <td style="text-align:center;">
                                                <t t-if="table_line_first">
                                                    <span t-field="doc.state"/>
                                                </t>
                                            </td>
                                        </tr>
                                    </t>
                                        <tr>
                                            <th colspan="5">
                                                <span></span>
                                            </th>
                                            <th colspan="3">
                                                <span>Total:</span>
                                            </th>
                                            <th style="text-align:right;">
                                                <span t-field="doc.amount_total"/>
                                            </th>
                                            <th>
                                                <span></span>
                                            </th>
                                        </tr>
                                </tbody>
                            </t>
                                <tfooter>                                
                                    <tr>
                                        <th colspan="5">
                                            <span></span>
                                        </th>
                                        <th colspan="3">
                                            <span>Grand Total</span>
                                        </th>
                                        <th style="text-align:right;">
                                            <span t-esc="ttl"  t-options="{'widget': 'monetary', 'display_currency': docs.currency_id}"/>
                                        </th>
                                        <th>
                                            <span></span>
                                        </th>
                                    </tr>
                                </tfooter>
                            </t>
                            <t t-else="">
                                <tbody>
                                    <tr>
                                        <td colspan="100" style="text-align:center; font-size: 20px;">
                                            <span>
                                                <b>No Results Found.</b>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </t>
                        </table>
                    </div>
                    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
                    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
                </body>
            </html>
        </t>
    </template>
</odoo>